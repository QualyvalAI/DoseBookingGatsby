!function(e,t){for(var r in t)e[r]=t[r]}(exports,function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=91)}([function(e,t){e.exports={options:{usePureJavaScript:!1}}},function(e,t,r){var n=r(0),i=r(134),s=e.exports=n.util=n.util||{};function a(e){if(8!==e&&16!==e&&24!==e&&32!==e)throw new Error("Only 8, 16, 24, or 32 bits supported: "+e)}function o(e){if(this.data="",this.read=0,"string"==typeof e)this.data=e;else if(s.isArrayBuffer(e)||s.isArrayBufferView(e))if("undefined"!=typeof Buffer&&e instanceof Buffer)this.data=e.toString("binary");else{var t=new Uint8Array(e);try{this.data=String.fromCharCode.apply(null,t)}catch(e){for(var r=0;r<t.length;++r)this.putByte(t[r])}}else(e instanceof o||"object"==typeof e&&"string"==typeof e.data&&"number"==typeof e.read)&&(this.data=e.data,this.read=e.read);this._constructedStringLength=0}!function(){if("undefined"!=typeof process&&process.nextTick&&!process.browser)return s.nextTick=process.nextTick,void("function"==typeof setImmediate?s.setImmediate=setImmediate:s.setImmediate=s.nextTick);if("function"==typeof setImmediate)return s.setImmediate=function(){return setImmediate.apply(void 0,arguments)},void(s.nextTick=function(e){return setImmediate(e)});if(s.setImmediate=function(e){setTimeout(e,0)},"undefined"!=typeof window&&"function"==typeof window.postMessage){var e="forge.setImmediate",t=[];s.setImmediate=function(r){t.push(r),1===t.length&&window.postMessage(e,"*")},window.addEventListener("message",(function(r){if(r.source===window&&r.data===e){r.stopPropagation();var n=t.slice();t.length=0,n.forEach((function(e){e()}))}}),!0)}if("undefined"!=typeof MutationObserver){var r=Date.now(),n=!0,i=document.createElement("div");t=[];new MutationObserver((function(){var e=t.slice();t.length=0,e.forEach((function(e){e()}))})).observe(i,{attributes:!0});var a=s.setImmediate;s.setImmediate=function(e){Date.now()-r>15?(r=Date.now(),a(e)):(t.push(e),1===t.length&&i.setAttribute("a",n=!n))}}s.nextTick=s.setImmediate}(),s.isNodejs="undefined"!=typeof process&&process.versions&&process.versions.node,s.globalScope=s.isNodejs?global:"undefined"==typeof self?window:self,s.isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},s.isArrayBuffer=function(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer},s.isArrayBufferView=function(e){return e&&s.isArrayBuffer(e.buffer)&&void 0!==e.byteLength},s.ByteBuffer=o,s.ByteStringBuffer=o;s.ByteStringBuffer.prototype._optimizeConstructedString=function(e){this._constructedStringLength+=e,this._constructedStringLength>4096&&(this.data.substr(0,1),this._constructedStringLength=0)},s.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read},s.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0},s.ByteStringBuffer.prototype.putByte=function(e){return this.putBytes(String.fromCharCode(e))},s.ByteStringBuffer.prototype.fillWithByte=function(e,t){e=String.fromCharCode(e);for(var r=this.data;t>0;)1&t&&(r+=e),(t>>>=1)>0&&(e+=e);return this.data=r,this._optimizeConstructedString(t),this},s.ByteStringBuffer.prototype.putBytes=function(e){return this.data+=e,this._optimizeConstructedString(e.length),this},s.ByteStringBuffer.prototype.putString=function(e){return this.putBytes(s.encodeUtf8(e))},s.ByteStringBuffer.prototype.putInt16=function(e){return this.putBytes(String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},s.ByteStringBuffer.prototype.putInt24=function(e){return this.putBytes(String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},s.ByteStringBuffer.prototype.putInt32=function(e){return this.putBytes(String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},s.ByteStringBuffer.prototype.putInt16Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255))},s.ByteStringBuffer.prototype.putInt24Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255))},s.ByteStringBuffer.prototype.putInt32Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>24&255))},s.ByteStringBuffer.prototype.putInt=function(e,t){a(t);var r="";do{t-=8,r+=String.fromCharCode(e>>t&255)}while(t>0);return this.putBytes(r)},s.ByteStringBuffer.prototype.putSignedInt=function(e,t){return e<0&&(e+=2<<t-1),this.putInt(e,t)},s.ByteStringBuffer.prototype.putBuffer=function(e){return this.putBytes(e.getBytes())},s.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},s.ByteStringBuffer.prototype.getInt16=function(){var e=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,e},s.ByteStringBuffer.prototype.getInt24=function(){var e=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,e},s.ByteStringBuffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,e},s.ByteStringBuffer.prototype.getInt16Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,e},s.ByteStringBuffer.prototype.getInt24Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,e},s.ByteStringBuffer.prototype.getInt32Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,e},s.ByteStringBuffer.prototype.getInt=function(e){a(e);var t=0;do{t=(t<<8)+this.data.charCodeAt(this.read++),e-=8}while(e>0);return t},s.ByteStringBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t},s.ByteStringBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):0===e?t="":(t=0===this.read?this.data:this.data.slice(this.read),this.clear()),t},s.ByteStringBuffer.prototype.bytes=function(e){return void 0===e?this.data.slice(this.read):this.data.slice(this.read,this.read+e)},s.ByteStringBuffer.prototype.at=function(e){return this.data.charCodeAt(this.read+e)},s.ByteStringBuffer.prototype.setAt=function(e,t){return this.data=this.data.substr(0,this.read+e)+String.fromCharCode(t)+this.data.substr(this.read+e+1),this},s.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},s.ByteStringBuffer.prototype.copy=function(){var e=s.createBuffer(this.data);return e.read=this.read,e},s.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this},s.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this},s.ByteStringBuffer.prototype.truncate=function(e){var t=Math.max(0,this.length()-e);return this.data=this.data.substr(this.read,t),this.read=0,this},s.ByteStringBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.length;++t){var r=this.data.charCodeAt(t);r<16&&(e+="0"),e+=r.toString(16)}return e},s.ByteStringBuffer.prototype.toString=function(){return s.decodeUtf8(this.bytes())},s.DataBuffer=function(e,t){t=t||{},this.read=t.readOffset||0,this.growSize=t.growSize||1024;var r=s.isArrayBuffer(e),n=s.isArrayBufferView(e);if(r||n)return this.data=r?new DataView(e):new DataView(e.buffer,e.byteOffset,e.byteLength),void(this.write="writeOffset"in t?t.writeOffset:this.data.byteLength);this.data=new DataView(new ArrayBuffer(0)),this.write=0,null!=e&&this.putBytes(e),"writeOffset"in t&&(this.write=t.writeOffset)},s.DataBuffer.prototype.length=function(){return this.write-this.read},s.DataBuffer.prototype.isEmpty=function(){return this.length()<=0},s.DataBuffer.prototype.accommodate=function(e,t){if(this.length()>=e)return this;t=Math.max(t||this.growSize,e);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+t);return n.set(r),this.data=new DataView(n.buffer),this},s.DataBuffer.prototype.putByte=function(e){return this.accommodate(1),this.data.setUint8(this.write++,e),this},s.DataBuffer.prototype.fillWithByte=function(e,t){this.accommodate(t);for(var r=0;r<t;++r)this.data.setUint8(e);return this},s.DataBuffer.prototype.putBytes=function(e,t){if(s.isArrayBufferView(e)){var r=(n=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)).byteLength-n.byteOffset;return this.accommodate(r),new Uint8Array(this.data.buffer,this.write).set(n),this.write+=r,this}if(s.isArrayBuffer(e)){var n=new Uint8Array(e);return this.accommodate(n.byteLength),new Uint8Array(this.data.buffer).set(n,this.write),this.write+=n.byteLength,this}if(e instanceof s.DataBuffer||"object"==typeof e&&"number"==typeof e.read&&"number"==typeof e.write&&s.isArrayBufferView(e.data)){n=new Uint8Array(e.data.byteLength,e.read,e.length());return this.accommodate(n.byteLength),new Uint8Array(e.data.byteLength,this.write).set(n),this.write+=n.byteLength,this}if(e instanceof s.ByteStringBuffer&&(e=e.data,t="binary"),t=t||"binary","string"==typeof e){var i;if("hex"===t)return this.accommodate(Math.ceil(e.length/2)),i=new Uint8Array(this.data.buffer,this.write),this.write+=s.binary.hex.decode(e,i,this.write),this;if("base64"===t)return this.accommodate(3*Math.ceil(e.length/4)),i=new Uint8Array(this.data.buffer,this.write),this.write+=s.binary.base64.decode(e,i,this.write),this;if("utf8"===t&&(e=s.encodeUtf8(e),t="binary"),"binary"===t||"raw"===t)return this.accommodate(e.length),i=new Uint8Array(this.data.buffer,this.write),this.write+=s.binary.raw.decode(i),this;if("utf16"===t)return this.accommodate(2*e.length),i=new Uint16Array(this.data.buffer,this.write),this.write+=s.text.utf16.encode(i),this;throw new Error("Invalid encoding: "+t)}throw Error("Invalid parameter: "+e)},s.DataBuffer.prototype.putBuffer=function(e){return this.putBytes(e),e.clear(),this},s.DataBuffer.prototype.putString=function(e){return this.putBytes(e,"utf16")},s.DataBuffer.prototype.putInt16=function(e){return this.accommodate(2),this.data.setInt16(this.write,e),this.write+=2,this},s.DataBuffer.prototype.putInt24=function(e){return this.accommodate(3),this.data.setInt16(this.write,e>>8&65535),this.data.setInt8(this.write,e>>16&255),this.write+=3,this},s.DataBuffer.prototype.putInt32=function(e){return this.accommodate(4),this.data.setInt32(this.write,e),this.write+=4,this},s.DataBuffer.prototype.putInt16Le=function(e){return this.accommodate(2),this.data.setInt16(this.write,e,!0),this.write+=2,this},s.DataBuffer.prototype.putInt24Le=function(e){return this.accommodate(3),this.data.setInt8(this.write,e>>16&255),this.data.setInt16(this.write,e>>8&65535,!0),this.write+=3,this},s.DataBuffer.prototype.putInt32Le=function(e){return this.accommodate(4),this.data.setInt32(this.write,e,!0),this.write+=4,this},s.DataBuffer.prototype.putInt=function(e,t){a(t),this.accommodate(t/8);do{t-=8,this.data.setInt8(this.write++,e>>t&255)}while(t>0);return this},s.DataBuffer.prototype.putSignedInt=function(e,t){return a(t),this.accommodate(t/8),e<0&&(e+=2<<t-1),this.putInt(e,t)},s.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)},s.DataBuffer.prototype.getInt16=function(){var e=this.data.getInt16(this.read);return this.read+=2,e},s.DataBuffer.prototype.getInt24=function(){var e=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,e},s.DataBuffer.prototype.getInt32=function(){var e=this.data.getInt32(this.read);return this.read+=4,e},s.DataBuffer.prototype.getInt16Le=function(){var e=this.data.getInt16(this.read,!0);return this.read+=2,e},s.DataBuffer.prototype.getInt24Le=function(){var e=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,e},s.DataBuffer.prototype.getInt32Le=function(){var e=this.data.getInt32(this.read,!0);return this.read+=4,e},s.DataBuffer.prototype.getInt=function(e){a(e);var t=0;do{t=(t<<8)+this.data.getInt8(this.read++),e-=8}while(e>0);return t},s.DataBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t},s.DataBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):0===e?t="":(t=0===this.read?this.data:this.data.slice(this.read),this.clear()),t},s.DataBuffer.prototype.bytes=function(e){return void 0===e?this.data.slice(this.read):this.data.slice(this.read,this.read+e)},s.DataBuffer.prototype.at=function(e){return this.data.getUint8(this.read+e)},s.DataBuffer.prototype.setAt=function(e,t){return this.data.setUint8(e,t),this},s.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)},s.DataBuffer.prototype.copy=function(){return new s.DataBuffer(this)},s.DataBuffer.prototype.compact=function(){if(this.read>0){var e=new Uint8Array(this.data.buffer,this.read),t=new Uint8Array(e.byteLength);t.set(e),this.data=new DataView(t),this.write-=this.read,this.read=0}return this},s.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this},s.DataBuffer.prototype.truncate=function(e){return this.write=Math.max(0,this.length()-e),this.read=Math.min(this.read,this.write),this},s.DataBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.byteLength;++t){var r=this.data.getUint8(t);r<16&&(e+="0"),e+=r.toString(16)}return e},s.DataBuffer.prototype.toString=function(e){var t=new Uint8Array(this.data,this.read,this.length());if("binary"===(e=e||"utf8")||"raw"===e)return s.binary.raw.encode(t);if("hex"===e)return s.binary.hex.encode(t);if("base64"===e)return s.binary.base64.encode(t);if("utf8"===e)return s.text.utf8.decode(t);if("utf16"===e)return s.text.utf16.decode(t);throw new Error("Invalid encoding: "+e)},s.createBuffer=function(e,t){return t=t||"raw",void 0!==e&&"utf8"===t&&(e=s.encodeUtf8(e)),new s.ByteBuffer(e)},s.fillString=function(e,t){for(var r="";t>0;)1&t&&(r+=e),(t>>>=1)>0&&(e+=e);return r},s.xorBytes=function(e,t,r){for(var n="",i="",s="",a=0,o=0;r>0;--r,++a)i=e.charCodeAt(a)^t.charCodeAt(a),o>=10&&(n+=s,s="",o=0),s+=String.fromCharCode(i),++o;return n+=s},s.hexToBytes=function(e){var t="",r=0;for(!0&e.length&&(r=1,t+=String.fromCharCode(parseInt(e[0],16)));r<e.length;r+=2)t+=String.fromCharCode(parseInt(e.substr(r,2),16));return t},s.bytesToHex=function(e){return s.createBuffer(e).toHex()},s.int32ToBytes=function(e){return String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e)};var u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],l="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";s.encode64=function(e,t){for(var r,n,i,s="",a="",o=0;o<e.length;)r=e.charCodeAt(o++),n=e.charCodeAt(o++),i=e.charCodeAt(o++),s+=u.charAt(r>>2),s+=u.charAt((3&r)<<4|n>>4),isNaN(n)?s+="==":(s+=u.charAt((15&n)<<2|i>>6),s+=isNaN(i)?"=":u.charAt(63&i)),t&&s.length>t&&(a+=s.substr(0,t)+"\r\n",s=s.substr(t));return a+=s},s.decode64=function(e){e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var t,r,n,i,s="",a=0;a<e.length;)t=c[e.charCodeAt(a++)-43],r=c[e.charCodeAt(a++)-43],n=c[e.charCodeAt(a++)-43],i=c[e.charCodeAt(a++)-43],s+=String.fromCharCode(t<<2|r>>4),64!==n&&(s+=String.fromCharCode((15&r)<<4|n>>2),64!==i&&(s+=String.fromCharCode((3&n)<<6|i)));return s},s.encodeUtf8=function(e){return unescape(encodeURIComponent(e))},s.decodeUtf8=function(e){return decodeURIComponent(escape(e))},s.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:i.encode,decode:i.decode}},s.binary.raw.encode=function(e){return String.fromCharCode.apply(null,e)},s.binary.raw.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(e.length));for(var i=r=r||0,s=0;s<e.length;++s)n[i++]=e.charCodeAt(s);return t?i-r:n},s.binary.hex.encode=s.bytesToHex,s.binary.hex.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(Math.ceil(e.length/2)));var i=0,s=r=r||0;for(1&e.length&&(i=1,n[s++]=parseInt(e[0],16));i<e.length;i+=2)n[s++]=parseInt(e.substr(i,2),16);return t?s-r:n},s.binary.base64.encode=function(e,t){for(var r,n,i,s="",a="",o=0;o<e.byteLength;)r=e[o++],n=e[o++],i=e[o++],s+=u.charAt(r>>2),s+=u.charAt((3&r)<<4|n>>4),isNaN(n)?s+="==":(s+=u.charAt((15&n)<<2|i>>6),s+=isNaN(i)?"=":u.charAt(63&i)),t&&s.length>t&&(a+=s.substr(0,t)+"\r\n",s=s.substr(t));return a+=s},s.binary.base64.decode=function(e,t,r){var n,i,s,a,o=t;o||(o=new Uint8Array(3*Math.ceil(e.length/4))),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var u=0,l=r=r||0;u<e.length;)n=c[e.charCodeAt(u++)-43],i=c[e.charCodeAt(u++)-43],s=c[e.charCodeAt(u++)-43],a=c[e.charCodeAt(u++)-43],o[l++]=n<<2|i>>4,64!==s&&(o[l++]=(15&i)<<4|s>>2,64!==a&&(o[l++]=(3&s)<<6|a));return t?l-r:o.subarray(0,l)},s.binary.base58.encode=function(e,t){return s.binary.baseN.encode(e,l,t)},s.binary.base58.decode=function(e,t){return s.binary.baseN.decode(e,l,t)},s.text={utf8:{},utf16:{}},s.text.utf8.encode=function(e,t,r){e=s.encodeUtf8(e);var n=t;n||(n=new Uint8Array(e.length));for(var i=r=r||0,a=0;a<e.length;++a)n[i++]=e.charCodeAt(a);return t?i-r:n},s.text.utf8.decode=function(e){return s.decodeUtf8(String.fromCharCode.apply(null,e))},s.text.utf16.encode=function(e,t,r){var n=t;n||(n=new Uint8Array(2*e.length));for(var i=new Uint16Array(n.buffer),s=r=r||0,a=r,o=0;o<e.length;++o)i[a++]=e.charCodeAt(o),s+=2;return t?s-r:n},s.text.utf16.decode=function(e){return String.fromCharCode.apply(null,new Uint16Array(e.buffer))},s.deflate=function(e,t,r){if(t=s.decode64(e.deflate(s.encode64(t)).rval),r){var n=2;32&t.charCodeAt(1)&&(n=6),t=t.substring(n,t.length-4)}return t},s.inflate=function(e,t,r){var n=e.inflate(s.encode64(t)).rval;return null===n?null:s.decode64(n)};var f=function(e,t,r){if(!e)throw new Error("WebStorage not available.");var n;if(null===r?n=e.removeItem(t):(r=s.encode64(JSON.stringify(r)),n=e.setItem(t,r)),void 0!==n&&!0!==n.rval){var i=new Error(n.error.message);throw i.id=n.error.id,i.name=n.error.name,i}},h=function(e,t){if(!e)throw new Error("WebStorage not available.");var r=e.getItem(t);if(e.init)if(null===r.rval){if(r.error){var n=new Error(r.error.message);throw n.id=r.error.id,n.name=r.error.name,n}r=null}else r=r.rval;return null!==r&&(r=JSON.parse(s.decode64(r))),r},p=function(e,t,r,n){var i=h(e,t);null===i&&(i={}),i[r]=n,f(e,t,i)},d=function(e,t,r){var n=h(e,t);return null!==n&&(n=r in n?n[r]:null),n},g=function(e,t,r){var n=h(e,t);if(null!==n&&r in n){delete n[r];var i=!0;for(var s in n){i=!1;break}i&&(n=null),f(e,t,n)}},y=function(e,t){f(e,t,null)},m=function(e,t,r){var n,i=null;void 0===r&&(r=["web","flash"]);var s=!1,a=null;for(var o in r){n=r[o];try{if("flash"===n||"both"===n){if(null===t[0])throw new Error("Flash local storage not available.");i=e.apply(this,t),s="flash"===n}"web"!==n&&"both"!==n||(t[0]=localStorage,i=e.apply(this,t),s=!0)}catch(e){a=e}if(s)break}if(!s)throw a;return i};s.setItem=function(e,t,r,n,i){m(p,arguments,i)},s.getItem=function(e,t,r,n){return m(d,arguments,n)},s.removeItem=function(e,t,r,n){m(g,arguments,n)},s.clearItems=function(e,t,r){m(y,arguments,r)},s.parseUrl=function(e){var t=/^(https?):\/\/([^:&^\/]*):?(\d*)(.*)$/g;t.lastIndex=0;var r=t.exec(e),n=null===r?null:{full:e,scheme:r[1],host:r[2],port:r[3],path:r[4]};return n&&(n.fullHost=n.host,n.port?(80!==n.port&&"http"===n.scheme||443!==n.port&&"https"===n.scheme)&&(n.fullHost+=":"+n.port):"http"===n.scheme?n.port=80:"https"===n.scheme&&(n.port=443),n.full=n.scheme+"://"+n.fullHost),n};var v=null;s.getQueryVariables=function(e){var t,r=function(e){for(var t={},r=e.split("&"),n=0;n<r.length;n++){var i,s,a=r[n].indexOf("=");a>0?(i=r[n].substring(0,a),s=r[n].substring(a+1)):(i=r[n],s=null),i in t||(t[i]=[]),i in Object.prototype||null===s||t[i].push(unescape(s))}return t};return void 0===e?(null===v&&(v="undefined"!=typeof window&&window.location&&window.location.search?r(window.location.search.substring(1)):{}),t=v):t=r(e),t},s.parseFragment=function(e){var t=e,r="",n=e.indexOf("?");n>0&&(t=e.substring(0,n),r=e.substring(n+1));var i=t.split("/");return i.length>0&&""===i[0]&&i.shift(),{pathString:t,queryString:r,path:i,query:""===r?{}:s.getQueryVariables(r)}},s.makeRequest=function(e){var t=s.parseFragment(e),r={path:t.pathString,query:t.queryString,getPath:function(e){return void 0===e?t.path:t.path[e]},getQuery:function(e,r){var n;return void 0===e?n=t.query:(n=t.query[e])&&void 0!==r&&(n=n[r]),n},getQueryLast:function(e,t){var n=r.getQuery(e);return n?n[n.length-1]:t}};return r},s.makeLink=function(e,t,r){e=jQuery.isArray(e)?e.join("/"):e;var n=jQuery.param(t||{});return r=r||"",e+(n.length>0?"?"+n:"")+(r.length>0?"#"+r:"")},s.isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},s.format=function(e){for(var t,r,n=/%./g,i=0,s=[],a=0;t=n.exec(e);){(r=e.substring(a,n.lastIndex-2)).length>0&&s.push(r),a=n.lastIndex;var o=t[0][1];switch(o){case"s":case"o":i<arguments.length?s.push(arguments[1+i++]):s.push("<?>");break;case"%":s.push("%");break;default:s.push("<%"+o+"?>")}}return s.push(e.substring(a)),s.join("")},s.formatNumber=function(e,t,r,n){var i=e,s=isNaN(t=Math.abs(t))?2:t,a=void 0===r?",":r,o=void 0===n?".":n,u=i<0?"-":"",c=parseInt(i=Math.abs(+i||0).toFixed(s),10)+"",l=c.length>3?c.length%3:0;return u+(l?c.substr(0,l)+o:"")+c.substr(l).replace(/(\d{3})(?=\d)/g,"$1"+o)+(s?a+Math.abs(i-c).toFixed(s).slice(2):"")},s.formatSize=function(e){return e=e>=1073741824?s.formatNumber(e/1073741824,2,".","")+" GiB":e>=1048576?s.formatNumber(e/1048576,2,".","")+" MiB":e>=1024?s.formatNumber(e/1024,0)+" KiB":s.formatNumber(e,0)+" bytes"},s.bytesFromIP=function(e){return-1!==e.indexOf(".")?s.bytesFromIPv4(e):-1!==e.indexOf(":")?s.bytesFromIPv6(e):null},s.bytesFromIPv4=function(e){if(4!==(e=e.split(".")).length)return null;for(var t=s.createBuffer(),r=0;r<e.length;++r){var n=parseInt(e[r],10);if(isNaN(n))return null;t.putByte(n)}return t.getBytes()},s.bytesFromIPv6=function(e){for(var t=0,r=2*(8-(e=e.split(":").filter((function(e){return 0===e.length&&++t,!0}))).length+t),n=s.createBuffer(),i=0;i<8;++i)if(e[i]&&0!==e[i].length){var a=s.hexToBytes(e[i]);a.length<2&&n.putByte(0),n.putBytes(a)}else n.fillWithByte(0,r),r=0;return n.getBytes()},s.bytesToIP=function(e){return 4===e.length?s.bytesToIPv4(e):16===e.length?s.bytesToIPv6(e):null},s.bytesToIPv4=function(e){if(4!==e.length)return null;for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t.join(".")},s.bytesToIPv6=function(e){if(16!==e.length)return null;for(var t=[],r=[],n=0,i=0;i<e.length;i+=2){for(var a=s.bytesToHex(e[i]+e[i+1]);"0"===a[0]&&"0"!==a;)a=a.substr(1);if("0"===a){var o=r[r.length-1],u=t.length;o&&u===o.end+1?(o.end=u,o.end-o.start>r[n].end-r[n].start&&(n=r.length-1)):r.push({start:u,end:u})}t.push(a)}if(r.length>0){var c=r[n];c.end-c.start>0&&(t.splice(c.start,c.end-c.start+1,""),0===c.start&&t.unshift(""),7===c.end&&t.push(""))}return t.join(":")},s.estimateCores=function(e,t){if("function"==typeof e&&(t=e,e={}),e=e||{},"cores"in s&&!e.update)return t(null,s.cores);if("undefined"!=typeof navigator&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return s.cores=navigator.hardwareConcurrency,t(null,s.cores);if("undefined"==typeof Worker)return s.cores=1,t(null,s.cores);if("undefined"==typeof Blob)return s.cores=2,t(null,s.cores);var r=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",(function(e){for(var t=Date.now(),r=t+4;Date.now()<r;);self.postMessage({st:t,et:r})}))}.toString(),")()"],{type:"application/javascript"}));!function e(n,i,a){if(0===i){var o=Math.floor(n.reduce((function(e,t){return e+t}),0)/n.length);return s.cores=Math.max(1,o),URL.revokeObjectURL(r),t(null,s.cores)}!function(e,t){for(var n=[],i=[],s=0;s<e;++s){var a=new Worker(r);a.addEventListener("message",(function(r){if(i.push(r.data),i.length===e){for(var s=0;s<e;++s)n[s].terminate();t(null,i)}})),n.push(a)}for(s=0;s<e;++s)n[s].postMessage(s)}(a,(function(t,r){n.push(function(e,t){for(var r=[],n=0;n<e;++n)for(var i=t[n],s=r[n]=[],a=0;a<e;++a)if(n!==a){var o=t[a];(i.st>o.st&&i.st<o.et||o.st>i.st&&o.st<i.et)&&s.push(a)}return r.reduce((function(e,t){return Math.max(e,t.length)}),0)}(a,r)),e(n,i-1,a)}))}([],5,16)}},function(e,t){e.exports=require("stream")},function(e,t,r){"use strict";var n=r(78),i=Object.prototype.toString;function s(e){return"[object Array]"===i.call(e)}function a(e){return void 0===e}function o(e){return null!==e&&"object"==typeof e}function u(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function c(e){return"[object Function]"===i.call(e)}function l(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),s(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:s,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:o,isPlainObject:u,isUndefined:a,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:c,isStream:function(e){return o(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:l,merge:function e(){var t={};function r(r,n){u(t[n])&&u(r)?t[n]=e(t[n],r):u(r)?t[n]=e({},r):s(r)?t[n]=r.slice():t[n]=r}for(var n=0,i=arguments.length;n<i;n++)l(arguments[n],r);return t},extend:function(e,t,r){return l(t,(function(t,i){e[i]=r&&"function"==typeof t?n(t,r):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},function(e,t,r){var n=r(0);r(9),r(65),r(66),r(1),n.random&&n.random.getBytes?e.exports=n.random:function(t){var r={},i=new Array(4),s=n.util.createBuffer();function a(){var e=n.prng.create(r);return e.getBytes=function(t,r){return e.generate(t,r)},e.getBytesSync=function(t){return e.generate(t)},e}r.formatKey=function(e){var t=n.util.createBuffer(e);return(e=new Array(4))[0]=t.getInt32(),e[1]=t.getInt32(),e[2]=t.getInt32(),e[3]=t.getInt32(),n.aes._expandKey(e,!1)},r.formatSeed=function(e){var t=n.util.createBuffer(e);return(e=new Array(4))[0]=t.getInt32(),e[1]=t.getInt32(),e[2]=t.getInt32(),e[3]=t.getInt32(),e},r.cipher=function(e,t){return n.aes._updateBlock(e,t,i,!1),s.putInt32(i[0]),s.putInt32(i[1]),s.putInt32(i[2]),s.putInt32(i[3]),s.getBytes()},r.increment=function(e){return++e[3],e},r.md=n.md.sha256;var o=a(),u=null,c=n.util.globalScope,l=c.crypto||c.msCrypto;if(l&&l.getRandomValues&&(u=function(e){return l.getRandomValues(e)}),n.options.usePureJavaScript||!n.util.isNodejs&&!u){if("undefined"==typeof window||window.document,o.collectInt(+new Date,32),"undefined"!=typeof navigator){var f="";for(var h in navigator)try{"string"==typeof navigator[h]&&(f+=navigator[h])}catch(e){}o.collect(f),f=null}t&&(t().mousemove((function(e){o.collectInt(e.clientX,16),o.collectInt(e.clientY,16)})),t().keypress((function(e){o.collectInt(e.charCode,8)})))}if(n.random)for(var h in o)n.random[h]=o[h];else n.random=o;n.random.createInstance=a,e.exports=n.random}("undefined"!=typeof jQuery?jQuery:null)},function(e,t,r){var n=r(0);r(1),r(10);var i=e.exports=n.asn1=n.asn1||{};function s(e,t,r){if(r>t){var n=new Error("Too few bytes to parse DER.");throw n.available=e.length(),n.remaining=t,n.requested=r,n}}i.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192},i.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30},i.create=function(e,t,r,s,a){if(n.util.isArray(s)){for(var o=[],u=0;u<s.length;++u)void 0!==s[u]&&o.push(s[u]);s=o}var c={tagClass:e,type:t,constructed:r,composed:r||n.util.isArray(s),value:s};return a&&"bitStringContents"in a&&(c.bitStringContents=a.bitStringContents,c.original=i.copy(c)),c},i.copy=function(e,t){var r;if(n.util.isArray(e)){r=[];for(var s=0;s<e.length;++s)r.push(i.copy(e[s],t));return r}return"string"==typeof e?e:(r={tagClass:e.tagClass,type:e.type,constructed:e.constructed,composed:e.composed,value:i.copy(e.value,t)},t&&!t.excludeBitStringContents&&(r.bitStringContents=e.bitStringContents),r)},i.equals=function(e,t,r){if(n.util.isArray(e)){if(!n.util.isArray(t))return!1;if(e.length!==t.length)return!1;for(var s=0;s<e.length;++s)if(!i.equals(e[s],t[s]))return!1;return!0}if(typeof e!=typeof t)return!1;if("string"==typeof e)return e===t;var a=e.tagClass===t.tagClass&&e.type===t.type&&e.constructed===t.constructed&&e.composed===t.composed&&i.equals(e.value,t.value);return r&&r.includeBitStringContents&&(a=a&&e.bitStringContents===t.bitStringContents),a},i.getBerValueLength=function(e){var t=e.getByte();if(128!==t)return 128&t?e.getInt((127&t)<<3):t};i.fromDer=function(e,t){return void 0===t&&(t={strict:!0,decodeBitStrings:!0}),"boolean"==typeof t&&(t={strict:t,decodeBitStrings:!0}),"strict"in t||(t.strict=!0),"decodeBitStrings"in t||(t.decodeBitStrings=!0),"string"==typeof e&&(e=n.util.createBuffer(e)),function e(t,r,n,a){var o;s(t,r,2);var u=t.getByte();r--;var c=192&u,l=31&u;o=t.length();var f,h,p=function(e,t){var r=e.getByte();if(t--,128!==r){var n;if(128&r){var i=127&r;s(e,t,i),n=e.getInt(i<<3)}else n=r;if(n<0)throw new Error("Negative length: "+n);return n}}(t,r);if(r-=o-t.length(),void 0!==p&&p>r){if(a.strict){var d=new Error("Too few bytes to read ASN.1 value.");throw d.available=t.length(),d.remaining=r,d.requested=p,d}p=r}var g=32==(32&u);if(g)if(f=[],void 0===p)for(;;){if(s(t,r,2),t.bytes(2)===String.fromCharCode(0,0)){t.getBytes(2),r-=2;break}o=t.length(),f.push(e(t,r,n+1,a)),r-=o-t.length()}else for(;p>0;)o=t.length(),f.push(e(t,p,n+1,a)),r-=o-t.length(),p-=o-t.length();void 0===f&&c===i.Class.UNIVERSAL&&l===i.Type.BITSTRING&&(h=t.bytes(p));if(void 0===f&&a.decodeBitStrings&&c===i.Class.UNIVERSAL&&l===i.Type.BITSTRING&&p>1){var y=t.read,m=r,v=0;if(l===i.Type.BITSTRING&&(s(t,r,1),v=t.getByte(),r--),0===v)try{o=t.length();var C={verbose:a.verbose,strict:!0,decodeBitStrings:!0},E=e(t,r,n+1,C),b=o-t.length();r-=b,l==i.Type.BITSTRING&&b++;var S=E.tagClass;b!==p||S!==i.Class.UNIVERSAL&&S!==i.Class.CONTEXT_SPECIFIC||(f=[E])}catch(e){}void 0===f&&(t.read=y,r=m)}if(void 0===f){if(void 0===p){if(a.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");p=r}if(l===i.Type.BMPSTRING)for(f="";p>0;p-=2)s(t,r,2),f+=String.fromCharCode(t.getInt16()),r-=2;else f=t.getBytes(p)}var w=void 0===h?null:{bitStringContents:h};return i.create(c,l,g,f,w)}(e,e.length(),0,t)},i.toDer=function(e){var t=n.util.createBuffer(),r=e.tagClass|e.type,s=n.util.createBuffer(),a=!1;if("bitStringContents"in e&&(a=!0,e.original&&(a=i.equals(e,e.original))),a)s.putBytes(e.bitStringContents);else if(e.composed){e.constructed?r|=32:s.putByte(0);for(var o=0;o<e.value.length;++o)void 0!==e.value[o]&&s.putBuffer(i.toDer(e.value[o]))}else if(e.type===i.Type.BMPSTRING)for(o=0;o<e.value.length;++o)s.putInt16(e.value.charCodeAt(o));else e.type===i.Type.INTEGER&&e.value.length>1&&(0===e.value.charCodeAt(0)&&0==(128&e.value.charCodeAt(1))||255===e.value.charCodeAt(0)&&128==(128&e.value.charCodeAt(1)))?s.putBytes(e.value.substr(1)):s.putBytes(e.value);if(t.putByte(r),s.length()<=127)t.putByte(127&s.length());else{var u=s.length(),c="";do{c+=String.fromCharCode(255&u),u>>>=8}while(u>0);t.putByte(128|c.length);for(o=c.length-1;o>=0;--o)t.putByte(c.charCodeAt(o))}return t.putBuffer(s),t},i.oidToDer=function(e){var t,r,i,s,a=e.split("."),o=n.util.createBuffer();o.putByte(40*parseInt(a[0],10)+parseInt(a[1],10));for(var u=2;u<a.length;++u){t=!0,r=[],i=parseInt(a[u],10);do{s=127&i,i>>>=7,t||(s|=128),r.push(s),t=!1}while(i>0);for(var c=r.length-1;c>=0;--c)o.putByte(r[c])}return o},i.derToOid=function(e){var t;"string"==typeof e&&(e=n.util.createBuffer(e));var r=e.getByte();t=Math.floor(r/40)+"."+r%40;for(var i=0;e.length()>0;)i<<=7,128&(r=e.getByte())?i+=127&r:(t+="."+(i+r),i=0);return t},i.utcTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,2),10);r=r>=50?1900+r:2e3+r;var n=parseInt(e.substr(2,2),10)-1,i=parseInt(e.substr(4,2),10),s=parseInt(e.substr(6,2),10),a=parseInt(e.substr(8,2),10),o=0;if(e.length>11){var u=e.charAt(10),c=10;"+"!==u&&"-"!==u&&(o=parseInt(e.substr(10,2),10),c+=2)}if(t.setUTCFullYear(r,n,i),t.setUTCHours(s,a,o,0),c&&("+"===(u=e.charAt(c))||"-"===u)){var l=60*parseInt(e.substr(c+1,2),10)+parseInt(e.substr(c+4,2),10);l*=6e4,"+"===u?t.setTime(+t-l):t.setTime(+t+l)}return t},i.generalizedTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,4),10),n=parseInt(e.substr(4,2),10)-1,i=parseInt(e.substr(6,2),10),s=parseInt(e.substr(8,2),10),a=parseInt(e.substr(10,2),10),o=parseInt(e.substr(12,2),10),u=0,c=0,l=!1;"Z"===e.charAt(e.length-1)&&(l=!0);var f=e.length-5,h=e.charAt(f);"+"!==h&&"-"!==h||(c=60*parseInt(e.substr(f+1,2),10)+parseInt(e.substr(f+4,2),10),c*=6e4,"+"===h&&(c*=-1),l=!0);return"."===e.charAt(14)&&(u=1e3*parseFloat(e.substr(14),10)),l?(t.setUTCFullYear(r,n,i),t.setUTCHours(s,a,o,u),t.setTime(+t+c)):(t.setFullYear(r,n,i),t.setHours(s,a,o,u)),t},i.dateToUtcTime=function(e){if("string"==typeof e)return e;var t="",r=[];r.push((""+e.getUTCFullYear()).substr(2)),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+="Z"},i.dateToGeneralizedTime=function(e){if("string"==typeof e)return e;var t="",r=[];r.push(""+e.getUTCFullYear()),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+="Z"},i.integerToDer=function(e){var t=n.util.createBuffer();if(e>=-128&&e<128)return t.putSignedInt(e,8);if(e>=-32768&&e<32768)return t.putSignedInt(e,16);if(e>=-8388608&&e<8388608)return t.putSignedInt(e,24);if(e>=-2147483648&&e<2147483648)return t.putSignedInt(e,32);var r=new Error("Integer too large; max is 32-bits.");throw r.integer=e,r},i.derToInteger=function(e){"string"==typeof e&&(e=n.util.createBuffer(e));var t=8*e.length();if(t>32)throw new Error("Integer too large; max is 32-bits.");return e.getSignedInt(t)},i.validate=function(e,t,r,s){var a=!1;if(e.tagClass!==t.tagClass&&void 0!==t.tagClass||e.type!==t.type&&void 0!==t.type)s&&(e.tagClass!==t.tagClass&&s.push("["+t.name+'] Expected tag class "'+t.tagClass+'", got "'+e.tagClass+'"'),e.type!==t.type&&s.push("["+t.name+'] Expected type "'+t.type+'", got "'+e.type+'"'));else if(e.constructed===t.constructed||void 0===t.constructed){if(a=!0,t.value&&n.util.isArray(t.value))for(var o=0,u=0;a&&u<t.value.length;++u)a=t.value[u].optional||!1,e.value[o]&&((a=i.validate(e.value[o],t.value[u],r,s))?++o:t.value[u].optional&&(a=!0)),!a&&s&&s.push("["+t.name+'] Tag class "'+t.tagClass+'", type "'+t.type+'" expected value length "'+t.value.length+'", got "'+e.value.length+'"');if(a&&r)if(t.capture&&(r[t.capture]=e.value),t.captureAsn1&&(r[t.captureAsn1]=e),t.captureBitStringContents&&"bitStringContents"in e&&(r[t.captureBitStringContents]=e.bitStringContents),t.captureBitStringValue&&"bitStringContents"in e)if(e.bitStringContents.length<2)r[t.captureBitStringValue]="";else{if(0!==e.bitStringContents.charCodeAt(0))throw new Error("captureBitStringValue only supported for zero unused bits");r[t.captureBitStringValue]=e.bitStringContents.slice(1)}}else s&&s.push("["+t.name+'] Expected constructed "'+t.constructed+'", got "'+e.constructed+'"');return a};var a=/[^\\u0000-\\u00ff]/;i.prettyPrint=function(e,t,r){var s="";r=r||2,(t=t||0)>0&&(s+="\n");for(var o="",u=0;u<t*r;++u)o+=" ";switch(s+=o+"Tag: ",e.tagClass){case i.Class.UNIVERSAL:s+="Universal:";break;case i.Class.APPLICATION:s+="Application:";break;case i.Class.CONTEXT_SPECIFIC:s+="Context-Specific:";break;case i.Class.PRIVATE:s+="Private:"}if(e.tagClass===i.Class.UNIVERSAL)switch(s+=e.type,e.type){case i.Type.NONE:s+=" (None)";break;case i.Type.BOOLEAN:s+=" (Boolean)";break;case i.Type.INTEGER:s+=" (Integer)";break;case i.Type.BITSTRING:s+=" (Bit string)";break;case i.Type.OCTETSTRING:s+=" (Octet string)";break;case i.Type.NULL:s+=" (Null)";break;case i.Type.OID:s+=" (Object Identifier)";break;case i.Type.ODESC:s+=" (Object Descriptor)";break;case i.Type.EXTERNAL:s+=" (External or Instance of)";break;case i.Type.REAL:s+=" (Real)";break;case i.Type.ENUMERATED:s+=" (Enumerated)";break;case i.Type.EMBEDDED:s+=" (Embedded PDV)";break;case i.Type.UTF8:s+=" (UTF8)";break;case i.Type.ROID:s+=" (Relative Object Identifier)";break;case i.Type.SEQUENCE:s+=" (Sequence)";break;case i.Type.SET:s+=" (Set)";break;case i.Type.PRINTABLESTRING:s+=" (Printable String)";break;case i.Type.IA5String:s+=" (IA5String (ASCII))";break;case i.Type.UTCTIME:s+=" (UTC time)";break;case i.Type.GENERALIZEDTIME:s+=" (Generalized time)";break;case i.Type.BMPSTRING:s+=" (BMP String)"}else s+=e.type;if(s+="\n",s+=o+"Constructed: "+e.constructed+"\n",e.composed){var c=0,l="";for(u=0;u<e.value.length;++u)void 0!==e.value[u]&&(c+=1,l+=i.prettyPrint(e.value[u],t+1,r),u+1<e.value.length&&(l+=","));s+=o+"Sub values: "+c+l}else{if(s+=o+"Value: ",e.type===i.Type.OID){var f=i.derToOid(e.value);s+=f,n.pki&&n.pki.oids&&f in n.pki.oids&&(s+=" ("+n.pki.oids[f]+") ")}if(e.type===i.Type.INTEGER)try{s+=i.derToInteger(e.value)}catch(t){s+="0x"+n.util.bytesToHex(e.value)}else if(e.type===i.Type.BITSTRING){if(e.value.length>1?s+="0x"+n.util.bytesToHex(e.value.slice(1)):s+="(none)",e.value.length>0){var h=e.value.charCodeAt(0);1==h?s+=" (1 unused bit shown)":h>1&&(s+=" ("+h+" unused bits shown)")}}else e.type===i.Type.OCTETSTRING?(a.test(e.value)||(s+="("+e.value+") "),s+="0x"+n.util.bytesToHex(e.value)):e.type===i.Type.UTF8?s+=n.util.decodeUtf8(e.value):e.type===i.Type.PRINTABLESTRING||e.type===i.Type.IA5String?s+=e.value:a.test(e.value)?s+="0x"+n.util.bytesToHex(e.value):0===e.value.length?s+="[null]":s+=e.value}return s}},function(e,t){e.exports=require("util")},function(e,t,r){var n=r(0);e.exports=n.md=n.md||{},n.md.algorithms=n.md.algorithms||{}},function(e,t){e.exports=require("zlib")},function(e,t,r){var n=r(0);function i(e,t){n.cipher.registerAlgorithm(e,(function(){return new n.aes.Algorithm(e,t)}))}r(33),r(61),r(1),e.exports=n.aes=n.aes||{},n.aes.startEncrypting=function(e,t,r,n){var i=d({key:e,output:r,decrypt:!1,mode:n});return i.start(t),i},n.aes.createEncryptionCipher=function(e,t){return d({key:e,output:null,decrypt:!1,mode:t})},n.aes.startDecrypting=function(e,t,r,n){var i=d({key:e,output:r,decrypt:!0,mode:n});return i.start(t),i},n.aes.createDecryptionCipher=function(e,t){return d({key:e,output:null,decrypt:!0,mode:t})},n.aes.Algorithm=function(e,t){l||f();var r=this;r.name=e,r.mode=new t({blockSize:16,cipher:{encrypt:function(e,t){return p(r._w,e,t,!1)},decrypt:function(e,t){return p(r._w,e,t,!0)}}}),r._init=!1},n.aes.Algorithm.prototype.initialize=function(e){if(!this._init){var t,r=e.key;if("string"!=typeof r||16!==r.length&&24!==r.length&&32!==r.length){if(n.util.isArray(r)&&(16===r.length||24===r.length||32===r.length)){t=r,r=n.util.createBuffer();for(var i=0;i<t.length;++i)r.putByte(t[i])}}else r=n.util.createBuffer(r);if(!n.util.isArray(r)){t=r,r=[];var s=t.length();if(16===s||24===s||32===s){s>>>=2;for(i=0;i<s;++i)r.push(t.getInt32())}}if(!n.util.isArray(r)||4!==r.length&&6!==r.length&&8!==r.length)throw new Error("Invalid key parameter.");var a=this.mode.name,o=-1!==["CFB","OFB","CTR","GCM"].indexOf(a);this._w=h(r,e.decrypt&&!o),this._init=!0}},n.aes._expandKey=function(e,t){return l||f(),h(e,t)},n.aes._updateBlock=p,i("AES-ECB",n.cipher.modes.ecb),i("AES-CBC",n.cipher.modes.cbc),i("AES-CFB",n.cipher.modes.cfb),i("AES-OFB",n.cipher.modes.ofb),i("AES-CTR",n.cipher.modes.ctr),i("AES-GCM",n.cipher.modes.gcm);var s,a,o,u,c,l=!1;function f(){l=!0,o=[0,1,2,4,8,16,32,64,128,27,54];for(var e=new Array(256),t=0;t<128;++t)e[t]=t<<1,e[t+128]=t+128<<1^283;s=new Array(256),a=new Array(256),u=new Array(4),c=new Array(4);for(t=0;t<4;++t)u[t]=new Array(256),c[t]=new Array(256);var r,n,i,f,h,p,d,g=0,y=0;for(t=0;t<256;++t){f=(f=y^y<<1^y<<2^y<<3^y<<4)>>8^255&f^99,s[g]=f,a[f]=g,p=(h=e[f])<<24^f<<16^f<<8^f^h,d=((r=e[g])^(n=e[r])^(i=e[n]))<<24^(g^i)<<16^(g^n^i)<<8^g^r^i;for(var m=0;m<4;++m)u[m][g]=p,c[m][f]=d,p=p<<24|p>>>8,d=d<<24|d>>>8;0===g?g=y=1:(g=r^e[e[e[r^i]]],y^=e[e[y]])}}function h(e,t){for(var r,n=e.slice(0),i=1,a=n.length,u=4*(a+6+1),l=a;l<u;++l)r=n[l-1],l%a==0?(r=s[r>>>16&255]<<24^s[r>>>8&255]<<16^s[255&r]<<8^s[r>>>24]^o[i]<<24,i++):a>6&&l%a==4&&(r=s[r>>>24]<<24^s[r>>>16&255]<<16^s[r>>>8&255]<<8^s[255&r]),n[l]=n[l-a]^r;if(t){for(var f,h=c[0],p=c[1],d=c[2],g=c[3],y=n.slice(0),m=(l=0,(u=n.length)-4);l<u;l+=4,m-=4)if(0===l||l===u-4)y[l]=n[m],y[l+1]=n[m+3],y[l+2]=n[m+2],y[l+3]=n[m+1];else for(var v=0;v<4;++v)f=n[m+v],y[l+(3&-v)]=h[s[f>>>24]]^p[s[f>>>16&255]]^d[s[f>>>8&255]]^g[s[255&f]];n=y}return n}function p(e,t,r,n){var i,o,l,f,h,p,d,g,y,m,v,C,E=e.length/4-1;n?(i=c[0],o=c[1],l=c[2],f=c[3],h=a):(i=u[0],o=u[1],l=u[2],f=u[3],h=s),p=t[0]^e[0],d=t[n?3:1]^e[1],g=t[2]^e[2],y=t[n?1:3]^e[3];for(var b=3,S=1;S<E;++S)m=i[p>>>24]^o[d>>>16&255]^l[g>>>8&255]^f[255&y]^e[++b],v=i[d>>>24]^o[g>>>16&255]^l[y>>>8&255]^f[255&p]^e[++b],C=i[g>>>24]^o[y>>>16&255]^l[p>>>8&255]^f[255&d]^e[++b],y=i[y>>>24]^o[p>>>16&255]^l[d>>>8&255]^f[255&g]^e[++b],p=m,d=v,g=C;r[0]=h[p>>>24]<<24^h[d>>>16&255]<<16^h[g>>>8&255]<<8^h[255&y]^e[++b],r[n?3:1]=h[d>>>24]<<24^h[g>>>16&255]<<16^h[y>>>8&255]<<8^h[255&p]^e[++b],r[2]=h[g>>>24]<<24^h[y>>>16&255]<<16^h[p>>>8&255]<<8^h[255&d]^e[++b],r[n?1:3]=h[y>>>24]<<24^h[p>>>16&255]<<16^h[d>>>8&255]<<8^h[255&g]^e[++b]}function d(e){var t,r="AES-"+((e=e||{}).mode||"CBC").toUpperCase(),i=(t=e.decrypt?n.cipher.createDecipher(r,e.key):n.cipher.createCipher(r,e.key)).start;return t.start=function(e,r){var s=null;r instanceof n.util.ByteBuffer&&(s=r,r={}),(r=r||{}).output=s,r.iv=e,i.call(t,r)},t}},function(e,t,r){var n=r(0);n.pki=n.pki||{};var i=e.exports=n.pki.oids=n.oids=n.oids||{};function s(e,t){i[e]=t,i[t]=e}function a(e,t){i[e]=t}s("1.2.840.113549.1.1.1","rsaEncryption"),s("1.2.840.113549.1.1.4","md5WithRSAEncryption"),s("1.2.840.113549.1.1.5","sha1WithRSAEncryption"),s("1.2.840.113549.1.1.7","RSAES-OAEP"),s("1.2.840.113549.1.1.8","mgf1"),s("1.2.840.113549.1.1.9","pSpecified"),s("1.2.840.113549.1.1.10","RSASSA-PSS"),s("1.2.840.113549.1.1.11","sha256WithRSAEncryption"),s("1.2.840.113549.1.1.12","sha384WithRSAEncryption"),s("1.2.840.113549.1.1.13","sha512WithRSAEncryption"),s("1.3.101.112","EdDSA25519"),s("1.2.840.10040.4.3","dsa-with-sha1"),s("1.3.14.3.2.7","desCBC"),s("1.3.14.3.2.26","sha1"),s("2.16.840.1.101.3.4.2.1","sha256"),s("2.16.840.1.101.3.4.2.2","sha384"),s("2.16.840.1.101.3.4.2.3","sha512"),s("1.2.840.113549.2.5","md5"),s("1.2.840.113549.1.7.1","data"),s("1.2.840.113549.1.7.2","signedData"),s("1.2.840.113549.1.7.3","envelopedData"),s("1.2.840.113549.1.7.4","signedAndEnvelopedData"),s("1.2.840.113549.1.7.5","digestedData"),s("1.2.840.113549.1.7.6","encryptedData"),s("1.2.840.113549.1.9.1","emailAddress"),s("1.2.840.113549.1.9.2","unstructuredName"),s("1.2.840.113549.1.9.3","contentType"),s("1.2.840.113549.1.9.4","messageDigest"),s("1.2.840.113549.1.9.5","signingTime"),s("1.2.840.113549.1.9.6","counterSignature"),s("1.2.840.113549.1.9.7","challengePassword"),s("1.2.840.113549.1.9.8","unstructuredAddress"),s("1.2.840.113549.1.9.14","extensionRequest"),s("1.2.840.113549.1.9.20","friendlyName"),s("1.2.840.113549.1.9.21","localKeyId"),s("1.2.840.113549.1.9.22.1","x509Certificate"),s("1.2.840.113549.1.12.10.1.1","keyBag"),s("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag"),s("1.2.840.113549.1.12.10.1.3","certBag"),s("1.2.840.113549.1.12.10.1.4","crlBag"),s("1.2.840.113549.1.12.10.1.5","secretBag"),s("1.2.840.113549.1.12.10.1.6","safeContentsBag"),s("1.2.840.113549.1.5.13","pkcs5PBES2"),s("1.2.840.113549.1.5.12","pkcs5PBKDF2"),s("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4"),s("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4"),s("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC"),s("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC"),s("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC"),s("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC"),s("1.2.840.113549.2.7","hmacWithSHA1"),s("1.2.840.113549.2.8","hmacWithSHA224"),s("1.2.840.113549.2.9","hmacWithSHA256"),s("1.2.840.113549.2.10","hmacWithSHA384"),s("1.2.840.113549.2.11","hmacWithSHA512"),s("1.2.840.113549.3.7","des-EDE3-CBC"),s("2.16.840.1.101.3.4.1.2","aes128-CBC"),s("2.16.840.1.101.3.4.1.22","aes192-CBC"),s("2.16.840.1.101.3.4.1.42","aes256-CBC"),s("2.5.4.3","commonName"),s("2.5.4.5","serialName"),s("2.5.4.6","countryName"),s("2.5.4.7","localityName"),s("2.5.4.8","stateOrProvinceName"),s("2.5.4.9","streetAddress"),s("2.5.4.10","organizationName"),s("2.5.4.11","organizationalUnitName"),s("2.5.4.13","description"),s("2.5.4.15","businessCategory"),s("2.5.4.17","postalCode"),s("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName"),s("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName"),s("2.16.840.1.113730.1.1","nsCertType"),s("2.16.840.1.113730.1.13","nsComment"),a("2.5.29.1","authorityKeyIdentifier"),a("2.5.29.2","keyAttributes"),a("2.5.29.3","certificatePolicies"),a("2.5.29.4","keyUsageRestriction"),a("2.5.29.5","policyMapping"),a("2.5.29.6","subtreesConstraint"),a("2.5.29.7","subjectAltName"),a("2.5.29.8","issuerAltName"),a("2.5.29.9","subjectDirectoryAttributes"),a("2.5.29.10","basicConstraints"),a("2.5.29.11","nameConstraints"),a("2.5.29.12","policyConstraints"),a("2.5.29.13","basicConstraints"),s("2.5.29.14","subjectKeyIdentifier"),s("2.5.29.15","keyUsage"),a("2.5.29.16","privateKeyUsagePeriod"),s("2.5.29.17","subjectAltName"),s("2.5.29.18","issuerAltName"),s("2.5.29.19","basicConstraints"),a("2.5.29.20","cRLNumber"),a("2.5.29.21","cRLReason"),a("2.5.29.22","expirationDate"),a("2.5.29.23","instructionCode"),a("2.5.29.24","invalidityDate"),a("2.5.29.25","cRLDistributionPoints"),a("2.5.29.26","issuingDistributionPoint"),a("2.5.29.27","deltaCRLIndicator"),a("2.5.29.28","issuingDistributionPoint"),a("2.5.29.29","certificateIssuer"),a("2.5.29.30","nameConstraints"),s("2.5.29.31","cRLDistributionPoints"),s("2.5.29.32","certificatePolicies"),a("2.5.29.33","policyMappings"),a("2.5.29.34","policyConstraints"),s("2.5.29.35","authorityKeyIdentifier"),a("2.5.29.36","policyConstraints"),s("2.5.29.37","extKeyUsage"),a("2.5.29.46","freshestCRL"),a("2.5.29.54","inhibitAnyPolicy"),s("1.3.6.1.4.1.11129.2.4.2","timestampList"),s("1.3.6.1.5.5.7.1.1","authorityInfoAccess"),s("1.3.6.1.5.5.7.3.1","serverAuth"),s("1.3.6.1.5.5.7.3.2","clientAuth"),s("1.3.6.1.5.5.7.3.3","codeSigning"),s("1.3.6.1.5.5.7.3.4","emailProtection"),s("1.3.6.1.5.5.7.3.8","timeStamping")},function(e,t){e.exports=require("url")},function(e,t,r){var n=r(0);r(1);var i=e.exports=n.pem=n.pem||{};function s(e){for(var t=e.name+": ",r=[],n=function(e,t){return" "+t},i=0;i<e.values.length;++i)r.push(e.values[i].replace(/^(\S+\r\n)/,n));t+=r.join(",")+"\r\n";var s=0,a=-1;for(i=0;i<t.length;++i,++s)if(s>65&&-1!==a){var o=t[a];","===o?(++a,t=t.substr(0,a)+"\r\n "+t.substr(a)):t=t.substr(0,a)+"\r\n"+o+t.substr(a+1),s=i-a-1,a=-1,++i}else" "!==t[i]&&"\t"!==t[i]&&","!==t[i]||(a=i);return t}function a(e){return e.replace(/^\s+/,"")}i.encode=function(e,t){t=t||{};var r,i="-----BEGIN "+e.type+"-----\r\n";if(e.procType&&(i+=s(r={name:"Proc-Type",values:[String(e.procType.version),e.procType.type]})),e.contentDomain&&(i+=s(r={name:"Content-Domain",values:[e.contentDomain]})),e.dekInfo&&(r={name:"DEK-Info",values:[e.dekInfo.algorithm]},e.dekInfo.parameters&&r.values.push(e.dekInfo.parameters),i+=s(r)),e.headers)for(var a=0;a<e.headers.length;++a)i+=s(e.headers[a]);return e.procType&&(i+="\r\n"),i+=n.util.encode64(e.body,t.maxline||64)+"\r\n",i+="-----END "+e.type+"-----\r\n"},i.decode=function(e){for(var t,r=[],i=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,s=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,o=/\r?\n/;t=i.exec(e);){var u={type:t[1],procType:null,contentDomain:null,dekInfo:null,headers:[],body:n.util.decode64(t[3])};if(r.push(u),t[2]){for(var c=t[2].split(o),l=0;t&&l<c.length;){for(var f=c[l].replace(/\s+$/,""),h=l+1;h<c.length;++h){var p=c[h];if(!/\s/.test(p[0]))break;f+=p,l=h}if(t=f.match(s)){for(var d={name:t[1],values:[]},g=t[2].split(","),y=0;y<g.length;++y)d.values.push(a(g[y]));if(u.procType)if(u.contentDomain||"Content-Domain"!==d.name)if(u.dekInfo||"DEK-Info"!==d.name)u.headers.push(d);else{if(0===d.values.length)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');u.dekInfo={algorithm:g[0],parameters:g[1]||null}}else u.contentDomain=g[0]||"";else{if("Proc-Type"!==d.name)throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(2!==d.values.length)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');u.procType={version:g[0],type:g[1]}}}++l}if("ENCRYPTED"===u.procType&&!u.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(0===r.length)throw new Error("Invalid PEM formatted message.");return r}},function(e,t){e.exports=require("crypto")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OAuth2Client=t.CertificateFormat=t.CodeChallengeMethod=void 0;const n=r(40),i=r(2),s=r(52),a=r(50),o=r(127),u=r(53);var c;!function(e){e.Plain="plain",e.S256="S256"}(t.CodeChallengeMethod||(t.CodeChallengeMethod={})),function(e){e.PEM="PEM",e.JWK="JWK"}(c=t.CertificateFormat||(t.CertificateFormat={}));class l extends o.AuthClient{constructor(e,t,r){super(),this.certificateCache={},this.certificateExpiry=null,this.certificateCacheFormat=c.PEM,this.refreshTokenPromises=new Map;const n=e&&"object"==typeof e?e:{clientId:e,clientSecret:t,redirectUri:r};this._clientId=n.clientId,this._clientSecret=n.clientSecret,this.redirectUri=n.redirectUri,this.eagerRefreshThresholdMillis=n.eagerRefreshThresholdMillis||3e5,this.forceRefreshOnFailure=!!n.forceRefreshOnFailure}generateAuthUrl(e={}){if(e.code_challenge_method&&!e.code_challenge)throw new Error("If a code_challenge_method is provided, code_challenge must be included.");e.response_type=e.response_type||"code",e.client_id=e.client_id||this._clientId,e.redirect_uri=e.redirect_uri||this.redirectUri,e.scope instanceof Array&&(e.scope=e.scope.join(" "));return l.GOOGLE_OAUTH2_AUTH_BASE_URL_+"?"+n.stringify(e)}generateCodeVerifier(){throw new Error("generateCodeVerifier is removed, please use generateCodeVerifierAsync instead.")}async generateCodeVerifierAsync(){const e=a.createCrypto(),t=e.randomBytesBase64(96).replace(/\+/g,"~").replace(/=/g,"_").replace(/\//g,"-");return{codeVerifier:t,codeChallenge:(await e.sha256DigestBase64(t)).split("=")[0].replace(/\+/g,"-").replace(/\//g,"_")}}getToken(e,t){const r="string"==typeof e?{code:e}:e;if(!t)return this.getTokenAsync(r);this.getTokenAsync(r).then(e=>t(null,e.tokens,e.res),e=>t(e,null,e.response))}async getTokenAsync(e){const t=l.GOOGLE_OAUTH2_TOKEN_URL_,r={code:e.code,client_id:e.client_id||this._clientId,client_secret:this._clientSecret,redirect_uri:e.redirect_uri||this.redirectUri,grant_type:"authorization_code",code_verifier:e.codeVerifier},i=await this.transporter.request({method:"POST",url:t,data:n.stringify(r),headers:{"Content-Type":"application/x-www-form-urlencoded"}}),s=i.data;return i.data&&i.data.expires_in&&(s.expiry_date=(new Date).getTime()+1e3*i.data.expires_in,delete s.expires_in),this.emit("tokens",s),{tokens:s,res:i}}async refreshToken(e){if(!e)return this.refreshTokenNoCache(e);if(this.refreshTokenPromises.has(e))return this.refreshTokenPromises.get(e);const t=this.refreshTokenNoCache(e).then(t=>(this.refreshTokenPromises.delete(e),t),t=>{throw this.refreshTokenPromises.delete(e),t});return this.refreshTokenPromises.set(e,t),t}async refreshTokenNoCache(e){if(!e)throw new Error("No refresh token is set.");const t=l.GOOGLE_OAUTH2_TOKEN_URL_,r={refresh_token:e,client_id:this._clientId,client_secret:this._clientSecret,grant_type:"refresh_token"},i=await this.transporter.request({method:"POST",url:t,data:n.stringify(r),headers:{"Content-Type":"application/x-www-form-urlencoded"}}),s=i.data;return i.data&&i.data.expires_in&&(s.expiry_date=(new Date).getTime()+1e3*i.data.expires_in,delete s.expires_in),this.emit("tokens",s),{tokens:s,res:i}}refreshAccessToken(e){if(!e)return this.refreshAccessTokenAsync();this.refreshAccessTokenAsync().then(t=>e(null,t.credentials,t.res),e)}async refreshAccessTokenAsync(){const e=await this.refreshToken(this.credentials.refresh_token),t=e.tokens;return t.refresh_token=this.credentials.refresh_token,this.credentials=t,{credentials:this.credentials,res:e.res}}getAccessToken(e){if(!e)return this.getAccessTokenAsync();this.getAccessTokenAsync().then(t=>e(null,t.token,t.res),e)}async getAccessTokenAsync(){if(!this.credentials.access_token||this.isTokenExpiring()){if(!this.credentials.refresh_token)throw new Error("No refresh token is set.");const e=await this.refreshAccessTokenAsync();if(!e.credentials||e.credentials&&!e.credentials.access_token)throw new Error("Could not refresh access token.");return{token:e.credentials.access_token,res:e.res}}return{token:this.credentials.access_token}}async getRequestHeaders(e){return(await this.getRequestMetadataAsync(e)).headers}async getRequestMetadataAsync(e){const t=this.credentials;if(!t.access_token&&!t.refresh_token&&!this.apiKey)throw new Error("No access, refresh token or API key is set.");if(t.access_token&&!this.isTokenExpiring()){t.token_type=t.token_type||"Bearer";const e={Authorization:t.token_type+" "+t.access_token};return{headers:this.addSharedMetadataHeaders(e)}}if(this.apiKey)return{headers:{"X-Goog-Api-Key":this.apiKey}};let r=null,n=null;try{r=await this.refreshToken(t.refresh_token),n=r.tokens}catch(e){const t=e;throw!t.response||403!==t.response.status&&404!==t.response.status||(t.message="Could not refresh access token: "+t.message),t}const i=this.credentials;i.token_type=i.token_type||"Bearer",n.refresh_token=i.refresh_token,this.credentials=n;const s={Authorization:i.token_type+" "+n.access_token};return{headers:this.addSharedMetadataHeaders(s),res:r.res}}static getRevokeTokenUrl(e){const t=n.stringify({token:e});return`${l.GOOGLE_OAUTH2_REVOKE_URL_}?${t}`}revokeToken(e,t){const r={url:l.getRevokeTokenUrl(e),method:"POST"};if(!t)return this.transporter.request(r);this.transporter.request(r).then(e=>t(null,e),t)}revokeCredentials(e){if(!e)return this.revokeCredentialsAsync();this.revokeCredentialsAsync().then(t=>e(null,t),e)}async revokeCredentialsAsync(){const e=this.credentials.access_token;if(this.credentials={},e)return this.revokeToken(e);throw new Error("No access token to revoke.")}request(e,t){if(!t)return this.requestAsync(e);this.requestAsync(e).then(e=>t(null,e),e=>t(e,e.response))}async requestAsync(e,t=!1){let r;try{const t=await this.getRequestMetadataAsync(e.url);e.headers=e.headers||{},t.headers&&t.headers["x-goog-user-project"]&&(e.headers["x-goog-user-project"]=t.headers["x-goog-user-project"]),t.headers&&t.headers.Authorization&&(e.headers.Authorization=t.headers.Authorization),this.apiKey&&(e.headers["X-Goog-Api-Key"]=this.apiKey),r=await this.transporter.request(e)}catch(r){const n=r.response;if(n){const r=n.status,s=this.credentials&&this.credentials.access_token&&this.credentials.refresh_token&&(!this.credentials.expiry_date||this.forceRefreshOnFailure),a=n.config.data instanceof i.Readable,o=401===r||403===r;if(!t&&o&&!a&&s)return await this.refreshAccessTokenAsync(),this.requestAsync(e,!0)}throw r}return r}verifyIdToken(e,t){if(t&&"function"!=typeof t)throw new Error("This method accepts an options object as the first parameter, which includes the idToken, audience, and maxExpiry.");if(!t)return this.verifyIdTokenAsync(e);this.verifyIdTokenAsync(e).then(e=>t(null,e),t)}async verifyIdTokenAsync(e){if(!e.idToken)throw new Error("The verifyIdToken method requires an ID Token");const t=await this.getFederatedSignonCertsAsync();return await this.verifySignedJwtWithCertsAsync(e.idToken,t.certs,e.audience,l.ISSUERS_,e.maxExpiry)}async getTokenInfo(e){const{data:t}=await this.transporter.request({method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Bearer "+e},url:l.GOOGLE_TOKEN_INFO_URL}),r=Object.assign({expiry_date:(new Date).getTime()+1e3*t.expires_in,scopes:t.scope.split(" ")},t);return delete r.expires_in,delete r.scope,r}getFederatedSignonCerts(e){if(!e)return this.getFederatedSignonCertsAsync();this.getFederatedSignonCertsAsync().then(t=>e(null,t.certs,t.res),e)}async getFederatedSignonCertsAsync(){const e=(new Date).getTime(),t=a.hasBrowserCrypto()?c.JWK:c.PEM;if(this.certificateExpiry&&e<this.certificateExpiry.getTime()&&this.certificateCacheFormat===t)return{certs:this.certificateCache,format:t};let r,n;switch(t){case c.PEM:n=l.GOOGLE_OAUTH2_FEDERATED_SIGNON_PEM_CERTS_URL_;break;case c.JWK:n=l.GOOGLE_OAUTH2_FEDERATED_SIGNON_JWK_CERTS_URL_;break;default:throw new Error("Unsupported certificate format "+t)}try{r=await this.transporter.request({url:n})}catch(e){throw e.message="Failed to retrieve verification certificates: "+e.message,e}const i=r?r.headers["cache-control"]:void 0;let s=-1;if(i){const e=new RegExp("max-age=([0-9]*)").exec(i);e&&2===e.length&&(s=1e3*Number(e[1]))}let o={};switch(t){case c.PEM:o=r.data;break;case c.JWK:for(const e of r.data.keys)o[e.kid]=e;break;default:throw new Error("Unsupported certificate format "+t)}const u=new Date;return this.certificateExpiry=-1===s?null:new Date(u.getTime()+s),this.certificateCache=o,this.certificateCacheFormat=t,{certs:o,format:t,res:r}}getIapPublicKeys(e){if(!e)return this.getIapPublicKeysAsync();this.getIapPublicKeysAsync().then(t=>e(null,t.pubkeys,t.res),e)}async getIapPublicKeysAsync(){let e;const t=l.GOOGLE_OAUTH2_IAP_PUBLIC_KEY_URL_;try{e=await this.transporter.request({url:t})}catch(e){throw e.message="Failed to retrieve verification certificates: "+e.message,e}return{pubkeys:e.data,res:e}}verifySignedJwtWithCerts(){throw new Error("verifySignedJwtWithCerts is removed, please use verifySignedJwtWithCertsAsync instead.")}async verifySignedJwtWithCertsAsync(e,t,r,n,i){const o=a.createCrypto();i||(i=l.MAX_TOKEN_LIFETIME_SECS_);const c=e.split(".");if(3!==c.length)throw new Error("Wrong number of segments in token: "+e);const f=c[0]+"."+c[1];let h,p,d=c[2];try{h=JSON.parse(o.decodeBase64StringUtf8(c[0]))}catch(e){throw e.message=`Can't parse token envelope: ${c[0]}': ${e.message}`,e}if(!h)throw new Error("Can't parse token envelope: "+c[0]);try{p=JSON.parse(o.decodeBase64StringUtf8(c[1]))}catch(e){throw e.message="Can't parse token payload '"+c[0],e}if(!p)throw new Error("Can't parse token payload: "+c[1]);if(!Object.prototype.hasOwnProperty.call(t,h.kid))throw new Error("No pem found for envelope: "+JSON.stringify(h));const g=t[h.kid];"ES256"===h.alg&&(d=s.joseToDer(d,"ES256").toString("base64"));if(!await o.verify(g,f,d))throw new Error("Invalid token signature: "+e);if(!p.iat)throw new Error("No issue time in token: "+JSON.stringify(p));if(!p.exp)throw new Error("No expiration time in token: "+JSON.stringify(p));const y=Number(p.iat);if(isNaN(y))throw new Error("iat field using invalid format");const m=Number(p.exp);if(isNaN(m))throw new Error("exp field using invalid format");const v=(new Date).getTime()/1e3;if(m>=v+i)throw new Error("Expiration time too far in future: "+JSON.stringify(p));const C=y-l.CLOCK_SKEW_SECS_,E=m+l.CLOCK_SKEW_SECS_;if(v<C)throw new Error("Token used too early, "+v+" < "+C+": "+JSON.stringify(p));if(v>E)throw new Error("Token used too late, "+v+" > "+E+": "+JSON.stringify(p));if(n&&n.indexOf(p.iss)<0)throw new Error("Invalid issuer, expected one of ["+n+"], but got "+p.iss);if(null!=r){const e=p.aud;let t=!1;if(t=r.constructor===Array?r.indexOf(e)>-1:e===r,!t)throw new Error("Wrong recipient, payload audience != requiredAudience")}return new u.LoginTicket(h,p)}isTokenExpiring(){const e=this.credentials.expiry_date;return!!e&&e<=(new Date).getTime()+this.eagerRefreshThresholdMillis}}t.OAuth2Client=l,l.GOOGLE_TOKEN_INFO_URL="https://oauth2.googleapis.com/tokeninfo",l.GOOGLE_OAUTH2_AUTH_BASE_URL_="https://accounts.google.com/o/oauth2/v2/auth",l.GOOGLE_OAUTH2_TOKEN_URL_="https://oauth2.googleapis.com/token",l.GOOGLE_OAUTH2_REVOKE_URL_="https://oauth2.googleapis.com/revoke",l.GOOGLE_OAUTH2_FEDERATED_SIGNON_PEM_CERTS_URL_="https://www.googleapis.com/oauth2/v1/certs",l.GOOGLE_OAUTH2_FEDERATED_SIGNON_JWK_CERTS_URL_="https://www.googleapis.com/oauth2/v3/certs",l.GOOGLE_OAUTH2_IAP_PUBLIC_KEY_URL_="https://www.gstatic.com/iap/verify/public_key",l.CLOCK_SKEW_SECS_=300,l.MAX_TOKEN_LIFETIME_SECS_=86400,l.ISSUERS_=["accounts.google.com","https://accounts.google.com"]},function(e,t,r){var n=r(20),i=n.Buffer;function s(e,t){for(var r in e)t[r]=e[r]}function a(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(s(n,t),t.Buffer=a),s(i,a),a.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},a.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},function(e,t,r){var n=r(0);r(7),r(1),(e.exports=n.hmac=n.hmac||{}).create=function(){var e=null,t=null,r=null,i=null,s={start:function(s,a){if(null!==s)if("string"==typeof s){if(!((s=s.toLowerCase())in n.md.algorithms))throw new Error('Unknown hash algorithm "'+s+'"');t=n.md.algorithms[s].create()}else t=s;if(null===a)a=e;else{if("string"==typeof a)a=n.util.createBuffer(a);else if(n.util.isArray(a)){var o=a;a=n.util.createBuffer();for(var u=0;u<o.length;++u)a.putByte(o[u])}var c=a.length();c>t.blockLength&&(t.start(),t.update(a.bytes()),a=t.digest()),r=n.util.createBuffer(),i=n.util.createBuffer(),c=a.length();for(u=0;u<c;++u){o=a.at(u);r.putByte(54^o),i.putByte(92^o)}if(c<t.blockLength)for(o=t.blockLength-c,u=0;u<o;++u)r.putByte(54),i.putByte(92);e=a,r=r.bytes(),i=i.bytes()}t.start(),t.update(r)},update:function(e){t.update(e)},getMac:function(){var e=t.digest().bytes();return t.start(),t.update(i),t.update(e),t.digest()}};return s.digest=s.getMac,s}},function(e,t,r){var n=r(0);r(7),r(1);var i=e.exports=n.sha1=n.sha1||{};n.md.sha1=n.md.algorithms.sha1=i,i.create=function(){a||(s=String.fromCharCode(128),s+=n.util.fillString(String.fromCharCode(0),64),a=!0);var e=null,t=n.util.createBuffer(),r=new Array(80),i={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){i.messageLength=0,i.fullMessageLength=i.messageLength64=[];for(var r=i.messageLengthSize/4,s=0;s<r;++s)i.fullMessageLength.push(0);return t=n.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},i}};return i.start(),i.update=function(s,a){"utf8"===a&&(s=n.util.encodeUtf8(s));var u=s.length;i.messageLength+=u,u=[u/4294967296>>>0,u>>>0];for(var c=i.fullMessageLength.length-1;c>=0;--c)i.fullMessageLength[c]+=u[1],u[1]=u[0]+(i.fullMessageLength[c]/4294967296>>>0),i.fullMessageLength[c]=i.fullMessageLength[c]>>>0,u[0]=u[1]/4294967296>>>0;return t.putBytes(s),o(e,r,t),(t.read>2048||0===t.length())&&t.compact(),i},i.digest=function(){var a=n.util.createBuffer();a.putBytes(t.bytes());var u,c=i.fullMessageLength[i.fullMessageLength.length-1]+i.messageLengthSize&i.blockLength-1;a.putBytes(s.substr(0,i.blockLength-c));for(var l=8*i.fullMessageLength[0],f=0;f<i.fullMessageLength.length-1;++f)l+=(u=8*i.fullMessageLength[f+1])/4294967296>>>0,a.putInt32(l>>>0),l=u>>>0;a.putInt32(l);var h={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4};o(h,r,a);var p=n.util.createBuffer();return p.putInt32(h.h0),p.putInt32(h.h1),p.putInt32(h.h2),p.putInt32(h.h3),p.putInt32(h.h4),p},i};var s=null,a=!1;function o(e,t,r){for(var n,i,s,a,o,u,c,l=r.length();l>=64;){for(i=e.h0,s=e.h1,a=e.h2,o=e.h3,u=e.h4,c=0;c<16;++c)n=r.getInt32(),t[c]=n,n=(i<<5|i>>>27)+(o^s&(a^o))+u+1518500249+n,u=o,o=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;for(;c<20;++c)n=(n=t[c-3]^t[c-8]^t[c-14]^t[c-16])<<1|n>>>31,t[c]=n,n=(i<<5|i>>>27)+(o^s&(a^o))+u+1518500249+n,u=o,o=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;for(;c<32;++c)n=(n=t[c-3]^t[c-8]^t[c-14]^t[c-16])<<1|n>>>31,t[c]=n,n=(i<<5|i>>>27)+(s^a^o)+u+1859775393+n,u=o,o=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;for(;c<40;++c)n=(n=t[c-6]^t[c-16]^t[c-28]^t[c-32])<<2|n>>>30,t[c]=n,n=(i<<5|i>>>27)+(s^a^o)+u+1859775393+n,u=o,o=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;for(;c<60;++c)n=(n=t[c-6]^t[c-16]^t[c-28]^t[c-32])<<2|n>>>30,t[c]=n,n=(i<<5|i>>>27)+(s&a|o&(s^a))+u+2400959708+n,u=o,o=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;for(;c<80;++c)n=(n=t[c-6]^t[c-16]^t[c-28]^t[c-32])<<2|n>>>30,t[c]=n,n=(i<<5|i>>>27)+(s^a^o)+u+3395469782+n,u=o,o=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;e.h0=e.h0+i|0,e.h1=e.h1+s|0,e.h2=e.h2+a|0,e.h3=e.h3+o|0,e.h4=e.h4+u|0,l-=64}}},function(e,t){e.exports=require("http")},function(e,t,r){(function(e){var n;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var i="Expected a function",s="__lodash_placeholder__",a=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],o="[object Arguments]",u="[object Array]",c="[object Boolean]",l="[object Date]",f="[object Error]",h="[object Function]",p="[object GeneratorFunction]",d="[object Map]",g="[object Number]",y="[object Object]",m="[object RegExp]",v="[object Set]",C="[object String]",E="[object Symbol]",b="[object WeakMap]",S="[object ArrayBuffer]",w="[object DataView]",_="[object Float32Array]",T="[object Float64Array]",A="[object Int8Array]",I="[object Int16Array]",B="[object Int32Array]",k="[object Uint8Array]",R="[object Uint16Array]",N="[object Uint32Array]",O=/\b__p \+= '';/g,x=/\b(__p \+=) '' \+/g,L=/(__e\(.*?\)|\b__t\)) \+\n'';/g,D=/&(?:amp|lt|gt|quot|#39);/g,P=/[&<>"']/g,U=RegExp(D.source),j=RegExp(P.source),F=/<%-([\s\S]+?)%>/g,V=/<%([\s\S]+?)%>/g,M=/<%=([\s\S]+?)%>/g,K=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,q=/^\w*$/,G=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,H=/[\\^$.*+?()[\]{}|]/g,z=RegExp(H.source),W=/^\s+/,Q=/\s/,$=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Y=/\{\n\/\* \[wrapped with (.+)\] \*/,J=/,? & /,X=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Z=/[()=,{}\[\]\/\s]/,ee=/\\(\\)?/g,te=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,re=/\w*$/,ne=/^[-+]0x[0-9a-f]+$/i,ie=/^0b[01]+$/i,se=/^\[object .+?Constructor\]$/,ae=/^0o[0-7]+$/i,oe=/^(?:0|[1-9]\d*)$/,ue=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ce=/($^)/,le=/['\n\r\u2028\u2029\\]/g,fe="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",he="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",pe="[\\ud800-\\udfff]",de="["+he+"]",ge="["+fe+"]",ye="\\d+",me="[\\u2700-\\u27bf]",ve="[a-z\\xdf-\\xf6\\xf8-\\xff]",Ce="[^\\ud800-\\udfff"+he+ye+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",Ee="\\ud83c[\\udffb-\\udfff]",be="[^\\ud800-\\udfff]",Se="(?:\\ud83c[\\udde6-\\uddff]){2}",we="[\\ud800-\\udbff][\\udc00-\\udfff]",_e="[A-Z\\xc0-\\xd6\\xd8-\\xde]",Te="(?:"+ve+"|"+Ce+")",Ae="(?:"+_e+"|"+Ce+")",Ie="(?:"+ge+"|"+Ee+")"+"?",Be="[\\ufe0e\\ufe0f]?"+Ie+("(?:\\u200d(?:"+[be,Se,we].join("|")+")[\\ufe0e\\ufe0f]?"+Ie+")*"),ke="(?:"+[me,Se,we].join("|")+")"+Be,Re="(?:"+[be+ge+"?",ge,Se,we,pe].join("|")+")",Ne=RegExp("[']","g"),Oe=RegExp(ge,"g"),xe=RegExp(Ee+"(?="+Ee+")|"+Re+Be,"g"),Le=RegExp([_e+"?"+ve+"+(?:['](?:d|ll|m|re|s|t|ve))?(?="+[de,_e,"$"].join("|")+")",Ae+"+(?:['](?:D|LL|M|RE|S|T|VE))?(?="+[de,_e+Te,"$"].join("|")+")",_e+"?"+Te+"+(?:['](?:d|ll|m|re|s|t|ve))?",_e+"+(?:['](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ye,ke].join("|"),"g"),De=RegExp("[\\u200d\\ud800-\\udfff"+fe+"\\ufe0e\\ufe0f]"),Pe=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ue=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],je=-1,Fe={};Fe[_]=Fe[T]=Fe[A]=Fe[I]=Fe[B]=Fe[k]=Fe["[object Uint8ClampedArray]"]=Fe[R]=Fe[N]=!0,Fe[o]=Fe[u]=Fe[S]=Fe[c]=Fe[w]=Fe[l]=Fe[f]=Fe[h]=Fe[d]=Fe[g]=Fe[y]=Fe[m]=Fe[v]=Fe[C]=Fe[b]=!1;var Ve={};Ve[o]=Ve[u]=Ve[S]=Ve[w]=Ve[c]=Ve[l]=Ve[_]=Ve[T]=Ve[A]=Ve[I]=Ve[B]=Ve[d]=Ve[g]=Ve[y]=Ve[m]=Ve[v]=Ve[C]=Ve[E]=Ve[k]=Ve["[object Uint8ClampedArray]"]=Ve[R]=Ve[N]=!0,Ve[f]=Ve[h]=Ve[b]=!1;var Me={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ke=parseFloat,qe=parseInt,Ge="object"==typeof global&&global&&global.Object===Object&&global,He="object"==typeof self&&self&&self.Object===Object&&self,ze=Ge||He||Function("return this")(),We=t&&!t.nodeType&&t,Qe=We&&"object"==typeof e&&e&&!e.nodeType&&e,$e=Qe&&Qe.exports===We,Ye=$e&&Ge.process,Je=function(){try{var e=Qe&&Qe.require&&Qe.require("util").types;return e||Ye&&Ye.binding&&Ye.binding("util")}catch(e){}}(),Xe=Je&&Je.isArrayBuffer,Ze=Je&&Je.isDate,et=Je&&Je.isMap,tt=Je&&Je.isRegExp,rt=Je&&Je.isSet,nt=Je&&Je.isTypedArray;function it(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function st(e,t,r,n){for(var i=-1,s=null==e?0:e.length;++i<s;){var a=e[i];t(n,a,r(a),e)}return n}function at(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}function ot(e,t){for(var r=null==e?0:e.length;r--&&!1!==t(e[r],r,e););return e}function ut(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}function ct(e,t){for(var r=-1,n=null==e?0:e.length,i=0,s=[];++r<n;){var a=e[r];t(a,r,e)&&(s[i++]=a)}return s}function lt(e,t){return!!(null==e?0:e.length)&&Et(e,t,0)>-1}function ft(e,t,r){for(var n=-1,i=null==e?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}function ht(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}function pt(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}function dt(e,t,r,n){var i=-1,s=null==e?0:e.length;for(n&&s&&(r=e[++i]);++i<s;)r=t(r,e[i],i,e);return r}function gt(e,t,r,n){var i=null==e?0:e.length;for(n&&i&&(r=e[--i]);i--;)r=t(r,e[i],i,e);return r}function yt(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var mt=_t("length");function vt(e,t,r){var n;return r(e,(function(e,r,i){if(t(e,r,i))return n=r,!1})),n}function Ct(e,t,r,n){for(var i=e.length,s=r+(n?1:-1);n?s--:++s<i;)if(t(e[s],s,e))return s;return-1}function Et(e,t,r){return t==t?function(e,t,r){var n=r-1,i=e.length;for(;++n<i;)if(e[n]===t)return n;return-1}(e,t,r):Ct(e,St,r)}function bt(e,t,r,n){for(var i=r-1,s=e.length;++i<s;)if(n(e[i],t))return i;return-1}function St(e){return e!=e}function wt(e,t){var r=null==e?0:e.length;return r?It(e,t)/r:NaN}function _t(e){return function(t){return null==t?void 0:t[e]}}function Tt(e){return function(t){return null==e?void 0:e[t]}}function At(e,t,r,n,i){return i(e,(function(e,i,s){r=n?(n=!1,e):t(r,e,i,s)})),r}function It(e,t){for(var r,n=-1,i=e.length;++n<i;){var s=t(e[n]);void 0!==s&&(r=void 0===r?s:r+s)}return r}function Bt(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function kt(e){return e?e.slice(0,Wt(e)+1).replace(W,""):e}function Rt(e){return function(t){return e(t)}}function Nt(e,t){return ht(t,(function(t){return e[t]}))}function Ot(e,t){return e.has(t)}function xt(e,t){for(var r=-1,n=e.length;++r<n&&Et(t,e[r],0)>-1;);return r}function Lt(e,t){for(var r=e.length;r--&&Et(t,e[r],0)>-1;);return r}function Dt(e,t){for(var r=e.length,n=0;r--;)e[r]===t&&++n;return n}var Pt=Tt({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"}),Ut=Tt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function jt(e){return"\\"+Me[e]}function Ft(e){return De.test(e)}function Vt(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function Mt(e,t){return function(r){return e(t(r))}}function Kt(e,t){for(var r=-1,n=e.length,i=0,a=[];++r<n;){var o=e[r];o!==t&&o!==s||(e[r]=s,a[i++]=r)}return a}function qt(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}function Gt(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=[e,e]})),r}function Ht(e){return Ft(e)?function(e){var t=xe.lastIndex=0;for(;xe.test(e);)++t;return t}(e):mt(e)}function zt(e){return Ft(e)?function(e){return e.match(xe)||[]}(e):function(e){return e.split("")}(e)}function Wt(e){for(var t=e.length;t--&&Q.test(e.charAt(t)););return t}var Qt=Tt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var $t=function e(t){var r,n=(t=null==t?ze:$t.defaults(ze.Object(),t,$t.pick(ze,Ue))).Array,Q=t.Date,fe=t.Error,he=t.Function,pe=t.Math,de=t.Object,ge=t.RegExp,ye=t.String,me=t.TypeError,ve=n.prototype,Ce=he.prototype,Ee=de.prototype,be=t["__core-js_shared__"],Se=Ce.toString,we=Ee.hasOwnProperty,_e=0,Te=(r=/[^.]+$/.exec(be&&be.keys&&be.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",Ae=Ee.toString,Ie=Se.call(de),Be=ze._,ke=ge("^"+Se.call(we).replace(H,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Re=$e?t.Buffer:void 0,xe=t.Symbol,De=t.Uint8Array,Me=Re?Re.allocUnsafe:void 0,Ge=Mt(de.getPrototypeOf,de),He=de.create,We=Ee.propertyIsEnumerable,Qe=ve.splice,Ye=xe?xe.isConcatSpreadable:void 0,Je=xe?xe.iterator:void 0,mt=xe?xe.toStringTag:void 0,Tt=function(){try{var e=es(de,"defineProperty");return e({},"",{}),e}catch(e){}}(),Yt=t.clearTimeout!==ze.clearTimeout&&t.clearTimeout,Jt=Q&&Q.now!==ze.Date.now&&Q.now,Xt=t.setTimeout!==ze.setTimeout&&t.setTimeout,Zt=pe.ceil,er=pe.floor,tr=de.getOwnPropertySymbols,rr=Re?Re.isBuffer:void 0,nr=t.isFinite,ir=ve.join,sr=Mt(de.keys,de),ar=pe.max,or=pe.min,ur=Q.now,cr=t.parseInt,lr=pe.random,fr=ve.reverse,hr=es(t,"DataView"),pr=es(t,"Map"),dr=es(t,"Promise"),gr=es(t,"Set"),yr=es(t,"WeakMap"),mr=es(de,"create"),vr=yr&&new yr,Cr={},Er=Is(hr),br=Is(pr),Sr=Is(dr),wr=Is(gr),_r=Is(yr),Tr=xe?xe.prototype:void 0,Ar=Tr?Tr.valueOf:void 0,Ir=Tr?Tr.toString:void 0;function Br(e){if(Ga(e)&&!xa(e)&&!(e instanceof Or)){if(e instanceof Nr)return e;if(we.call(e,"__wrapped__"))return Bs(e)}return new Nr(e)}var kr=function(){function e(){}return function(t){if(!qa(t))return{};if(He)return He(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();function Rr(){}function Nr(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}function Or(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function xr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Lr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Dr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Pr(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new Dr;++t<r;)this.add(e[t])}function Ur(e){var t=this.__data__=new Lr(e);this.size=t.size}function jr(e,t){var r=xa(e),n=!r&&Oa(e),i=!r&&!n&&Ua(e),s=!r&&!n&&!i&&Xa(e),a=r||n||i||s,o=a?Bt(e.length,ye):[],u=o.length;for(var c in e)!t&&!we.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||s&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||os(c,u))||o.push(c);return o}function Fr(e){var t=e.length;return t?e[Un(0,t-1)]:void 0}function Vr(e,t){return _s(vi(e),$r(t,0,e.length))}function Mr(e){return _s(vi(e))}function Kr(e,t,r){(void 0!==r&&!ka(e[t],r)||void 0===r&&!(t in e))&&Wr(e,t,r)}function qr(e,t,r){var n=e[t];we.call(e,t)&&ka(n,r)&&(void 0!==r||t in e)||Wr(e,t,r)}function Gr(e,t){for(var r=e.length;r--;)if(ka(e[r][0],t))return r;return-1}function Hr(e,t,r,n){return en(e,(function(e,i,s){t(n,e,r(e),s)})),n}function zr(e,t){return e&&Ci(t,bo(t),e)}function Wr(e,t,r){"__proto__"==t&&Tt?Tt(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function Qr(e,t){for(var r=-1,i=t.length,s=n(i),a=null==e;++r<i;)s[r]=a?void 0:yo(e,t[r]);return s}function $r(e,t,r){return e==e&&(void 0!==r&&(e=e<=r?e:r),void 0!==t&&(e=e>=t?e:t)),e}function Yr(e,t,r,n,i,s){var a,u=1&t,f=2&t,b=4&t;if(r&&(a=i?r(e,n,i,s):r(e)),void 0!==a)return a;if(!qa(e))return e;var O=xa(e);if(O){if(a=function(e){var t=e.length,r=new e.constructor(t);t&&"string"==typeof e[0]&&we.call(e,"index")&&(r.index=e.index,r.input=e.input);return r}(e),!u)return vi(e,a)}else{var x=ns(e),L=x==h||x==p;if(Ua(e))return hi(e,u);if(x==y||x==o||L&&!i){if(a=f||L?{}:ss(e),!u)return f?function(e,t){return Ci(e,rs(e),t)}(e,function(e,t){return e&&Ci(t,So(t),e)}(a,e)):function(e,t){return Ci(e,ts(e),t)}(e,zr(a,e))}else{if(!Ve[x])return i?e:{};a=function(e,t,r){var n=e.constructor;switch(t){case S:return pi(e);case c:case l:return new n(+e);case w:return function(e,t){var r=t?pi(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,r);case _:case T:case A:case I:case B:case k:case"[object Uint8ClampedArray]":case R:case N:return di(e,r);case d:return new n;case g:case C:return new n(e);case m:return function(e){var t=new e.constructor(e.source,re.exec(e));return t.lastIndex=e.lastIndex,t}(e);case v:return new n;case E:return i=e,Ar?de(Ar.call(i)):{}}var i}(e,x,u)}}s||(s=new Ur);var D=s.get(e);if(D)return D;s.set(e,a),$a(e)?e.forEach((function(n){a.add(Yr(n,t,r,n,e,s))})):Ha(e)&&e.forEach((function(n,i){a.set(i,Yr(n,t,r,i,e,s))}));var P=O?void 0:(b?f?Wi:zi:f?So:bo)(e);return at(P||e,(function(n,i){P&&(n=e[i=n]),qr(a,i,Yr(n,t,r,i,e,s))})),a}function Jr(e,t,r){var n=r.length;if(null==e)return!n;for(e=de(e);n--;){var i=r[n],s=t[i],a=e[i];if(void 0===a&&!(i in e)||!s(a))return!1}return!0}function Xr(e,t,r){if("function"!=typeof e)throw new me(i);return Es((function(){e.apply(void 0,r)}),t)}function Zr(e,t,r,n){var i=-1,s=lt,a=!0,o=e.length,u=[],c=t.length;if(!o)return u;r&&(t=ht(t,Rt(r))),n?(s=ft,a=!1):t.length>=200&&(s=Ot,a=!1,t=new Pr(t));e:for(;++i<o;){var l=e[i],f=null==r?l:r(l);if(l=n||0!==l?l:0,a&&f==f){for(var h=c;h--;)if(t[h]===f)continue e;u.push(l)}else s(t,f,n)||u.push(l)}return u}Br.templateSettings={escape:F,evaluate:V,interpolate:M,variable:"",imports:{_:Br}},Br.prototype=Rr.prototype,Br.prototype.constructor=Br,Nr.prototype=kr(Rr.prototype),Nr.prototype.constructor=Nr,Or.prototype=kr(Rr.prototype),Or.prototype.constructor=Or,xr.prototype.clear=function(){this.__data__=mr?mr(null):{},this.size=0},xr.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},xr.prototype.get=function(e){var t=this.__data__;if(mr){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return we.call(t,e)?t[e]:void 0},xr.prototype.has=function(e){var t=this.__data__;return mr?void 0!==t[e]:we.call(t,e)},xr.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=mr&&void 0===t?"__lodash_hash_undefined__":t,this},Lr.prototype.clear=function(){this.__data__=[],this.size=0},Lr.prototype.delete=function(e){var t=this.__data__,r=Gr(t,e);return!(r<0)&&(r==t.length-1?t.pop():Qe.call(t,r,1),--this.size,!0)},Lr.prototype.get=function(e){var t=this.__data__,r=Gr(t,e);return r<0?void 0:t[r][1]},Lr.prototype.has=function(e){return Gr(this.__data__,e)>-1},Lr.prototype.set=function(e,t){var r=this.__data__,n=Gr(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},Dr.prototype.clear=function(){this.size=0,this.__data__={hash:new xr,map:new(pr||Lr),string:new xr}},Dr.prototype.delete=function(e){var t=Xi(this,e).delete(e);return this.size-=t?1:0,t},Dr.prototype.get=function(e){return Xi(this,e).get(e)},Dr.prototype.has=function(e){return Xi(this,e).has(e)},Dr.prototype.set=function(e,t){var r=Xi(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},Pr.prototype.add=Pr.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Pr.prototype.has=function(e){return this.__data__.has(e)},Ur.prototype.clear=function(){this.__data__=new Lr,this.size=0},Ur.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},Ur.prototype.get=function(e){return this.__data__.get(e)},Ur.prototype.has=function(e){return this.__data__.has(e)},Ur.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Lr){var n=r.__data__;if(!pr||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Dr(n)}return r.set(e,t),this.size=r.size,this};var en=Si(cn),tn=Si(ln,!0);function rn(e,t){var r=!0;return en(e,(function(e,n,i){return r=!!t(e,n,i)})),r}function nn(e,t,r){for(var n=-1,i=e.length;++n<i;){var s=e[n],a=t(s);if(null!=a&&(void 0===o?a==a&&!Ja(a):r(a,o)))var o=a,u=s}return u}function sn(e,t){var r=[];return en(e,(function(e,n,i){t(e,n,i)&&r.push(e)})),r}function an(e,t,r,n,i){var s=-1,a=e.length;for(r||(r=as),i||(i=[]);++s<a;){var o=e[s];t>0&&r(o)?t>1?an(o,t-1,r,n,i):pt(i,o):n||(i[i.length]=o)}return i}var on=wi(),un=wi(!0);function cn(e,t){return e&&on(e,t,bo)}function ln(e,t){return e&&un(e,t,bo)}function fn(e,t){return ct(t,(function(t){return Va(e[t])}))}function hn(e,t){for(var r=0,n=(t=ui(t,e)).length;null!=e&&r<n;)e=e[As(t[r++])];return r&&r==n?e:void 0}function pn(e,t,r){var n=t(e);return xa(e)?n:pt(n,r(e))}function dn(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":mt&&mt in de(e)?function(e){var t=we.call(e,mt),r=e[mt];try{e[mt]=void 0;var n=!0}catch(e){}var i=Ae.call(e);n&&(t?e[mt]=r:delete e[mt]);return i}(e):function(e){return Ae.call(e)}(e)}function gn(e,t){return e>t}function yn(e,t){return null!=e&&we.call(e,t)}function mn(e,t){return null!=e&&t in de(e)}function vn(e,t,r){for(var i=r?ft:lt,s=e[0].length,a=e.length,o=a,u=n(a),c=1/0,l=[];o--;){var f=e[o];o&&t&&(f=ht(f,Rt(t))),c=or(f.length,c),u[o]=!r&&(t||s>=120&&f.length>=120)?new Pr(o&&f):void 0}f=e[0];var h=-1,p=u[0];e:for(;++h<s&&l.length<c;){var d=f[h],g=t?t(d):d;if(d=r||0!==d?d:0,!(p?Ot(p,g):i(l,g,r))){for(o=a;--o;){var y=u[o];if(!(y?Ot(y,g):i(e[o],g,r)))continue e}p&&p.push(g),l.push(d)}}return l}function Cn(e,t,r){var n=null==(e=ys(e,t=ui(t,e)))?e:e[As(Fs(t))];return null==n?void 0:it(n,e,r)}function En(e){return Ga(e)&&dn(e)==o}function bn(e,t,r,n,i){return e===t||(null==e||null==t||!Ga(e)&&!Ga(t)?e!=e&&t!=t:function(e,t,r,n,i,s){var a=xa(e),h=xa(t),p=a?u:ns(e),b=h?u:ns(t),_=(p=p==o?y:p)==y,T=(b=b==o?y:b)==y,A=p==b;if(A&&Ua(e)){if(!Ua(t))return!1;a=!0,_=!1}if(A&&!_)return s||(s=new Ur),a||Xa(e)?Gi(e,t,r,n,i,s):function(e,t,r,n,i,s,a){switch(r){case w:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case S:return!(e.byteLength!=t.byteLength||!s(new De(e),new De(t)));case c:case l:case g:return ka(+e,+t);case f:return e.name==t.name&&e.message==t.message;case m:case C:return e==t+"";case d:var o=Vt;case v:var u=1&n;if(o||(o=qt),e.size!=t.size&&!u)return!1;var h=a.get(e);if(h)return h==t;n|=2,a.set(e,t);var p=Gi(o(e),o(t),n,i,s,a);return a.delete(e),p;case E:if(Ar)return Ar.call(e)==Ar.call(t)}return!1}(e,t,p,r,n,i,s);if(!(1&r)){var I=_&&we.call(e,"__wrapped__"),B=T&&we.call(t,"__wrapped__");if(I||B){var k=I?e.value():e,R=B?t.value():t;return s||(s=new Ur),i(k,R,r,n,s)}}if(!A)return!1;return s||(s=new Ur),function(e,t,r,n,i,s){var a=1&r,o=zi(e),u=o.length,c=zi(t).length;if(u!=c&&!a)return!1;var l=u;for(;l--;){var f=o[l];if(!(a?f in t:we.call(t,f)))return!1}var h=s.get(e),p=s.get(t);if(h&&p)return h==t&&p==e;var d=!0;s.set(e,t),s.set(t,e);var g=a;for(;++l<u;){f=o[l];var y=e[f],m=t[f];if(n)var v=a?n(m,y,f,t,e,s):n(y,m,f,e,t,s);if(!(void 0===v?y===m||i(y,m,r,n,s):v)){d=!1;break}g||(g="constructor"==f)}if(d&&!g){var C=e.constructor,E=t.constructor;C==E||!("constructor"in e)||!("constructor"in t)||"function"==typeof C&&C instanceof C&&"function"==typeof E&&E instanceof E||(d=!1)}return s.delete(e),s.delete(t),d}(e,t,r,n,i,s)}(e,t,r,n,bn,i))}function Sn(e,t,r,n){var i=r.length,s=i,a=!n;if(null==e)return!s;for(e=de(e);i--;){var o=r[i];if(a&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++i<s;){var u=(o=r[i])[0],c=e[u],l=o[1];if(a&&o[2]){if(void 0===c&&!(u in e))return!1}else{var f=new Ur;if(n)var h=n(c,l,u,e,t,f);if(!(void 0===h?bn(l,c,3,n,f):h))return!1}}return!0}function wn(e){return!(!qa(e)||(t=e,Te&&Te in t))&&(Va(e)?ke:se).test(Is(e));var t}function _n(e){return"function"==typeof e?e:null==e?Wo:"object"==typeof e?xa(e)?Rn(e[0],e[1]):kn(e):ru(e)}function Tn(e){if(!hs(e))return sr(e);var t=[];for(var r in de(e))we.call(e,r)&&"constructor"!=r&&t.push(r);return t}function An(e){if(!qa(e))return function(e){var t=[];if(null!=e)for(var r in de(e))t.push(r);return t}(e);var t=hs(e),r=[];for(var n in e)("constructor"!=n||!t&&we.call(e,n))&&r.push(n);return r}function In(e,t){return e<t}function Bn(e,t){var r=-1,i=Da(e)?n(e.length):[];return en(e,(function(e,n,s){i[++r]=t(e,n,s)})),i}function kn(e){var t=Zi(e);return 1==t.length&&t[0][2]?ds(t[0][0],t[0][1]):function(r){return r===e||Sn(r,e,t)}}function Rn(e,t){return cs(e)&&ps(t)?ds(As(e),t):function(r){var n=yo(r,e);return void 0===n&&n===t?mo(r,e):bn(t,n,3)}}function Nn(e,t,r,n,i){e!==t&&on(t,(function(s,a){if(i||(i=new Ur),qa(s))!function(e,t,r,n,i,s,a){var o=vs(e,r),u=vs(t,r),c=a.get(u);if(c)return void Kr(e,r,c);var l=s?s(o,u,r+"",e,t,a):void 0,f=void 0===l;if(f){var h=xa(u),p=!h&&Ua(u),d=!h&&!p&&Xa(u);l=u,h||p||d?xa(o)?l=o:Pa(o)?l=vi(o):p?(f=!1,l=hi(u,!0)):d?(f=!1,l=di(u,!0)):l=[]:Wa(u)||Oa(u)?(l=o,Oa(o)?l=ao(o):qa(o)&&!Va(o)||(l=ss(u))):f=!1}f&&(a.set(u,l),i(l,u,n,s,a),a.delete(u));Kr(e,r,l)}(e,t,a,r,Nn,n,i);else{var o=n?n(vs(e,a),s,a+"",e,t,i):void 0;void 0===o&&(o=s),Kr(e,a,o)}}),So)}function On(e,t){var r=e.length;if(r)return os(t+=t<0?r:0,r)?e[t]:void 0}function xn(e,t,r){t=t.length?ht(t,(function(e){return xa(e)?function(t){return hn(t,1===e.length?e[0]:e)}:e})):[Wo];var n=-1;return t=ht(t,Rt(Ji())),function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}(Bn(e,(function(e,r,i){return{criteria:ht(t,(function(t){return t(e)})),index:++n,value:e}})),(function(e,t){return function(e,t,r){var n=-1,i=e.criteria,s=t.criteria,a=i.length,o=r.length;for(;++n<a;){var u=gi(i[n],s[n]);if(u){if(n>=o)return u;var c=r[n];return u*("desc"==c?-1:1)}}return e.index-t.index}(e,t,r)}))}function Ln(e,t,r){for(var n=-1,i=t.length,s={};++n<i;){var a=t[n],o=hn(e,a);r(o,a)&&Kn(s,ui(a,e),o)}return s}function Dn(e,t,r,n){var i=n?bt:Et,s=-1,a=t.length,o=e;for(e===t&&(t=vi(t)),r&&(o=ht(e,Rt(r)));++s<a;)for(var u=0,c=t[s],l=r?r(c):c;(u=i(o,l,u,n))>-1;)o!==e&&Qe.call(o,u,1),Qe.call(e,u,1);return e}function Pn(e,t){for(var r=e?t.length:0,n=r-1;r--;){var i=t[r];if(r==n||i!==s){var s=i;os(i)?Qe.call(e,i,1):ei(e,i)}}return e}function Un(e,t){return e+er(lr()*(t-e+1))}function jn(e,t){var r="";if(!e||t<1||t>9007199254740991)return r;do{t%2&&(r+=e),(t=er(t/2))&&(e+=e)}while(t);return r}function Fn(e,t){return bs(gs(e,t,Wo),e+"")}function Vn(e){return Fr(Ro(e))}function Mn(e,t){var r=Ro(e);return _s(r,$r(t,0,r.length))}function Kn(e,t,r,n){if(!qa(e))return e;for(var i=-1,s=(t=ui(t,e)).length,a=s-1,o=e;null!=o&&++i<s;){var u=As(t[i]),c=r;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(i!=a){var l=o[u];void 0===(c=n?n(l,u,o):void 0)&&(c=qa(l)?l:os(t[i+1])?[]:{})}qr(o,u,c),o=o[u]}return e}var qn=vr?function(e,t){return vr.set(e,t),e}:Wo,Gn=Tt?function(e,t){return Tt(e,"toString",{configurable:!0,enumerable:!1,value:Go(t),writable:!0})}:Wo;function Hn(e){return _s(Ro(e))}function zn(e,t,r){var i=-1,s=e.length;t<0&&(t=-t>s?0:s+t),(r=r>s?s:r)<0&&(r+=s),s=t>r?0:r-t>>>0,t>>>=0;for(var a=n(s);++i<s;)a[i]=e[i+t];return a}function Wn(e,t){var r;return en(e,(function(e,n,i){return!(r=t(e,n,i))})),!!r}function Qn(e,t,r){var n=0,i=null==e?n:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;n<i;){var s=n+i>>>1,a=e[s];null!==a&&!Ja(a)&&(r?a<=t:a<t)?n=s+1:i=s}return i}return $n(e,t,Wo,r)}function $n(e,t,r,n){var i=0,s=null==e?0:e.length;if(0===s)return 0;for(var a=(t=r(t))!=t,o=null===t,u=Ja(t),c=void 0===t;i<s;){var l=er((i+s)/2),f=r(e[l]),h=void 0!==f,p=null===f,d=f==f,g=Ja(f);if(a)var y=n||d;else y=c?d&&(n||h):o?d&&h&&(n||!p):u?d&&h&&!p&&(n||!g):!p&&!g&&(n?f<=t:f<t);y?i=l+1:s=l}return or(s,4294967294)}function Yn(e,t){for(var r=-1,n=e.length,i=0,s=[];++r<n;){var a=e[r],o=t?t(a):a;if(!r||!ka(o,u)){var u=o;s[i++]=0===a?0:a}}return s}function Jn(e){return"number"==typeof e?e:Ja(e)?NaN:+e}function Xn(e){if("string"==typeof e)return e;if(xa(e))return ht(e,Xn)+"";if(Ja(e))return Ir?Ir.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Zn(e,t,r){var n=-1,i=lt,s=e.length,a=!0,o=[],u=o;if(r)a=!1,i=ft;else if(s>=200){var c=t?null:ji(e);if(c)return qt(c);a=!1,i=Ot,u=new Pr}else u=t?[]:o;e:for(;++n<s;){var l=e[n],f=t?t(l):l;if(l=r||0!==l?l:0,a&&f==f){for(var h=u.length;h--;)if(u[h]===f)continue e;t&&u.push(f),o.push(l)}else i(u,f,r)||(u!==o&&u.push(f),o.push(l))}return o}function ei(e,t){return null==(e=ys(e,t=ui(t,e)))||delete e[As(Fs(t))]}function ti(e,t,r,n){return Kn(e,t,r(hn(e,t)),n)}function ri(e,t,r,n){for(var i=e.length,s=n?i:-1;(n?s--:++s<i)&&t(e[s],s,e););return r?zn(e,n?0:s,n?s+1:i):zn(e,n?s+1:0,n?i:s)}function ni(e,t){var r=e;return r instanceof Or&&(r=r.value()),dt(t,(function(e,t){return t.func.apply(t.thisArg,pt([e],t.args))}),r)}function ii(e,t,r){var i=e.length;if(i<2)return i?Zn(e[0]):[];for(var s=-1,a=n(i);++s<i;)for(var o=e[s],u=-1;++u<i;)u!=s&&(a[s]=Zr(a[s]||o,e[u],t,r));return Zn(an(a,1),t,r)}function si(e,t,r){for(var n=-1,i=e.length,s=t.length,a={};++n<i;){var o=n<s?t[n]:void 0;r(a,e[n],o)}return a}function ai(e){return Pa(e)?e:[]}function oi(e){return"function"==typeof e?e:Wo}function ui(e,t){return xa(e)?e:cs(e,t)?[e]:Ts(oo(e))}var ci=Fn;function li(e,t,r){var n=e.length;return r=void 0===r?n:r,!t&&r>=n?e:zn(e,t,r)}var fi=Yt||function(e){return ze.clearTimeout(e)};function hi(e,t){if(t)return e.slice();var r=e.length,n=Me?Me(r):new e.constructor(r);return e.copy(n),n}function pi(e){var t=new e.constructor(e.byteLength);return new De(t).set(new De(e)),t}function di(e,t){var r=t?pi(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function gi(e,t){if(e!==t){var r=void 0!==e,n=null===e,i=e==e,s=Ja(e),a=void 0!==t,o=null===t,u=t==t,c=Ja(t);if(!o&&!c&&!s&&e>t||s&&a&&u&&!o&&!c||n&&a&&u||!r&&u||!i)return 1;if(!n&&!s&&!c&&e<t||c&&r&&i&&!n&&!s||o&&r&&i||!a&&i||!u)return-1}return 0}function yi(e,t,r,i){for(var s=-1,a=e.length,o=r.length,u=-1,c=t.length,l=ar(a-o,0),f=n(c+l),h=!i;++u<c;)f[u]=t[u];for(;++s<o;)(h||s<a)&&(f[r[s]]=e[s]);for(;l--;)f[u++]=e[s++];return f}function mi(e,t,r,i){for(var s=-1,a=e.length,o=-1,u=r.length,c=-1,l=t.length,f=ar(a-u,0),h=n(f+l),p=!i;++s<f;)h[s]=e[s];for(var d=s;++c<l;)h[d+c]=t[c];for(;++o<u;)(p||s<a)&&(h[d+r[o]]=e[s++]);return h}function vi(e,t){var r=-1,i=e.length;for(t||(t=n(i));++r<i;)t[r]=e[r];return t}function Ci(e,t,r,n){var i=!r;r||(r={});for(var s=-1,a=t.length;++s<a;){var o=t[s],u=n?n(r[o],e[o],o,r,e):void 0;void 0===u&&(u=e[o]),i?Wr(r,o,u):qr(r,o,u)}return r}function Ei(e,t){return function(r,n){var i=xa(r)?st:Hr,s=t?t():{};return i(r,e,Ji(n,2),s)}}function bi(e){return Fn((function(t,r){var n=-1,i=r.length,s=i>1?r[i-1]:void 0,a=i>2?r[2]:void 0;for(s=e.length>3&&"function"==typeof s?(i--,s):void 0,a&&us(r[0],r[1],a)&&(s=i<3?void 0:s,i=1),t=de(t);++n<i;){var o=r[n];o&&e(t,o,n,s)}return t}))}function Si(e,t){return function(r,n){if(null==r)return r;if(!Da(r))return e(r,n);for(var i=r.length,s=t?i:-1,a=de(r);(t?s--:++s<i)&&!1!==n(a[s],s,a););return r}}function wi(e){return function(t,r,n){for(var i=-1,s=de(t),a=n(t),o=a.length;o--;){var u=a[e?o:++i];if(!1===r(s[u],u,s))break}return t}}function _i(e){return function(t){var r=Ft(t=oo(t))?zt(t):void 0,n=r?r[0]:t.charAt(0),i=r?li(r,1).join(""):t.slice(1);return n[e]()+i}}function Ti(e){return function(t){return dt(Mo(xo(t).replace(Ne,"")),e,"")}}function Ai(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=kr(e.prototype),n=e.apply(r,t);return qa(n)?n:r}}function Ii(e){return function(t,r,n){var i=de(t);if(!Da(t)){var s=Ji(r,3);t=bo(t),r=function(e){return s(i[e],e,i)}}var a=e(t,r,n);return a>-1?i[s?t[a]:a]:void 0}}function Bi(e){return Hi((function(t){var r=t.length,n=r,s=Nr.prototype.thru;for(e&&t.reverse();n--;){var a=t[n];if("function"!=typeof a)throw new me(i);if(s&&!o&&"wrapper"==$i(a))var o=new Nr([],!0)}for(n=o?n:r;++n<r;){var u=$i(a=t[n]),c="wrapper"==u?Qi(a):void 0;o=c&&ls(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?o[$i(c[0])].apply(o,c[3]):1==a.length&&ls(a)?o[u]():o.thru(a)}return function(){var e=arguments,n=e[0];if(o&&1==e.length&&xa(n))return o.plant(n).value();for(var i=0,s=r?t[i].apply(this,e):n;++i<r;)s=t[i].call(this,s);return s}}))}function ki(e,t,r,i,s,a,o,u,c,l){var f=128&t,h=1&t,p=2&t,d=24&t,g=512&t,y=p?void 0:Ai(e);return function m(){for(var v=arguments.length,C=n(v),E=v;E--;)C[E]=arguments[E];if(d)var b=Yi(m),S=Dt(C,b);if(i&&(C=yi(C,i,s,d)),a&&(C=mi(C,a,o,d)),v-=S,d&&v<l){var w=Kt(C,b);return Pi(e,t,ki,m.placeholder,r,C,w,u,c,l-v)}var _=h?r:this,T=p?_[e]:e;return v=C.length,u?C=ms(C,u):g&&v>1&&C.reverse(),f&&c<v&&(C.length=c),this&&this!==ze&&this instanceof m&&(T=y||Ai(T)),T.apply(_,C)}}function Ri(e,t){return function(r,n){return function(e,t,r,n){return cn(e,(function(e,i,s){t(n,r(e),i,s)})),n}(r,e,t(n),{})}}function Ni(e,t){return function(r,n){var i;if(void 0===r&&void 0===n)return t;if(void 0!==r&&(i=r),void 0!==n){if(void 0===i)return n;"string"==typeof r||"string"==typeof n?(r=Xn(r),n=Xn(n)):(r=Jn(r),n=Jn(n)),i=e(r,n)}return i}}function Oi(e){return Hi((function(t){return t=ht(t,Rt(Ji())),Fn((function(r){var n=this;return e(t,(function(e){return it(e,n,r)}))}))}))}function xi(e,t){var r=(t=void 0===t?" ":Xn(t)).length;if(r<2)return r?jn(t,e):t;var n=jn(t,Zt(e/Ht(t)));return Ft(t)?li(zt(n),0,e).join(""):n.slice(0,e)}function Li(e){return function(t,r,i){return i&&"number"!=typeof i&&us(t,r,i)&&(r=i=void 0),t=ro(t),void 0===r?(r=t,t=0):r=ro(r),function(e,t,r,i){for(var s=-1,a=ar(Zt((t-e)/(r||1)),0),o=n(a);a--;)o[i?a:++s]=e,e+=r;return o}(t,r,i=void 0===i?t<r?1:-1:ro(i),e)}}function Di(e){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=so(t),r=so(r)),e(t,r)}}function Pi(e,t,r,n,i,s,a,o,u,c){var l=8&t;t|=l?32:64,4&(t&=~(l?64:32))||(t&=-4);var f=[e,t,i,l?s:void 0,l?a:void 0,l?void 0:s,l?void 0:a,o,u,c],h=r.apply(void 0,f);return ls(e)&&Cs(h,f),h.placeholder=n,Ss(h,e,t)}function Ui(e){var t=pe[e];return function(e,r){if(e=so(e),(r=null==r?0:or(no(r),292))&&nr(e)){var n=(oo(e)+"e").split("e");return+((n=(oo(t(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return t(e)}}var ji=gr&&1/qt(new gr([,-0]))[1]==1/0?function(e){return new gr(e)}:Xo;function Fi(e){return function(t){var r=ns(t);return r==d?Vt(t):r==v?Gt(t):function(e,t){return ht(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Vi(e,t,r,a,o,u,c,l){var f=2&t;if(!f&&"function"!=typeof e)throw new me(i);var h=a?a.length:0;if(h||(t&=-97,a=o=void 0),c=void 0===c?c:ar(no(c),0),l=void 0===l?l:no(l),h-=o?o.length:0,64&t){var p=a,d=o;a=o=void 0}var g=f?void 0:Qi(e),y=[e,t,r,a,o,p,d,u,c,l];if(g&&function(e,t){var r=e[1],n=t[1],i=r|n,a=i<131,o=128==n&&8==r||128==n&&256==r&&e[7].length<=t[8]||384==n&&t[7].length<=t[8]&&8==r;if(!a&&!o)return e;1&n&&(e[2]=t[2],i|=1&r?0:4);var u=t[3];if(u){var c=e[3];e[3]=c?yi(c,u,t[4]):u,e[4]=c?Kt(e[3],s):t[4]}(u=t[5])&&(c=e[5],e[5]=c?mi(c,u,t[6]):u,e[6]=c?Kt(e[5],s):t[6]);(u=t[7])&&(e[7]=u);128&n&&(e[8]=null==e[8]?t[8]:or(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(y,g),e=y[0],t=y[1],r=y[2],a=y[3],o=y[4],!(l=y[9]=void 0===y[9]?f?0:e.length:ar(y[9]-h,0))&&24&t&&(t&=-25),t&&1!=t)m=8==t||16==t?function(e,t,r){var i=Ai(e);return function s(){for(var a=arguments.length,o=n(a),u=a,c=Yi(s);u--;)o[u]=arguments[u];var l=a<3&&o[0]!==c&&o[a-1]!==c?[]:Kt(o,c);if((a-=l.length)<r)return Pi(e,t,ki,s.placeholder,void 0,o,l,void 0,void 0,r-a);var f=this&&this!==ze&&this instanceof s?i:e;return it(f,this,o)}}(e,t,l):32!=t&&33!=t||o.length?ki.apply(void 0,y):function(e,t,r,i){var s=1&t,a=Ai(e);return function t(){for(var o=-1,u=arguments.length,c=-1,l=i.length,f=n(l+u),h=this&&this!==ze&&this instanceof t?a:e;++c<l;)f[c]=i[c];for(;u--;)f[c++]=arguments[++o];return it(h,s?r:this,f)}}(e,t,r,a);else var m=function(e,t,r){var n=1&t,i=Ai(e);return function t(){var s=this&&this!==ze&&this instanceof t?i:e;return s.apply(n?r:this,arguments)}}(e,t,r);return Ss((g?qn:Cs)(m,y),e,t)}function Mi(e,t,r,n){return void 0===e||ka(e,Ee[r])&&!we.call(n,r)?t:e}function Ki(e,t,r,n,i,s){return qa(e)&&qa(t)&&(s.set(t,e),Nn(e,t,void 0,Ki,s),s.delete(t)),e}function qi(e){return Wa(e)?void 0:e}function Gi(e,t,r,n,i,s){var a=1&r,o=e.length,u=t.length;if(o!=u&&!(a&&u>o))return!1;var c=s.get(e),l=s.get(t);if(c&&l)return c==t&&l==e;var f=-1,h=!0,p=2&r?new Pr:void 0;for(s.set(e,t),s.set(t,e);++f<o;){var d=e[f],g=t[f];if(n)var y=a?n(g,d,f,t,e,s):n(d,g,f,e,t,s);if(void 0!==y){if(y)continue;h=!1;break}if(p){if(!yt(t,(function(e,t){if(!Ot(p,t)&&(d===e||i(d,e,r,n,s)))return p.push(t)}))){h=!1;break}}else if(d!==g&&!i(d,g,r,n,s)){h=!1;break}}return s.delete(e),s.delete(t),h}function Hi(e){return bs(gs(e,void 0,Ls),e+"")}function zi(e){return pn(e,bo,ts)}function Wi(e){return pn(e,So,rs)}var Qi=vr?function(e){return vr.get(e)}:Xo;function $i(e){for(var t=e.name+"",r=Cr[t],n=we.call(Cr,t)?r.length:0;n--;){var i=r[n],s=i.func;if(null==s||s==e)return i.name}return t}function Yi(e){return(we.call(Br,"placeholder")?Br:e).placeholder}function Ji(){var e=Br.iteratee||Qo;return e=e===Qo?_n:e,arguments.length?e(arguments[0],arguments[1]):e}function Xi(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function Zi(e){for(var t=bo(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,ps(i)]}return t}function es(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return wn(r)?r:void 0}var ts=tr?function(e){return null==e?[]:(e=de(e),ct(tr(e),(function(t){return We.call(e,t)})))}:su,rs=tr?function(e){for(var t=[];e;)pt(t,ts(e)),e=Ge(e);return t}:su,ns=dn;function is(e,t,r){for(var n=-1,i=(t=ui(t,e)).length,s=!1;++n<i;){var a=As(t[n]);if(!(s=null!=e&&r(e,a)))break;e=e[a]}return s||++n!=i?s:!!(i=null==e?0:e.length)&&Ka(i)&&os(a,i)&&(xa(e)||Oa(e))}function ss(e){return"function"!=typeof e.constructor||hs(e)?{}:kr(Ge(e))}function as(e){return xa(e)||Oa(e)||!!(Ye&&e&&e[Ye])}function os(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&oe.test(e))&&e>-1&&e%1==0&&e<t}function us(e,t,r){if(!qa(r))return!1;var n=typeof t;return!!("number"==n?Da(r)&&os(t,r.length):"string"==n&&t in r)&&ka(r[t],e)}function cs(e,t){if(xa(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!Ja(e))||(q.test(e)||!K.test(e)||null!=t&&e in de(t))}function ls(e){var t=$i(e),r=Br[t];if("function"!=typeof r||!(t in Or.prototype))return!1;if(e===r)return!0;var n=Qi(r);return!!n&&e===n[0]}(hr&&ns(new hr(new ArrayBuffer(1)))!=w||pr&&ns(new pr)!=d||dr&&"[object Promise]"!=ns(dr.resolve())||gr&&ns(new gr)!=v||yr&&ns(new yr)!=b)&&(ns=function(e){var t=dn(e),r=t==y?e.constructor:void 0,n=r?Is(r):"";if(n)switch(n){case Er:return w;case br:return d;case Sr:return"[object Promise]";case wr:return v;case _r:return b}return t});var fs=be?Va:au;function hs(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Ee)}function ps(e){return e==e&&!qa(e)}function ds(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in de(r)))}}function gs(e,t,r){return t=ar(void 0===t?e.length-1:t,0),function(){for(var i=arguments,s=-1,a=ar(i.length-t,0),o=n(a);++s<a;)o[s]=i[t+s];s=-1;for(var u=n(t+1);++s<t;)u[s]=i[s];return u[t]=r(o),it(e,this,u)}}function ys(e,t){return t.length<2?e:hn(e,zn(t,0,-1))}function ms(e,t){for(var r=e.length,n=or(t.length,r),i=vi(e);n--;){var s=t[n];e[n]=os(s,r)?i[s]:void 0}return e}function vs(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Cs=ws(qn),Es=Xt||function(e,t){return ze.setTimeout(e,t)},bs=ws(Gn);function Ss(e,t,r){var n=t+"";return bs(e,function(e,t){var r=t.length;if(!r)return e;var n=r-1;return t[n]=(r>1?"& ":"")+t[n],t=t.join(r>2?", ":" "),e.replace($,"{\n/* [wrapped with "+t+"] */\n")}(n,function(e,t){return at(a,(function(r){var n="_."+r[0];t&r[1]&&!lt(e,n)&&e.push(n)})),e.sort()}(function(e){var t=e.match(Y);return t?t[1].split(J):[]}(n),r)))}function ws(e){var t=0,r=0;return function(){var n=ur(),i=16-(n-r);if(r=n,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function _s(e,t){var r=-1,n=e.length,i=n-1;for(t=void 0===t?n:t;++r<t;){var s=Un(r,i),a=e[s];e[s]=e[r],e[r]=a}return e.length=t,e}var Ts=function(e){var t=wa(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(G,(function(e,r,n,i){t.push(n?i.replace(ee,"$1"):r||e)})),t}));function As(e){if("string"==typeof e||Ja(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Is(e){if(null!=e){try{return Se.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Bs(e){if(e instanceof Or)return e.clone();var t=new Nr(e.__wrapped__,e.__chain__);return t.__actions__=vi(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var ks=Fn((function(e,t){return Pa(e)?Zr(e,an(t,1,Pa,!0)):[]})),Rs=Fn((function(e,t){var r=Fs(t);return Pa(r)&&(r=void 0),Pa(e)?Zr(e,an(t,1,Pa,!0),Ji(r,2)):[]})),Ns=Fn((function(e,t){var r=Fs(t);return Pa(r)&&(r=void 0),Pa(e)?Zr(e,an(t,1,Pa,!0),void 0,r):[]}));function Os(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:no(r);return i<0&&(i=ar(n+i,0)),Ct(e,Ji(t,3),i)}function xs(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=n-1;return void 0!==r&&(i=no(r),i=r<0?ar(n+i,0):or(i,n-1)),Ct(e,Ji(t,3),i,!0)}function Ls(e){return(null==e?0:e.length)?an(e,1):[]}function Ds(e){return e&&e.length?e[0]:void 0}var Ps=Fn((function(e){var t=ht(e,ai);return t.length&&t[0]===e[0]?vn(t):[]})),Us=Fn((function(e){var t=Fs(e),r=ht(e,ai);return t===Fs(r)?t=void 0:r.pop(),r.length&&r[0]===e[0]?vn(r,Ji(t,2)):[]})),js=Fn((function(e){var t=Fs(e),r=ht(e,ai);return(t="function"==typeof t?t:void 0)&&r.pop(),r.length&&r[0]===e[0]?vn(r,void 0,t):[]}));function Fs(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}var Vs=Fn(Ms);function Ms(e,t){return e&&e.length&&t&&t.length?Dn(e,t):e}var Ks=Hi((function(e,t){var r=null==e?0:e.length,n=Qr(e,t);return Pn(e,ht(t,(function(e){return os(e,r)?+e:e})).sort(gi)),n}));function qs(e){return null==e?e:fr.call(e)}var Gs=Fn((function(e){return Zn(an(e,1,Pa,!0))})),Hs=Fn((function(e){var t=Fs(e);return Pa(t)&&(t=void 0),Zn(an(e,1,Pa,!0),Ji(t,2))})),zs=Fn((function(e){var t=Fs(e);return t="function"==typeof t?t:void 0,Zn(an(e,1,Pa,!0),void 0,t)}));function Ws(e){if(!e||!e.length)return[];var t=0;return e=ct(e,(function(e){if(Pa(e))return t=ar(e.length,t),!0})),Bt(t,(function(t){return ht(e,_t(t))}))}function Qs(e,t){if(!e||!e.length)return[];var r=Ws(e);return null==t?r:ht(r,(function(e){return it(t,void 0,e)}))}var $s=Fn((function(e,t){return Pa(e)?Zr(e,t):[]})),Ys=Fn((function(e){return ii(ct(e,Pa))})),Js=Fn((function(e){var t=Fs(e);return Pa(t)&&(t=void 0),ii(ct(e,Pa),Ji(t,2))})),Xs=Fn((function(e){var t=Fs(e);return t="function"==typeof t?t:void 0,ii(ct(e,Pa),void 0,t)})),Zs=Fn(Ws);var ea=Fn((function(e){var t=e.length,r=t>1?e[t-1]:void 0;return r="function"==typeof r?(e.pop(),r):void 0,Qs(e,r)}));function ta(e){var t=Br(e);return t.__chain__=!0,t}function ra(e,t){return t(e)}var na=Hi((function(e){var t=e.length,r=t?e[0]:0,n=this.__wrapped__,i=function(t){return Qr(t,e)};return!(t>1||this.__actions__.length)&&n instanceof Or&&os(r)?((n=n.slice(r,+r+(t?1:0))).__actions__.push({func:ra,args:[i],thisArg:void 0}),new Nr(n,this.__chain__).thru((function(e){return t&&!e.length&&e.push(void 0),e}))):this.thru(i)}));var ia=Ei((function(e,t,r){we.call(e,r)?++e[r]:Wr(e,r,1)}));var sa=Ii(Os),aa=Ii(xs);function oa(e,t){return(xa(e)?at:en)(e,Ji(t,3))}function ua(e,t){return(xa(e)?ot:tn)(e,Ji(t,3))}var ca=Ei((function(e,t,r){we.call(e,r)?e[r].push(t):Wr(e,r,[t])}));var la=Fn((function(e,t,r){var i=-1,s="function"==typeof t,a=Da(e)?n(e.length):[];return en(e,(function(e){a[++i]=s?it(t,e,r):Cn(e,t,r)})),a})),fa=Ei((function(e,t,r){Wr(e,r,t)}));function ha(e,t){return(xa(e)?ht:Bn)(e,Ji(t,3))}var pa=Ei((function(e,t,r){e[r?0:1].push(t)}),(function(){return[[],[]]}));var da=Fn((function(e,t){if(null==e)return[];var r=t.length;return r>1&&us(e,t[0],t[1])?t=[]:r>2&&us(t[0],t[1],t[2])&&(t=[t[0]]),xn(e,an(t,1),[])})),ga=Jt||function(){return ze.Date.now()};function ya(e,t,r){return t=r?void 0:t,Vi(e,128,void 0,void 0,void 0,void 0,t=e&&null==t?e.length:t)}function ma(e,t){var r;if("function"!=typeof t)throw new me(i);return e=no(e),function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=void 0),r}}var va=Fn((function(e,t,r){var n=1;if(r.length){var i=Kt(r,Yi(va));n|=32}return Vi(e,n,t,r,i)})),Ca=Fn((function(e,t,r){var n=3;if(r.length){var i=Kt(r,Yi(Ca));n|=32}return Vi(t,n,e,r,i)}));function Ea(e,t,r){var n,s,a,o,u,c,l=0,f=!1,h=!1,p=!0;if("function"!=typeof e)throw new me(i);function d(t){var r=n,i=s;return n=s=void 0,l=t,o=e.apply(i,r)}function g(e){return l=e,u=Es(m,t),f?d(e):o}function y(e){var r=e-c;return void 0===c||r>=t||r<0||h&&e-l>=a}function m(){var e=ga();if(y(e))return v(e);u=Es(m,function(e){var r=t-(e-c);return h?or(r,a-(e-l)):r}(e))}function v(e){return u=void 0,p&&n?d(e):(n=s=void 0,o)}function C(){var e=ga(),r=y(e);if(n=arguments,s=this,c=e,r){if(void 0===u)return g(c);if(h)return fi(u),u=Es(m,t),d(c)}return void 0===u&&(u=Es(m,t)),o}return t=so(t)||0,qa(r)&&(f=!!r.leading,a=(h="maxWait"in r)?ar(so(r.maxWait)||0,t):a,p="trailing"in r?!!r.trailing:p),C.cancel=function(){void 0!==u&&fi(u),l=0,n=c=s=u=void 0},C.flush=function(){return void 0===u?o:v(ga())},C}var ba=Fn((function(e,t){return Xr(e,1,t)})),Sa=Fn((function(e,t,r){return Xr(e,so(t)||0,r)}));function wa(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new me(i);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],s=r.cache;if(s.has(i))return s.get(i);var a=e.apply(this,n);return r.cache=s.set(i,a)||s,a};return r.cache=new(wa.Cache||Dr),r}function _a(e){if("function"!=typeof e)throw new me(i);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}wa.Cache=Dr;var Ta=ci((function(e,t){var r=(t=1==t.length&&xa(t[0])?ht(t[0],Rt(Ji())):ht(an(t,1),Rt(Ji()))).length;return Fn((function(n){for(var i=-1,s=or(n.length,r);++i<s;)n[i]=t[i].call(this,n[i]);return it(e,this,n)}))})),Aa=Fn((function(e,t){return Vi(e,32,void 0,t,Kt(t,Yi(Aa)))})),Ia=Fn((function(e,t){return Vi(e,64,void 0,t,Kt(t,Yi(Ia)))})),Ba=Hi((function(e,t){return Vi(e,256,void 0,void 0,void 0,t)}));function ka(e,t){return e===t||e!=e&&t!=t}var Ra=Di(gn),Na=Di((function(e,t){return e>=t})),Oa=En(function(){return arguments}())?En:function(e){return Ga(e)&&we.call(e,"callee")&&!We.call(e,"callee")},xa=n.isArray,La=Xe?Rt(Xe):function(e){return Ga(e)&&dn(e)==S};function Da(e){return null!=e&&Ka(e.length)&&!Va(e)}function Pa(e){return Ga(e)&&Da(e)}var Ua=rr||au,ja=Ze?Rt(Ze):function(e){return Ga(e)&&dn(e)==l};function Fa(e){if(!Ga(e))return!1;var t=dn(e);return t==f||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!Wa(e)}function Va(e){if(!qa(e))return!1;var t=dn(e);return t==h||t==p||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Ma(e){return"number"==typeof e&&e==no(e)}function Ka(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function qa(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ga(e){return null!=e&&"object"==typeof e}var Ha=et?Rt(et):function(e){return Ga(e)&&ns(e)==d};function za(e){return"number"==typeof e||Ga(e)&&dn(e)==g}function Wa(e){if(!Ga(e)||dn(e)!=y)return!1;var t=Ge(e);if(null===t)return!0;var r=we.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&Se.call(r)==Ie}var Qa=tt?Rt(tt):function(e){return Ga(e)&&dn(e)==m};var $a=rt?Rt(rt):function(e){return Ga(e)&&ns(e)==v};function Ya(e){return"string"==typeof e||!xa(e)&&Ga(e)&&dn(e)==C}function Ja(e){return"symbol"==typeof e||Ga(e)&&dn(e)==E}var Xa=nt?Rt(nt):function(e){return Ga(e)&&Ka(e.length)&&!!Fe[dn(e)]};var Za=Di(In),eo=Di((function(e,t){return e<=t}));function to(e){if(!e)return[];if(Da(e))return Ya(e)?zt(e):vi(e);if(Je&&e[Je])return function(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}(e[Je]());var t=ns(e);return(t==d?Vt:t==v?qt:Ro)(e)}function ro(e){return e?(e=so(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function no(e){var t=ro(e),r=t%1;return t==t?r?t-r:t:0}function io(e){return e?$r(no(e),0,4294967295):0}function so(e){if("number"==typeof e)return e;if(Ja(e))return NaN;if(qa(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=qa(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=kt(e);var r=ie.test(e);return r||ae.test(e)?qe(e.slice(2),r?2:8):ne.test(e)?NaN:+e}function ao(e){return Ci(e,So(e))}function oo(e){return null==e?"":Xn(e)}var uo=bi((function(e,t){if(hs(t)||Da(t))Ci(t,bo(t),e);else for(var r in t)we.call(t,r)&&qr(e,r,t[r])})),co=bi((function(e,t){Ci(t,So(t),e)})),lo=bi((function(e,t,r,n){Ci(t,So(t),e,n)})),fo=bi((function(e,t,r,n){Ci(t,bo(t),e,n)})),ho=Hi(Qr);var po=Fn((function(e,t){e=de(e);var r=-1,n=t.length,i=n>2?t[2]:void 0;for(i&&us(t[0],t[1],i)&&(n=1);++r<n;)for(var s=t[r],a=So(s),o=-1,u=a.length;++o<u;){var c=a[o],l=e[c];(void 0===l||ka(l,Ee[c])&&!we.call(e,c))&&(e[c]=s[c])}return e})),go=Fn((function(e){return e.push(void 0,Ki),it(_o,void 0,e)}));function yo(e,t,r){var n=null==e?void 0:hn(e,t);return void 0===n?r:n}function mo(e,t){return null!=e&&is(e,t,mn)}var vo=Ri((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=Ae.call(t)),e[t]=r}),Go(Wo)),Co=Ri((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=Ae.call(t)),we.call(e,t)?e[t].push(r):e[t]=[r]}),Ji),Eo=Fn(Cn);function bo(e){return Da(e)?jr(e):Tn(e)}function So(e){return Da(e)?jr(e,!0):An(e)}var wo=bi((function(e,t,r){Nn(e,t,r)})),_o=bi((function(e,t,r,n){Nn(e,t,r,n)})),To=Hi((function(e,t){var r={};if(null==e)return r;var n=!1;t=ht(t,(function(t){return t=ui(t,e),n||(n=t.length>1),t})),Ci(e,Wi(e),r),n&&(r=Yr(r,7,qi));for(var i=t.length;i--;)ei(r,t[i]);return r}));var Ao=Hi((function(e,t){return null==e?{}:function(e,t){return Ln(e,t,(function(t,r){return mo(e,r)}))}(e,t)}));function Io(e,t){if(null==e)return{};var r=ht(Wi(e),(function(e){return[e]}));return t=Ji(t),Ln(e,r,(function(e,r){return t(e,r[0])}))}var Bo=Fi(bo),ko=Fi(So);function Ro(e){return null==e?[]:Nt(e,bo(e))}var No=Ti((function(e,t,r){return t=t.toLowerCase(),e+(r?Oo(t):t)}));function Oo(e){return Vo(oo(e).toLowerCase())}function xo(e){return(e=oo(e))&&e.replace(ue,Pt).replace(Oe,"")}var Lo=Ti((function(e,t,r){return e+(r?"-":"")+t.toLowerCase()})),Do=Ti((function(e,t,r){return e+(r?" ":"")+t.toLowerCase()})),Po=_i("toLowerCase");var Uo=Ti((function(e,t,r){return e+(r?"_":"")+t.toLowerCase()}));var jo=Ti((function(e,t,r){return e+(r?" ":"")+Vo(t)}));var Fo=Ti((function(e,t,r){return e+(r?" ":"")+t.toUpperCase()})),Vo=_i("toUpperCase");function Mo(e,t,r){return e=oo(e),void 0===(t=r?void 0:t)?function(e){return Pe.test(e)}(e)?function(e){return e.match(Le)||[]}(e):function(e){return e.match(X)||[]}(e):e.match(t)||[]}var Ko=Fn((function(e,t){try{return it(e,void 0,t)}catch(e){return Fa(e)?e:new fe(e)}})),qo=Hi((function(e,t){return at(t,(function(t){t=As(t),Wr(e,t,va(e[t],e))})),e}));function Go(e){return function(){return e}}var Ho=Bi(),zo=Bi(!0);function Wo(e){return e}function Qo(e){return _n("function"==typeof e?e:Yr(e,1))}var $o=Fn((function(e,t){return function(r){return Cn(r,e,t)}})),Yo=Fn((function(e,t){return function(r){return Cn(e,r,t)}}));function Jo(e,t,r){var n=bo(t),i=fn(t,n);null!=r||qa(t)&&(i.length||!n.length)||(r=t,t=e,e=this,i=fn(t,bo(t)));var s=!(qa(r)&&"chain"in r&&!r.chain),a=Va(e);return at(i,(function(r){var n=t[r];e[r]=n,a&&(e.prototype[r]=function(){var t=this.__chain__;if(s||t){var r=e(this.__wrapped__),i=r.__actions__=vi(this.__actions__);return i.push({func:n,args:arguments,thisArg:e}),r.__chain__=t,r}return n.apply(e,pt([this.value()],arguments))})})),e}function Xo(){}var Zo=Oi(ht),eu=Oi(ut),tu=Oi(yt);function ru(e){return cs(e)?_t(As(e)):function(e){return function(t){return hn(t,e)}}(e)}var nu=Li(),iu=Li(!0);function su(){return[]}function au(){return!1}var ou=Ni((function(e,t){return e+t}),0),uu=Ui("ceil"),cu=Ni((function(e,t){return e/t}),1),lu=Ui("floor");var fu,hu=Ni((function(e,t){return e*t}),1),pu=Ui("round"),du=Ni((function(e,t){return e-t}),0);return Br.after=function(e,t){if("function"!=typeof t)throw new me(i);return e=no(e),function(){if(--e<1)return t.apply(this,arguments)}},Br.ary=ya,Br.assign=uo,Br.assignIn=co,Br.assignInWith=lo,Br.assignWith=fo,Br.at=ho,Br.before=ma,Br.bind=va,Br.bindAll=qo,Br.bindKey=Ca,Br.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return xa(e)?e:[e]},Br.chain=ta,Br.chunk=function(e,t,r){t=(r?us(e,t,r):void 0===t)?1:ar(no(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var s=0,a=0,o=n(Zt(i/t));s<i;)o[a++]=zn(e,s,s+=t);return o},Br.compact=function(e){for(var t=-1,r=null==e?0:e.length,n=0,i=[];++t<r;){var s=e[t];s&&(i[n++]=s)}return i},Br.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],i=e;i--;)t[i-1]=arguments[i];return pt(xa(r)?vi(r):[r],an(t,1))},Br.cond=function(e){var t=null==e?0:e.length,r=Ji();return e=t?ht(e,(function(e){if("function"!=typeof e[1])throw new me(i);return[r(e[0]),e[1]]})):[],Fn((function(r){for(var n=-1;++n<t;){var i=e[n];if(it(i[0],this,r))return it(i[1],this,r)}}))},Br.conforms=function(e){return function(e){var t=bo(e);return function(r){return Jr(r,e,t)}}(Yr(e,1))},Br.constant=Go,Br.countBy=ia,Br.create=function(e,t){var r=kr(e);return null==t?r:zr(r,t)},Br.curry=function e(t,r,n){var i=Vi(t,8,void 0,void 0,void 0,void 0,void 0,r=n?void 0:r);return i.placeholder=e.placeholder,i},Br.curryRight=function e(t,r,n){var i=Vi(t,16,void 0,void 0,void 0,void 0,void 0,r=n?void 0:r);return i.placeholder=e.placeholder,i},Br.debounce=Ea,Br.defaults=po,Br.defaultsDeep=go,Br.defer=ba,Br.delay=Sa,Br.difference=ks,Br.differenceBy=Rs,Br.differenceWith=Ns,Br.drop=function(e,t,r){var n=null==e?0:e.length;return n?zn(e,(t=r||void 0===t?1:no(t))<0?0:t,n):[]},Br.dropRight=function(e,t,r){var n=null==e?0:e.length;return n?zn(e,0,(t=n-(t=r||void 0===t?1:no(t)))<0?0:t):[]},Br.dropRightWhile=function(e,t){return e&&e.length?ri(e,Ji(t,3),!0,!0):[]},Br.dropWhile=function(e,t){return e&&e.length?ri(e,Ji(t,3),!0):[]},Br.fill=function(e,t,r,n){var i=null==e?0:e.length;return i?(r&&"number"!=typeof r&&us(e,t,r)&&(r=0,n=i),function(e,t,r,n){var i=e.length;for((r=no(r))<0&&(r=-r>i?0:i+r),(n=void 0===n||n>i?i:no(n))<0&&(n+=i),n=r>n?0:io(n);r<n;)e[r++]=t;return e}(e,t,r,n)):[]},Br.filter=function(e,t){return(xa(e)?ct:sn)(e,Ji(t,3))},Br.flatMap=function(e,t){return an(ha(e,t),1)},Br.flatMapDeep=function(e,t){return an(ha(e,t),1/0)},Br.flatMapDepth=function(e,t,r){return r=void 0===r?1:no(r),an(ha(e,t),r)},Br.flatten=Ls,Br.flattenDeep=function(e){return(null==e?0:e.length)?an(e,1/0):[]},Br.flattenDepth=function(e,t){return(null==e?0:e.length)?an(e,t=void 0===t?1:no(t)):[]},Br.flip=function(e){return Vi(e,512)},Br.flow=Ho,Br.flowRight=zo,Br.fromPairs=function(e){for(var t=-1,r=null==e?0:e.length,n={};++t<r;){var i=e[t];n[i[0]]=i[1]}return n},Br.functions=function(e){return null==e?[]:fn(e,bo(e))},Br.functionsIn=function(e){return null==e?[]:fn(e,So(e))},Br.groupBy=ca,Br.initial=function(e){return(null==e?0:e.length)?zn(e,0,-1):[]},Br.intersection=Ps,Br.intersectionBy=Us,Br.intersectionWith=js,Br.invert=vo,Br.invertBy=Co,Br.invokeMap=la,Br.iteratee=Qo,Br.keyBy=fa,Br.keys=bo,Br.keysIn=So,Br.map=ha,Br.mapKeys=function(e,t){var r={};return t=Ji(t,3),cn(e,(function(e,n,i){Wr(r,t(e,n,i),e)})),r},Br.mapValues=function(e,t){var r={};return t=Ji(t,3),cn(e,(function(e,n,i){Wr(r,n,t(e,n,i))})),r},Br.matches=function(e){return kn(Yr(e,1))},Br.matchesProperty=function(e,t){return Rn(e,Yr(t,1))},Br.memoize=wa,Br.merge=wo,Br.mergeWith=_o,Br.method=$o,Br.methodOf=Yo,Br.mixin=Jo,Br.negate=_a,Br.nthArg=function(e){return e=no(e),Fn((function(t){return On(t,e)}))},Br.omit=To,Br.omitBy=function(e,t){return Io(e,_a(Ji(t)))},Br.once=function(e){return ma(2,e)},Br.orderBy=function(e,t,r,n){return null==e?[]:(xa(t)||(t=null==t?[]:[t]),xa(r=n?void 0:r)||(r=null==r?[]:[r]),xn(e,t,r))},Br.over=Zo,Br.overArgs=Ta,Br.overEvery=eu,Br.overSome=tu,Br.partial=Aa,Br.partialRight=Ia,Br.partition=pa,Br.pick=Ao,Br.pickBy=Io,Br.property=ru,Br.propertyOf=function(e){return function(t){return null==e?void 0:hn(e,t)}},Br.pull=Vs,Br.pullAll=Ms,Br.pullAllBy=function(e,t,r){return e&&e.length&&t&&t.length?Dn(e,t,Ji(r,2)):e},Br.pullAllWith=function(e,t,r){return e&&e.length&&t&&t.length?Dn(e,t,void 0,r):e},Br.pullAt=Ks,Br.range=nu,Br.rangeRight=iu,Br.rearg=Ba,Br.reject=function(e,t){return(xa(e)?ct:sn)(e,_a(Ji(t,3)))},Br.remove=function(e,t){var r=[];if(!e||!e.length)return r;var n=-1,i=[],s=e.length;for(t=Ji(t,3);++n<s;){var a=e[n];t(a,n,e)&&(r.push(a),i.push(n))}return Pn(e,i),r},Br.rest=function(e,t){if("function"!=typeof e)throw new me(i);return Fn(e,t=void 0===t?t:no(t))},Br.reverse=qs,Br.sampleSize=function(e,t,r){return t=(r?us(e,t,r):void 0===t)?1:no(t),(xa(e)?Vr:Mn)(e,t)},Br.set=function(e,t,r){return null==e?e:Kn(e,t,r)},Br.setWith=function(e,t,r,n){return n="function"==typeof n?n:void 0,null==e?e:Kn(e,t,r,n)},Br.shuffle=function(e){return(xa(e)?Mr:Hn)(e)},Br.slice=function(e,t,r){var n=null==e?0:e.length;return n?(r&&"number"!=typeof r&&us(e,t,r)?(t=0,r=n):(t=null==t?0:no(t),r=void 0===r?n:no(r)),zn(e,t,r)):[]},Br.sortBy=da,Br.sortedUniq=function(e){return e&&e.length?Yn(e):[]},Br.sortedUniqBy=function(e,t){return e&&e.length?Yn(e,Ji(t,2)):[]},Br.split=function(e,t,r){return r&&"number"!=typeof r&&us(e,t,r)&&(t=r=void 0),(r=void 0===r?4294967295:r>>>0)?(e=oo(e))&&("string"==typeof t||null!=t&&!Qa(t))&&!(t=Xn(t))&&Ft(e)?li(zt(e),0,r):e.split(t,r):[]},Br.spread=function(e,t){if("function"!=typeof e)throw new me(i);return t=null==t?0:ar(no(t),0),Fn((function(r){var n=r[t],i=li(r,0,t);return n&&pt(i,n),it(e,this,i)}))},Br.tail=function(e){var t=null==e?0:e.length;return t?zn(e,1,t):[]},Br.take=function(e,t,r){return e&&e.length?zn(e,0,(t=r||void 0===t?1:no(t))<0?0:t):[]},Br.takeRight=function(e,t,r){var n=null==e?0:e.length;return n?zn(e,(t=n-(t=r||void 0===t?1:no(t)))<0?0:t,n):[]},Br.takeRightWhile=function(e,t){return e&&e.length?ri(e,Ji(t,3),!1,!0):[]},Br.takeWhile=function(e,t){return e&&e.length?ri(e,Ji(t,3)):[]},Br.tap=function(e,t){return t(e),e},Br.throttle=function(e,t,r){var n=!0,s=!0;if("function"!=typeof e)throw new me(i);return qa(r)&&(n="leading"in r?!!r.leading:n,s="trailing"in r?!!r.trailing:s),Ea(e,t,{leading:n,maxWait:t,trailing:s})},Br.thru=ra,Br.toArray=to,Br.toPairs=Bo,Br.toPairsIn=ko,Br.toPath=function(e){return xa(e)?ht(e,As):Ja(e)?[e]:vi(Ts(oo(e)))},Br.toPlainObject=ao,Br.transform=function(e,t,r){var n=xa(e),i=n||Ua(e)||Xa(e);if(t=Ji(t,4),null==r){var s=e&&e.constructor;r=i?n?new s:[]:qa(e)&&Va(s)?kr(Ge(e)):{}}return(i?at:cn)(e,(function(e,n,i){return t(r,e,n,i)})),r},Br.unary=function(e){return ya(e,1)},Br.union=Gs,Br.unionBy=Hs,Br.unionWith=zs,Br.uniq=function(e){return e&&e.length?Zn(e):[]},Br.uniqBy=function(e,t){return e&&e.length?Zn(e,Ji(t,2)):[]},Br.uniqWith=function(e,t){return t="function"==typeof t?t:void 0,e&&e.length?Zn(e,void 0,t):[]},Br.unset=function(e,t){return null==e||ei(e,t)},Br.unzip=Ws,Br.unzipWith=Qs,Br.update=function(e,t,r){return null==e?e:ti(e,t,oi(r))},Br.updateWith=function(e,t,r,n){return n="function"==typeof n?n:void 0,null==e?e:ti(e,t,oi(r),n)},Br.values=Ro,Br.valuesIn=function(e){return null==e?[]:Nt(e,So(e))},Br.without=$s,Br.words=Mo,Br.wrap=function(e,t){return Aa(oi(t),e)},Br.xor=Ys,Br.xorBy=Js,Br.xorWith=Xs,Br.zip=Zs,Br.zipObject=function(e,t){return si(e||[],t||[],qr)},Br.zipObjectDeep=function(e,t){return si(e||[],t||[],Kn)},Br.zipWith=ea,Br.entries=Bo,Br.entriesIn=ko,Br.extend=co,Br.extendWith=lo,Jo(Br,Br),Br.add=ou,Br.attempt=Ko,Br.camelCase=No,Br.capitalize=Oo,Br.ceil=uu,Br.clamp=function(e,t,r){return void 0===r&&(r=t,t=void 0),void 0!==r&&(r=(r=so(r))==r?r:0),void 0!==t&&(t=(t=so(t))==t?t:0),$r(so(e),t,r)},Br.clone=function(e){return Yr(e,4)},Br.cloneDeep=function(e){return Yr(e,5)},Br.cloneDeepWith=function(e,t){return Yr(e,5,t="function"==typeof t?t:void 0)},Br.cloneWith=function(e,t){return Yr(e,4,t="function"==typeof t?t:void 0)},Br.conformsTo=function(e,t){return null==t||Jr(e,t,bo(t))},Br.deburr=xo,Br.defaultTo=function(e,t){return null==e||e!=e?t:e},Br.divide=cu,Br.endsWith=function(e,t,r){e=oo(e),t=Xn(t);var n=e.length,i=r=void 0===r?n:$r(no(r),0,n);return(r-=t.length)>=0&&e.slice(r,i)==t},Br.eq=ka,Br.escape=function(e){return(e=oo(e))&&j.test(e)?e.replace(P,Ut):e},Br.escapeRegExp=function(e){return(e=oo(e))&&z.test(e)?e.replace(H,"\\$&"):e},Br.every=function(e,t,r){var n=xa(e)?ut:rn;return r&&us(e,t,r)&&(t=void 0),n(e,Ji(t,3))},Br.find=sa,Br.findIndex=Os,Br.findKey=function(e,t){return vt(e,Ji(t,3),cn)},Br.findLast=aa,Br.findLastIndex=xs,Br.findLastKey=function(e,t){return vt(e,Ji(t,3),ln)},Br.floor=lu,Br.forEach=oa,Br.forEachRight=ua,Br.forIn=function(e,t){return null==e?e:on(e,Ji(t,3),So)},Br.forInRight=function(e,t){return null==e?e:un(e,Ji(t,3),So)},Br.forOwn=function(e,t){return e&&cn(e,Ji(t,3))},Br.forOwnRight=function(e,t){return e&&ln(e,Ji(t,3))},Br.get=yo,Br.gt=Ra,Br.gte=Na,Br.has=function(e,t){return null!=e&&is(e,t,yn)},Br.hasIn=mo,Br.head=Ds,Br.identity=Wo,Br.includes=function(e,t,r,n){e=Da(e)?e:Ro(e),r=r&&!n?no(r):0;var i=e.length;return r<0&&(r=ar(i+r,0)),Ya(e)?r<=i&&e.indexOf(t,r)>-1:!!i&&Et(e,t,r)>-1},Br.indexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:no(r);return i<0&&(i=ar(n+i,0)),Et(e,t,i)},Br.inRange=function(e,t,r){return t=ro(t),void 0===r?(r=t,t=0):r=ro(r),function(e,t,r){return e>=or(t,r)&&e<ar(t,r)}(e=so(e),t,r)},Br.invoke=Eo,Br.isArguments=Oa,Br.isArray=xa,Br.isArrayBuffer=La,Br.isArrayLike=Da,Br.isArrayLikeObject=Pa,Br.isBoolean=function(e){return!0===e||!1===e||Ga(e)&&dn(e)==c},Br.isBuffer=Ua,Br.isDate=ja,Br.isElement=function(e){return Ga(e)&&1===e.nodeType&&!Wa(e)},Br.isEmpty=function(e){if(null==e)return!0;if(Da(e)&&(xa(e)||"string"==typeof e||"function"==typeof e.splice||Ua(e)||Xa(e)||Oa(e)))return!e.length;var t=ns(e);if(t==d||t==v)return!e.size;if(hs(e))return!Tn(e).length;for(var r in e)if(we.call(e,r))return!1;return!0},Br.isEqual=function(e,t){return bn(e,t)},Br.isEqualWith=function(e,t,r){var n=(r="function"==typeof r?r:void 0)?r(e,t):void 0;return void 0===n?bn(e,t,void 0,r):!!n},Br.isError=Fa,Br.isFinite=function(e){return"number"==typeof e&&nr(e)},Br.isFunction=Va,Br.isInteger=Ma,Br.isLength=Ka,Br.isMap=Ha,Br.isMatch=function(e,t){return e===t||Sn(e,t,Zi(t))},Br.isMatchWith=function(e,t,r){return r="function"==typeof r?r:void 0,Sn(e,t,Zi(t),r)},Br.isNaN=function(e){return za(e)&&e!=+e},Br.isNative=function(e){if(fs(e))throw new fe("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return wn(e)},Br.isNil=function(e){return null==e},Br.isNull=function(e){return null===e},Br.isNumber=za,Br.isObject=qa,Br.isObjectLike=Ga,Br.isPlainObject=Wa,Br.isRegExp=Qa,Br.isSafeInteger=function(e){return Ma(e)&&e>=-9007199254740991&&e<=9007199254740991},Br.isSet=$a,Br.isString=Ya,Br.isSymbol=Ja,Br.isTypedArray=Xa,Br.isUndefined=function(e){return void 0===e},Br.isWeakMap=function(e){return Ga(e)&&ns(e)==b},Br.isWeakSet=function(e){return Ga(e)&&"[object WeakSet]"==dn(e)},Br.join=function(e,t){return null==e?"":ir.call(e,t)},Br.kebabCase=Lo,Br.last=Fs,Br.lastIndexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=n;return void 0!==r&&(i=(i=no(r))<0?ar(n+i,0):or(i,n-1)),t==t?function(e,t,r){for(var n=r+1;n--;)if(e[n]===t)return n;return n}(e,t,i):Ct(e,St,i,!0)},Br.lowerCase=Do,Br.lowerFirst=Po,Br.lt=Za,Br.lte=eo,Br.max=function(e){return e&&e.length?nn(e,Wo,gn):void 0},Br.maxBy=function(e,t){return e&&e.length?nn(e,Ji(t,2),gn):void 0},Br.mean=function(e){return wt(e,Wo)},Br.meanBy=function(e,t){return wt(e,Ji(t,2))},Br.min=function(e){return e&&e.length?nn(e,Wo,In):void 0},Br.minBy=function(e,t){return e&&e.length?nn(e,Ji(t,2),In):void 0},Br.stubArray=su,Br.stubFalse=au,Br.stubObject=function(){return{}},Br.stubString=function(){return""},Br.stubTrue=function(){return!0},Br.multiply=hu,Br.nth=function(e,t){return e&&e.length?On(e,no(t)):void 0},Br.noConflict=function(){return ze._===this&&(ze._=Be),this},Br.noop=Xo,Br.now=ga,Br.pad=function(e,t,r){e=oo(e);var n=(t=no(t))?Ht(e):0;if(!t||n>=t)return e;var i=(t-n)/2;return xi(er(i),r)+e+xi(Zt(i),r)},Br.padEnd=function(e,t,r){e=oo(e);var n=(t=no(t))?Ht(e):0;return t&&n<t?e+xi(t-n,r):e},Br.padStart=function(e,t,r){e=oo(e);var n=(t=no(t))?Ht(e):0;return t&&n<t?xi(t-n,r)+e:e},Br.parseInt=function(e,t,r){return r||null==t?t=0:t&&(t=+t),cr(oo(e).replace(W,""),t||0)},Br.random=function(e,t,r){if(r&&"boolean"!=typeof r&&us(e,t,r)&&(t=r=void 0),void 0===r&&("boolean"==typeof t?(r=t,t=void 0):"boolean"==typeof e&&(r=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=ro(e),void 0===t?(t=e,e=0):t=ro(t)),e>t){var n=e;e=t,t=n}if(r||e%1||t%1){var i=lr();return or(e+i*(t-e+Ke("1e-"+((i+"").length-1))),t)}return Un(e,t)},Br.reduce=function(e,t,r){var n=xa(e)?dt:At,i=arguments.length<3;return n(e,Ji(t,4),r,i,en)},Br.reduceRight=function(e,t,r){var n=xa(e)?gt:At,i=arguments.length<3;return n(e,Ji(t,4),r,i,tn)},Br.repeat=function(e,t,r){return t=(r?us(e,t,r):void 0===t)?1:no(t),jn(oo(e),t)},Br.replace=function(){var e=arguments,t=oo(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Br.result=function(e,t,r){var n=-1,i=(t=ui(t,e)).length;for(i||(i=1,e=void 0);++n<i;){var s=null==e?void 0:e[As(t[n])];void 0===s&&(n=i,s=r),e=Va(s)?s.call(e):s}return e},Br.round=pu,Br.runInContext=e,Br.sample=function(e){return(xa(e)?Fr:Vn)(e)},Br.size=function(e){if(null==e)return 0;if(Da(e))return Ya(e)?Ht(e):e.length;var t=ns(e);return t==d||t==v?e.size:Tn(e).length},Br.snakeCase=Uo,Br.some=function(e,t,r){var n=xa(e)?yt:Wn;return r&&us(e,t,r)&&(t=void 0),n(e,Ji(t,3))},Br.sortedIndex=function(e,t){return Qn(e,t)},Br.sortedIndexBy=function(e,t,r){return $n(e,t,Ji(r,2))},Br.sortedIndexOf=function(e,t){var r=null==e?0:e.length;if(r){var n=Qn(e,t);if(n<r&&ka(e[n],t))return n}return-1},Br.sortedLastIndex=function(e,t){return Qn(e,t,!0)},Br.sortedLastIndexBy=function(e,t,r){return $n(e,t,Ji(r,2),!0)},Br.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var r=Qn(e,t,!0)-1;if(ka(e[r],t))return r}return-1},Br.startCase=jo,Br.startsWith=function(e,t,r){return e=oo(e),r=null==r?0:$r(no(r),0,e.length),t=Xn(t),e.slice(r,r+t.length)==t},Br.subtract=du,Br.sum=function(e){return e&&e.length?It(e,Wo):0},Br.sumBy=function(e,t){return e&&e.length?It(e,Ji(t,2)):0},Br.template=function(e,t,r){var n=Br.templateSettings;r&&us(e,t,r)&&(t=void 0),e=oo(e),t=lo({},t,n,Mi);var i,s,a=lo({},t.imports,n.imports,Mi),o=bo(a),u=Nt(a,o),c=0,l=t.interpolate||ce,f="__p += '",h=ge((t.escape||ce).source+"|"+l.source+"|"+(l===M?te:ce).source+"|"+(t.evaluate||ce).source+"|$","g"),p="//# sourceURL="+(we.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++je+"]")+"\n";e.replace(h,(function(t,r,n,a,o,u){return n||(n=a),f+=e.slice(c,u).replace(le,jt),r&&(i=!0,f+="' +\n__e("+r+") +\n'"),o&&(s=!0,f+="';\n"+o+";\n__p += '"),n&&(f+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),c=u+t.length,t})),f+="';\n";var d=we.call(t,"variable")&&t.variable;if(d){if(Z.test(d))throw new fe("Invalid `variable` option passed into `_.template`")}else f="with (obj) {\n"+f+"\n}\n";f=(s?f.replace(O,""):f).replace(x,"$1").replace(L,"$1;"),f="function("+(d||"obj")+") {\n"+(d?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var g=Ko((function(){return he(o,p+"return "+f).apply(void 0,u)}));if(g.source=f,Fa(g))throw g;return g},Br.times=function(e,t){if((e=no(e))<1||e>9007199254740991)return[];var r=4294967295,n=or(e,4294967295);e-=4294967295;for(var i=Bt(n,t=Ji(t));++r<e;)t(r);return i},Br.toFinite=ro,Br.toInteger=no,Br.toLength=io,Br.toLower=function(e){return oo(e).toLowerCase()},Br.toNumber=so,Br.toSafeInteger=function(e){return e?$r(no(e),-9007199254740991,9007199254740991):0===e?e:0},Br.toString=oo,Br.toUpper=function(e){return oo(e).toUpperCase()},Br.trim=function(e,t,r){if((e=oo(e))&&(r||void 0===t))return kt(e);if(!e||!(t=Xn(t)))return e;var n=zt(e),i=zt(t);return li(n,xt(n,i),Lt(n,i)+1).join("")},Br.trimEnd=function(e,t,r){if((e=oo(e))&&(r||void 0===t))return e.slice(0,Wt(e)+1);if(!e||!(t=Xn(t)))return e;var n=zt(e);return li(n,0,Lt(n,zt(t))+1).join("")},Br.trimStart=function(e,t,r){if((e=oo(e))&&(r||void 0===t))return e.replace(W,"");if(!e||!(t=Xn(t)))return e;var n=zt(e);return li(n,xt(n,zt(t))).join("")},Br.truncate=function(e,t){var r=30,n="...";if(qa(t)){var i="separator"in t?t.separator:i;r="length"in t?no(t.length):r,n="omission"in t?Xn(t.omission):n}var s=(e=oo(e)).length;if(Ft(e)){var a=zt(e);s=a.length}if(r>=s)return e;var o=r-Ht(n);if(o<1)return n;var u=a?li(a,0,o).join(""):e.slice(0,o);if(void 0===i)return u+n;if(a&&(o+=u.length-o),Qa(i)){if(e.slice(o).search(i)){var c,l=u;for(i.global||(i=ge(i.source,oo(re.exec(i))+"g")),i.lastIndex=0;c=i.exec(l);)var f=c.index;u=u.slice(0,void 0===f?o:f)}}else if(e.indexOf(Xn(i),o)!=o){var h=u.lastIndexOf(i);h>-1&&(u=u.slice(0,h))}return u+n},Br.unescape=function(e){return(e=oo(e))&&U.test(e)?e.replace(D,Qt):e},Br.uniqueId=function(e){var t=++_e;return oo(e)+t},Br.upperCase=Fo,Br.upperFirst=Vo,Br.each=oa,Br.eachRight=ua,Br.first=Ds,Jo(Br,(fu={},cn(Br,(function(e,t){we.call(Br.prototype,t)||(fu[t]=e)})),fu),{chain:!1}),Br.VERSION="4.17.21",at(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Br[e].placeholder=Br})),at(["drop","take"],(function(e,t){Or.prototype[e]=function(r){r=void 0===r?1:ar(no(r),0);var n=this.__filtered__&&!t?new Or(this):this.clone();return n.__filtered__?n.__takeCount__=or(r,n.__takeCount__):n.__views__.push({size:or(r,4294967295),type:e+(n.__dir__<0?"Right":"")}),n},Or.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),at(["filter","map","takeWhile"],(function(e,t){var r=t+1,n=1==r||3==r;Or.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Ji(e,3),type:r}),t.__filtered__=t.__filtered__||n,t}})),at(["head","last"],(function(e,t){var r="take"+(t?"Right":"");Or.prototype[e]=function(){return this[r](1).value()[0]}})),at(["initial","tail"],(function(e,t){var r="drop"+(t?"":"Right");Or.prototype[e]=function(){return this.__filtered__?new Or(this):this[r](1)}})),Or.prototype.compact=function(){return this.filter(Wo)},Or.prototype.find=function(e){return this.filter(e).head()},Or.prototype.findLast=function(e){return this.reverse().find(e)},Or.prototype.invokeMap=Fn((function(e,t){return"function"==typeof e?new Or(this):this.map((function(r){return Cn(r,e,t)}))})),Or.prototype.reject=function(e){return this.filter(_a(Ji(e)))},Or.prototype.slice=function(e,t){e=no(e);var r=this;return r.__filtered__&&(e>0||t<0)?new Or(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),void 0!==t&&(r=(t=no(t))<0?r.dropRight(-t):r.take(t-e)),r)},Or.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Or.prototype.toArray=function(){return this.take(4294967295)},cn(Or.prototype,(function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),n=/^(?:head|last)$/.test(t),i=Br[n?"take"+("last"==t?"Right":""):t],s=n||/^find/.test(t);i&&(Br.prototype[t]=function(){var t=this.__wrapped__,a=n?[1]:arguments,o=t instanceof Or,u=a[0],c=o||xa(t),l=function(e){var t=i.apply(Br,pt([e],a));return n&&f?t[0]:t};c&&r&&"function"==typeof u&&1!=u.length&&(o=c=!1);var f=this.__chain__,h=!!this.__actions__.length,p=s&&!f,d=o&&!h;if(!s&&c){t=d?t:new Or(this);var g=e.apply(t,a);return g.__actions__.push({func:ra,args:[l],thisArg:void 0}),new Nr(g,f)}return p&&d?e.apply(this,a):(g=this.thru(l),p?n?g.value()[0]:g.value():g)})})),at(["pop","push","shift","sort","splice","unshift"],(function(e){var t=ve[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",n=/^(?:pop|shift)$/.test(e);Br.prototype[e]=function(){var e=arguments;if(n&&!this.__chain__){var i=this.value();return t.apply(xa(i)?i:[],e)}return this[r]((function(r){return t.apply(xa(r)?r:[],e)}))}})),cn(Or.prototype,(function(e,t){var r=Br[t];if(r){var n=r.name+"";we.call(Cr,n)||(Cr[n]=[]),Cr[n].push({name:t,func:r})}})),Cr[ki(void 0,2).name]=[{name:"wrapper",func:void 0}],Or.prototype.clone=function(){var e=new Or(this.__wrapped__);return e.__actions__=vi(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=vi(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=vi(this.__views__),e},Or.prototype.reverse=function(){if(this.__filtered__){var e=new Or(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Or.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,r=xa(e),n=t<0,i=r?e.length:0,s=function(e,t,r){var n=-1,i=r.length;for(;++n<i;){var s=r[n],a=s.size;switch(s.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=or(t,e+a);break;case"takeRight":e=ar(e,t-a)}}return{start:e,end:t}}(0,i,this.__views__),a=s.start,o=s.end,u=o-a,c=n?o:a-1,l=this.__iteratees__,f=l.length,h=0,p=or(u,this.__takeCount__);if(!r||!n&&i==u&&p==u)return ni(e,this.__actions__);var d=[];e:for(;u--&&h<p;){for(var g=-1,y=e[c+=t];++g<f;){var m=l[g],v=m.iteratee,C=m.type,E=v(y);if(2==C)y=E;else if(!E){if(1==C)continue e;break e}}d[h++]=y}return d},Br.prototype.at=na,Br.prototype.chain=function(){return ta(this)},Br.prototype.commit=function(){return new Nr(this.value(),this.__chain__)},Br.prototype.next=function(){void 0===this.__values__&&(this.__values__=to(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?void 0:this.__values__[this.__index__++]}},Br.prototype.plant=function(e){for(var t,r=this;r instanceof Rr;){var n=Bs(r);n.__index__=0,n.__values__=void 0,t?i.__wrapped__=n:t=n;var i=n;r=r.__wrapped__}return i.__wrapped__=e,t},Br.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Or){var t=e;return this.__actions__.length&&(t=new Or(this)),(t=t.reverse()).__actions__.push({func:ra,args:[qs],thisArg:void 0}),new Nr(t,this.__chain__)}return this.thru(qs)},Br.prototype.toJSON=Br.prototype.valueOf=Br.prototype.value=function(){return ni(this.__wrapped__,this.__actions__)},Br.prototype.first=Br.prototype.head,Je&&(Br.prototype[Je]=function(){return this}),Br}();ze._=$t,void 0===(n=function(){return $t}.call(t,r,t,e))||(e.exports=n)}).call(this)}).call(this,r(94)(e))},function(e,t){e.exports=require("buffer")},function(e,t,r){var n=r(0);function i(e,t){n.cipher.registerAlgorithm(e,(function(){return new n.des.Algorithm(e,t)}))}r(33),r(61),r(1),e.exports=n.des=n.des||{},n.des.startEncrypting=function(e,t,r,n){var i=d({key:e,output:r,decrypt:!1,mode:n||(null===t?"ECB":"CBC")});return i.start(t),i},n.des.createEncryptionCipher=function(e,t){return d({key:e,output:null,decrypt:!1,mode:t})},n.des.startDecrypting=function(e,t,r,n){var i=d({key:e,output:r,decrypt:!0,mode:n||(null===t?"ECB":"CBC")});return i.start(t),i},n.des.createDecryptionCipher=function(e,t){return d({key:e,output:null,decrypt:!0,mode:t})},n.des.Algorithm=function(e,t){var r=this;r.name=e,r.mode=new t({blockSize:8,cipher:{encrypt:function(e,t){return p(r._keys,e,t,!1)},decrypt:function(e,t){return p(r._keys,e,t,!0)}}}),r._init=!1},n.des.Algorithm.prototype.initialize=function(e){if(!this._init){var t=n.util.createBuffer(e.key);if(0===this.name.indexOf("3DES")&&24!==t.length())throw new Error("Invalid Triple-DES key size: "+8*t.length());this._keys=function(e){for(var t,r=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],n=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],i=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],s=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],a=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],o=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],u=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],c=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],l=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],f=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],h=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],p=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],d=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],g=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],y=e.length()>8?3:1,m=[],v=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],C=0,E=0;E<y;E++){var b=e.getInt32(),S=e.getInt32();b^=(t=252645135&(b>>>4^S))<<4,b^=t=65535&((S^=t)>>>-16^b),b^=(t=858993459&(b>>>2^(S^=t<<-16)))<<2,b^=t=65535&((S^=t)>>>-16^b),b^=(t=1431655765&(b>>>1^(S^=t<<-16)))<<1,b^=t=16711935&((S^=t)>>>8^b),t=(b^=(t=1431655765&(b>>>1^(S^=t<<8)))<<1)<<8|(S^=t)>>>20&240,b=S<<24|S<<8&16711680|S>>>8&65280|S>>>24&240,S=t;for(var w=0;w<v.length;++w){v[w]?(b=b<<2|b>>>26,S=S<<2|S>>>26):(b=b<<1|b>>>27,S=S<<1|S>>>27);var _=r[(b&=-15)>>>28]|n[b>>>24&15]|i[b>>>20&15]|s[b>>>16&15]|a[b>>>12&15]|o[b>>>8&15]|u[b>>>4&15],T=c[(S&=-15)>>>28]|l[S>>>24&15]|f[S>>>20&15]|h[S>>>16&15]|p[S>>>12&15]|d[S>>>8&15]|g[S>>>4&15];t=65535&(T>>>16^_),m[C++]=_^t,m[C++]=T^t<<16}}return m}(t),this._init=!0}},i("DES-ECB",n.cipher.modes.ecb),i("DES-CBC",n.cipher.modes.cbc),i("DES-CFB",n.cipher.modes.cfb),i("DES-OFB",n.cipher.modes.ofb),i("DES-CTR",n.cipher.modes.ctr),i("3DES-ECB",n.cipher.modes.ecb),i("3DES-CBC",n.cipher.modes.cbc),i("3DES-CFB",n.cipher.modes.cfb),i("3DES-OFB",n.cipher.modes.ofb),i("3DES-CTR",n.cipher.modes.ctr);var s=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],a=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],o=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],u=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],c=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],l=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],f=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],h=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function p(e,t,r,n){var i,p,d=32===e.length?3:9;i=3===d?n?[30,-2,-2]:[0,32,2]:n?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var g=t[0],y=t[1];g^=(p=252645135&(g>>>4^y))<<4,g^=(p=65535&(g>>>16^(y^=p)))<<16,g^=p=858993459&((y^=p)>>>2^g),g^=p=16711935&((y^=p<<2)>>>8^g),g=(g^=(p=1431655765&(g>>>1^(y^=p<<8)))<<1)<<1|g>>>31,y=(y^=p)<<1|y>>>31;for(var m=0;m<d;m+=3){for(var v=i[m+1],C=i[m+2],E=i[m];E!=v;E+=C){var b=y^e[E],S=(y>>>4|y<<28)^e[E+1];p=g,g=y,y=p^(a[b>>>24&63]|u[b>>>16&63]|l[b>>>8&63]|h[63&b]|s[S>>>24&63]|o[S>>>16&63]|c[S>>>8&63]|f[63&S])}p=g,g=y,y=p}y=y>>>1|y<<31,y^=p=1431655765&((g=g>>>1|g<<31)>>>1^y),y^=(p=16711935&(y>>>8^(g^=p<<1)))<<8,y^=(p=858993459&(y>>>2^(g^=p)))<<2,y^=p=65535&((g^=p)>>>16^y),y^=p=252645135&((g^=p<<16)>>>4^y),g^=p<<4,r[0]=g,r[1]=y}function d(e){var t,r="DES-"+((e=e||{}).mode||"CBC").toUpperCase(),i=(t=e.decrypt?n.cipher.createDecipher(r,e.key):n.cipher.createCipher(r,e.key)).start;return t.start=function(e,r){var s=null;r instanceof n.util.ByteBuffer&&(s=r,r={}),(r=r||{}).output=s,r.iv=e,i.call(t,r)},t}},function(e,t,r){var n=r(0);if(r(5),r(23),r(10),r(68),r(69),r(4),r(1),void 0===i)var i=n.jsbn.BigInteger;var s=n.util.isNodejs?r(13):null,a=n.asn1,o=n.util;n.pki=n.pki||{},e.exports=n.pki.rsa=n.rsa=n.rsa||{};var u=n.pki,c=[6,4,2,4,2,4,6,2],l={name:"PrivateKeyInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},f={name:"RSAPrivateKey",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},h={name:"RSAPublicKey",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},p=n.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:a.Class.UNIVERSAL,type:a.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},d=function(e){var t;if(!(e.algorithm in u.oids)){var r=new Error("Unknown message digest algorithm.");throw r.algorithm=e.algorithm,r}t=u.oids[e.algorithm];var n=a.oidToDer(t).getBytes(),i=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]),s=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]);s.value.push(a.create(a.Class.UNIVERSAL,a.Type.OID,!1,n)),s.value.push(a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,""));var o=a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,e.digest().getBytes());return i.value.push(s),i.value.push(o),a.toDer(i).getBytes()},g=function(e,t,r){if(r)return e.modPow(t.e,t.n);if(!t.p||!t.q)return e.modPow(t.d,t.n);var s;t.dP||(t.dP=t.d.mod(t.p.subtract(i.ONE))),t.dQ||(t.dQ=t.d.mod(t.q.subtract(i.ONE))),t.qInv||(t.qInv=t.q.modInverse(t.p));do{s=new i(n.util.bytesToHex(n.random.getBytes(t.n.bitLength()/8)),16)}while(s.compareTo(t.n)>=0||!s.gcd(t.n).equals(i.ONE));for(var a=(e=e.multiply(s.modPow(t.e,t.n)).mod(t.n)).mod(t.p).modPow(t.dP,t.p),o=e.mod(t.q).modPow(t.dQ,t.q);a.compareTo(o)<0;)a=a.add(t.p);var u=a.subtract(o).multiply(t.qInv).mod(t.p).multiply(t.q).add(o);return u=u.multiply(s.modInverse(t.n)).mod(t.n)};function y(e,t,r){var i=n.util.createBuffer(),s=Math.ceil(t.n.bitLength()/8);if(e.length>s-11){var a=new Error("Message is too long for PKCS#1 v1.5 padding.");throw a.length=e.length,a.max=s-11,a}i.putByte(0),i.putByte(r);var o,u=s-3-e.length;if(0===r||1===r){o=0===r?0:255;for(var c=0;c<u;++c)i.putByte(o)}else for(;u>0;){var l=0,f=n.random.getBytes(u);for(c=0;c<u;++c)0===(o=f.charCodeAt(c))?++l:i.putByte(o);u=l}return i.putByte(0),i.putBytes(e),i}function m(e,t,r,i){var s=Math.ceil(t.n.bitLength()/8),a=n.util.createBuffer(e),o=a.getByte(),u=a.getByte();if(0!==o||r&&0!==u&&1!==u||!r&&2!=u||r&&0===u&&void 0===i)throw new Error("Encryption block is invalid.");var c=0;if(0===u){c=s-3-i;for(var l=0;l<c;++l)if(0!==a.getByte())throw new Error("Encryption block is invalid.")}else if(1===u)for(c=0;a.length()>1;){if(255!==a.getByte()){--a.read;break}++c}else if(2===u)for(c=0;a.length()>1;){if(0===a.getByte()){--a.read;break}++c}if(0!==a.getByte()||c!==s-3-a.length())throw new Error("Encryption block is invalid.");return a.getBytes()}function v(e,t,r){"function"==typeof t&&(r=t,t={});var s={algorithm:{name:(t=t||{}).algorithm||"PRIMEINC",options:{workers:t.workers||2,workLoad:t.workLoad||100,workerScript:t.workerScript}}};function a(){o(e.pBits,(function(t,n){return t?r(t):(e.p=n,null!==e.q?c(t,e.q):void o(e.qBits,c))}))}function o(e,t){n.prime.generateProbablePrime(e,s,t)}function c(t,n){if(t)return r(t);if(e.q=n,e.p.compareTo(e.q)<0){var s=e.p;e.p=e.q,e.q=s}if(0!==e.p.subtract(i.ONE).gcd(e.e).compareTo(i.ONE))return e.p=null,void a();if(0!==e.q.subtract(i.ONE).gcd(e.e).compareTo(i.ONE))return e.q=null,void o(e.qBits,c);if(e.p1=e.p.subtract(i.ONE),e.q1=e.q.subtract(i.ONE),e.phi=e.p1.multiply(e.q1),0!==e.phi.gcd(e.e).compareTo(i.ONE))return e.p=e.q=null,void a();if(e.n=e.p.multiply(e.q),e.n.bitLength()!==e.bits)return e.q=null,void o(e.qBits,c);var l=e.e.modInverse(e.phi);e.keys={privateKey:u.rsa.setPrivateKey(e.n,e.e,l,e.p,e.q,l.mod(e.p1),l.mod(e.q1),e.q.modInverse(e.p)),publicKey:u.rsa.setPublicKey(e.n,e.e)},r(null,e.keys)}"prng"in t&&(s.prng=t.prng),a()}function C(e){var t=e.toString(16);t[0]>="8"&&(t="00"+t);var r=n.util.hexToBytes(t);return r.length>1&&(0===r.charCodeAt(0)&&0==(128&r.charCodeAt(1))||255===r.charCodeAt(0)&&128==(128&r.charCodeAt(1)))?r.substr(1):r}function E(e){return e<=100?27:e<=150?18:e<=200?15:e<=250?12:e<=300?9:e<=350?8:e<=400?7:e<=500?6:e<=600?5:e<=800?4:e<=1250?3:2}function b(e){return n.util.isNodejs&&"function"==typeof s[e]}function S(e){return void 0!==o.globalScope&&"object"==typeof o.globalScope.crypto&&"object"==typeof o.globalScope.crypto.subtle&&"function"==typeof o.globalScope.crypto.subtle[e]}function w(e){return void 0!==o.globalScope&&"object"==typeof o.globalScope.msCrypto&&"object"==typeof o.globalScope.msCrypto.subtle&&"function"==typeof o.globalScope.msCrypto.subtle[e]}function _(e){for(var t=n.util.hexToBytes(e.toString(16)),r=new Uint8Array(t.length),i=0;i<t.length;++i)r[i]=t.charCodeAt(i);return r}u.rsa.encrypt=function(e,t,r){var s,a=r,o=Math.ceil(t.n.bitLength()/8);!1!==r&&!0!==r?(a=2===r,s=y(e,t,r)):(s=n.util.createBuffer()).putBytes(e);for(var u=new i(s.toHex(),16),c=g(u,t,a).toString(16),l=n.util.createBuffer(),f=o-Math.ceil(c.length/2);f>0;)l.putByte(0),--f;return l.putBytes(n.util.hexToBytes(c)),l.getBytes()},u.rsa.decrypt=function(e,t,r,s){var a=Math.ceil(t.n.bitLength()/8);if(e.length!==a){var o=new Error("Encrypted message length is invalid.");throw o.length=e.length,o.expected=a,o}var u=new i(n.util.createBuffer(e).toHex(),16);if(u.compareTo(t.n)>=0)throw new Error("Encrypted message is invalid.");for(var c=g(u,t,r).toString(16),l=n.util.createBuffer(),f=a-Math.ceil(c.length/2);f>0;)l.putByte(0),--f;return l.putBytes(n.util.hexToBytes(c)),!1!==s?m(l.getBytes(),t,r):l.getBytes()},u.rsa.createKeyPairGenerationState=function(e,t,r){"string"==typeof e&&(e=parseInt(e,10)),e=e||2048;var s,a=(r=r||{}).prng||n.random,o={nextBytes:function(e){for(var t=a.getBytesSync(e.length),r=0;r<e.length;++r)e[r]=t.charCodeAt(r)}},u=r.algorithm||"PRIMEINC";if("PRIMEINC"!==u)throw new Error("Invalid key generation algorithm: "+u);return(s={algorithm:u,state:0,bits:e,rng:o,eInt:t||65537,e:new i(null),p:null,q:null,qBits:e>>1,pBits:e-(e>>1),pqState:0,num:null,keys:null}).e.fromInt(s.eInt),s},u.rsa.stepKeyPairGenerationState=function(e,t){"algorithm"in e||(e.algorithm="PRIMEINC");var r=new i(null);r.fromInt(30);for(var n,s=0,a=function(e,t){return e|t},o=+new Date,l=0;null===e.keys&&(t<=0||l<t);){if(0===e.state){var f=null===e.p?e.pBits:e.qBits,h=f-1;0===e.pqState?(e.num=new i(f,e.rng),e.num.testBit(h)||e.num.bitwiseTo(i.ONE.shiftLeft(h),a,e.num),e.num.dAddOffset(31-e.num.mod(r).byteValue(),0),s=0,++e.pqState):1===e.pqState?e.num.bitLength()>f?e.pqState=0:e.num.isProbablePrime(E(e.num.bitLength()))?++e.pqState:e.num.dAddOffset(c[s++%8],0):2===e.pqState?e.pqState=0===e.num.subtract(i.ONE).gcd(e.e).compareTo(i.ONE)?3:0:3===e.pqState&&(e.pqState=0,null===e.p?e.p=e.num:e.q=e.num,null!==e.p&&null!==e.q&&++e.state,e.num=null)}else if(1===e.state)e.p.compareTo(e.q)<0&&(e.num=e.p,e.p=e.q,e.q=e.num),++e.state;else if(2===e.state)e.p1=e.p.subtract(i.ONE),e.q1=e.q.subtract(i.ONE),e.phi=e.p1.multiply(e.q1),++e.state;else if(3===e.state)0===e.phi.gcd(e.e).compareTo(i.ONE)?++e.state:(e.p=null,e.q=null,e.state=0);else if(4===e.state)e.n=e.p.multiply(e.q),e.n.bitLength()===e.bits?++e.state:(e.q=null,e.state=0);else if(5===e.state){var p=e.e.modInverse(e.phi);e.keys={privateKey:u.rsa.setPrivateKey(e.n,e.e,p,e.p,e.q,p.mod(e.p1),p.mod(e.q1),e.q.modInverse(e.p)),publicKey:u.rsa.setPublicKey(e.n,e.e)}}l+=(n=+new Date)-o,o=n}return null!==e.keys},u.rsa.generateKeyPair=function(e,t,r,i){if(1===arguments.length?"object"==typeof e?(r=e,e=void 0):"function"==typeof e&&(i=e,e=void 0):2===arguments.length?"number"==typeof e?"function"==typeof t?(i=t,t=void 0):"number"!=typeof t&&(r=t,t=void 0):(r=e,i=t,e=void 0,t=void 0):3===arguments.length&&("number"==typeof t?"function"==typeof r&&(i=r,r=void 0):(i=r,r=t,t=void 0)),r=r||{},void 0===e&&(e=r.bits||2048),void 0===t&&(t=r.e||65537),!n.options.usePureJavaScript&&!r.prng&&e>=256&&e<=16384&&(65537===t||3===t))if(i){if(b("generateKeyPair"))return s.generateKeyPair("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},(function(e,t,r){if(e)return i(e);i(null,{privateKey:u.privateKeyFromPem(r),publicKey:u.publicKeyFromPem(t)})}));if(S("generateKey")&&S("exportKey"))return o.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:_(t),hash:{name:"SHA-256"}},!0,["sign","verify"]).then((function(e){return o.globalScope.crypto.subtle.exportKey("pkcs8",e.privateKey)})).then(void 0,(function(e){i(e)})).then((function(e){if(e){var t=u.privateKeyFromAsn1(a.fromDer(n.util.createBuffer(e)));i(null,{privateKey:t,publicKey:u.setRsaPublicKey(t.n,t.e)})}}));if(w("generateKey")&&w("exportKey")){var c=o.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:_(t),hash:{name:"SHA-256"}},!0,["sign","verify"]);return c.oncomplete=function(e){var t=e.target.result,r=o.globalScope.msCrypto.subtle.exportKey("pkcs8",t.privateKey);r.oncomplete=function(e){var t=e.target.result,r=u.privateKeyFromAsn1(a.fromDer(n.util.createBuffer(t)));i(null,{privateKey:r,publicKey:u.setRsaPublicKey(r.n,r.e)})},r.onerror=function(e){i(e)}},void(c.onerror=function(e){i(e)})}}else if(b("generateKeyPairSync")){var l=s.generateKeyPairSync("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:u.privateKeyFromPem(l.privateKey),publicKey:u.publicKeyFromPem(l.publicKey)}}var f=u.rsa.createKeyPairGenerationState(e,t,r);if(!i)return u.rsa.stepKeyPairGenerationState(f,0),f.keys;v(f,r,i)},u.setRsaPublicKey=u.rsa.setPublicKey=function(e,t){var r={n:e,e:t,encrypt:function(e,t,i){if("string"==typeof t?t=t.toUpperCase():void 0===t&&(t="RSAES-PKCS1-V1_5"),"RSAES-PKCS1-V1_5"===t)t={encode:function(e,t,r){return y(e,t,2).getBytes()}};else if("RSA-OAEP"===t||"RSAES-OAEP"===t)t={encode:function(e,t){return n.pkcs1.encode_rsa_oaep(t,e,i)}};else if(-1!==["RAW","NONE","NULL",null].indexOf(t))t={encode:function(e){return e}};else if("string"==typeof t)throw new Error('Unsupported encryption scheme: "'+t+'".');var s=t.encode(e,r,!0);return u.rsa.encrypt(s,r,!0)},verify:function(e,t,n){"string"==typeof n?n=n.toUpperCase():void 0===n&&(n="RSASSA-PKCS1-V1_5"),"RSASSA-PKCS1-V1_5"===n?n={verify:function(e,t){return t=m(t,r,!0),e===a.fromDer(t).value[1].value}}:"NONE"!==n&&"NULL"!==n&&null!==n||(n={verify:function(e,t){return e===(t=m(t,r,!0))}});var i=u.rsa.decrypt(t,r,!0,!1);return n.verify(e,i,r.n.bitLength())}};return r},u.setRsaPrivateKey=u.rsa.setPrivateKey=function(e,t,r,i,s,a,o,c){var l={n:e,e:t,d:r,p:i,q:s,dP:a,dQ:o,qInv:c,decrypt:function(e,t,r){"string"==typeof t?t=t.toUpperCase():void 0===t&&(t="RSAES-PKCS1-V1_5");var i=u.rsa.decrypt(e,l,!1,!1);if("RSAES-PKCS1-V1_5"===t)t={decode:m};else if("RSA-OAEP"===t||"RSAES-OAEP"===t)t={decode:function(e,t){return n.pkcs1.decode_rsa_oaep(t,e,r)}};else{if(-1===["RAW","NONE","NULL",null].indexOf(t))throw new Error('Unsupported encryption scheme: "'+t+'".');t={decode:function(e){return e}}}return t.decode(i,l,!1)},sign:function(e,t){var r=!1;"string"==typeof t&&(t=t.toUpperCase()),void 0===t||"RSASSA-PKCS1-V1_5"===t?(t={encode:d},r=1):"NONE"!==t&&"NULL"!==t&&null!==t||(t={encode:function(){return e}},r=1);var n=t.encode(e,l.n.bitLength());return u.rsa.encrypt(n,l,r)}};return l},u.wrapRsaPrivateKey=function(e){return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(0).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(u.oids.rsaEncryption).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,"")]),a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,a.toDer(e).getBytes())])},u.privateKeyFromAsn1=function(e){var t,r,s,o,c,h,p,d,g={},y=[];if(a.validate(e,l,g,y)&&(e=a.fromDer(n.util.createBuffer(g.privateKey))),g={},y=[],!a.validate(e,f,g,y)){var m=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw m.errors=y,m}return t=n.util.createBuffer(g.privateKeyModulus).toHex(),r=n.util.createBuffer(g.privateKeyPublicExponent).toHex(),s=n.util.createBuffer(g.privateKeyPrivateExponent).toHex(),o=n.util.createBuffer(g.privateKeyPrime1).toHex(),c=n.util.createBuffer(g.privateKeyPrime2).toHex(),h=n.util.createBuffer(g.privateKeyExponent1).toHex(),p=n.util.createBuffer(g.privateKeyExponent2).toHex(),d=n.util.createBuffer(g.privateKeyCoefficient).toHex(),u.setRsaPrivateKey(new i(t,16),new i(r,16),new i(s,16),new i(o,16),new i(c,16),new i(h,16),new i(p,16),new i(d,16))},u.privateKeyToAsn1=u.privateKeyToRSAPrivateKey=function(e){return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(0).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,C(e.n)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,C(e.e)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,C(e.d)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,C(e.p)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,C(e.q)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,C(e.dP)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,C(e.dQ)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,C(e.qInv))])},u.publicKeyFromAsn1=function(e){var t={},r=[];if(a.validate(e,p,t,r)){var s,o=a.derToOid(t.publicKeyOid);if(o!==u.oids.rsaEncryption)throw(s=new Error("Cannot read public key. Unknown OID.")).oid=o,s;e=t.rsaPublicKey}if(r=[],!a.validate(e,h,t,r))throw(s=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.")).errors=r,s;var c=n.util.createBuffer(t.publicKeyModulus).toHex(),l=n.util.createBuffer(t.publicKeyExponent).toHex();return u.setRsaPublicKey(new i(c,16),new i(l,16))},u.publicKeyToAsn1=u.publicKeyToSubjectPublicKeyInfo=function(e){return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(u.oids.rsaEncryption).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,"")]),a.create(a.Class.UNIVERSAL,a.Type.BITSTRING,!1,[u.publicKeyToRSAPublicKey(e)])])},u.publicKeyToRSAPublicKey=function(e){return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,C(e.n)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,C(e.e))])}},function(e,t,r){var n,i=r(0);e.exports=i.jsbn=i.jsbn||{};function s(e,t,r){this.data=[],null!=e&&("number"==typeof e?this.fromNumber(e,t,r):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function a(){return new s(null)}function o(e,t,r,n,i,s){for(var a=16383&t,o=t>>14;--s>=0;){var u=16383&this.data[e],c=this.data[e++]>>14,l=o*u+c*a;i=((u=a*u+((16383&l)<<14)+r.data[n]+i)>>28)+(l>>14)+o*c,r.data[n++]=268435455&u}return i}i.jsbn.BigInteger=s,"undefined"==typeof navigator?(s.prototype.am=o,n=28):"Microsoft Internet Explorer"==navigator.appName?(s.prototype.am=function(e,t,r,n,i,s){for(var a=32767&t,o=t>>15;--s>=0;){var u=32767&this.data[e],c=this.data[e++]>>15,l=o*u+c*a;i=((u=a*u+((32767&l)<<15)+r.data[n]+(1073741823&i))>>>30)+(l>>>15)+o*c+(i>>>30),r.data[n++]=1073741823&u}return i},n=30):"Netscape"!=navigator.appName?(s.prototype.am=function(e,t,r,n,i,s){for(;--s>=0;){var a=t*this.data[e++]+r.data[n]+i;i=Math.floor(a/67108864),r.data[n++]=67108863&a}return i},n=26):(s.prototype.am=o,n=28),s.prototype.DB=n,s.prototype.DM=(1<<n)-1,s.prototype.DV=1<<n;s.prototype.FV=Math.pow(2,52),s.prototype.F1=52-n,s.prototype.F2=2*n-52;var u,c,l=new Array;for(u="0".charCodeAt(0),c=0;c<=9;++c)l[u++]=c;for(u="a".charCodeAt(0),c=10;c<36;++c)l[u++]=c;for(u="A".charCodeAt(0),c=10;c<36;++c)l[u++]=c;function f(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}function h(e,t){var r=l[e.charCodeAt(t)];return null==r?-1:r}function p(e){var t=a();return t.fromInt(e),t}function d(e){var t,r=1;return 0!=(t=e>>>16)&&(e=t,r+=16),0!=(t=e>>8)&&(e=t,r+=8),0!=(t=e>>4)&&(e=t,r+=4),0!=(t=e>>2)&&(e=t,r+=2),0!=(t=e>>1)&&(e=t,r+=1),r}function g(e){this.m=e}function y(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function m(e,t){return e&t}function v(e,t){return e|t}function C(e,t){return e^t}function E(e,t){return e&~t}function b(e){if(0==e)return-1;var t=0;return 0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t}function S(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function w(){}function _(e){return e}function T(e){this.r2=a(),this.q3=a(),s.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}g.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},g.prototype.revert=function(e){return e},g.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},g.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},g.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},y.prototype.convert=function(e){var t=a();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(s.ZERO)>0&&this.m.subTo(t,t),t},y.prototype.revert=function(e){var t=a();return e.copyTo(t),this.reduce(t),t},y.prototype.reduce=function(e){for(;e.t<=this.mt2;)e.data[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=32767&e.data[t],n=r*this.mpl+((r*this.mph+(e.data[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(r=t+this.m.t,e.data[r]+=this.m.am(0,n,e,t,0,this.m.t);e.data[r]>=e.DV;)e.data[r]-=e.DV,e.data[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},y.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},y.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},s.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e.data[t]=this.data[t];e.t=this.t,e.s=this.s},s.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this.data[0]=e:e<-1?this.data[0]=e+this.DV:this.t=0},s.prototype.fromString=function(e,t){var r;if(16==t)r=4;else if(8==t)r=3;else if(256==t)r=8;else if(2==t)r=1;else if(32==t)r=5;else{if(4!=t)return void this.fromRadix(e,t);r=2}this.t=0,this.s=0;for(var n=e.length,i=!1,a=0;--n>=0;){var o=8==r?255&e[n]:h(e,n);o<0?"-"==e.charAt(n)&&(i=!0):(i=!1,0==a?this.data[this.t++]=o:a+r>this.DB?(this.data[this.t-1]|=(o&(1<<this.DB-a)-1)<<a,this.data[this.t++]=o>>this.DB-a):this.data[this.t-1]|=o<<a,(a+=r)>=this.DB&&(a-=this.DB))}8==r&&0!=(128&e[0])&&(this.s=-1,a>0&&(this.data[this.t-1]|=(1<<this.DB-a)-1<<a)),this.clamp(),i&&s.ZERO.subTo(this,this)},s.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this.data[this.t-1]==e;)--this.t},s.prototype.dlShiftTo=function(e,t){var r;for(r=this.t-1;r>=0;--r)t.data[r+e]=this.data[r];for(r=e-1;r>=0;--r)t.data[r]=0;t.t=this.t+e,t.s=this.s},s.prototype.drShiftTo=function(e,t){for(var r=e;r<this.t;++r)t.data[r-e]=this.data[r];t.t=Math.max(this.t-e,0),t.s=this.s},s.prototype.lShiftTo=function(e,t){var r,n=e%this.DB,i=this.DB-n,s=(1<<i)-1,a=Math.floor(e/this.DB),o=this.s<<n&this.DM;for(r=this.t-1;r>=0;--r)t.data[r+a+1]=this.data[r]>>i|o,o=(this.data[r]&s)<<n;for(r=a-1;r>=0;--r)t.data[r]=0;t.data[a]=o,t.t=this.t+a+1,t.s=this.s,t.clamp()},s.prototype.rShiftTo=function(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t)t.t=0;else{var n=e%this.DB,i=this.DB-n,s=(1<<n)-1;t.data[0]=this.data[r]>>n;for(var a=r+1;a<this.t;++a)t.data[a-r-1]|=(this.data[a]&s)<<i,t.data[a-r]=this.data[a]>>n;n>0&&(t.data[this.t-r-1]|=(this.s&s)<<i),t.t=this.t-r,t.clamp()}},s.prototype.subTo=function(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this.data[r]-e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n-=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t.data[r++]=this.DV+n:n>0&&(t.data[r++]=n),t.t=r,t.clamp()},s.prototype.multiplyTo=function(e,t){var r=this.abs(),n=e.abs(),i=r.t;for(t.t=i+n.t;--i>=0;)t.data[i]=0;for(i=0;i<n.t;++i)t.data[i+r.t]=r.am(0,n.data[i],t,i,0,r.t);t.s=0,t.clamp(),this.s!=e.s&&s.ZERO.subTo(t,t)},s.prototype.squareTo=function(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e.data[r]=0;for(r=0;r<t.t-1;++r){var n=t.am(r,t.data[r],e,2*r,0,1);(e.data[r+t.t]+=t.am(r+1,2*t.data[r],e,2*r+1,n,t.t-r-1))>=t.DV&&(e.data[r+t.t]-=t.DV,e.data[r+t.t+1]=1)}e.t>0&&(e.data[e.t-1]+=t.am(r,t.data[r],e,2*r,0,1)),e.s=0,e.clamp()},s.prototype.divRemTo=function(e,t,r){var n=e.abs();if(!(n.t<=0)){var i=this.abs();if(i.t<n.t)return null!=t&&t.fromInt(0),void(null!=r&&this.copyTo(r));null==r&&(r=a());var o=a(),u=this.s,c=e.s,l=this.DB-d(n.data[n.t-1]);l>0?(n.lShiftTo(l,o),i.lShiftTo(l,r)):(n.copyTo(o),i.copyTo(r));var f=o.t,h=o.data[f-1];if(0!=h){var p=h*(1<<this.F1)+(f>1?o.data[f-2]>>this.F2:0),g=this.FV/p,y=(1<<this.F1)/p,m=1<<this.F2,v=r.t,C=v-f,E=null==t?a():t;for(o.dlShiftTo(C,E),r.compareTo(E)>=0&&(r.data[r.t++]=1,r.subTo(E,r)),s.ONE.dlShiftTo(f,E),E.subTo(o,o);o.t<f;)o.data[o.t++]=0;for(;--C>=0;){var b=r.data[--v]==h?this.DM:Math.floor(r.data[v]*g+(r.data[v-1]+m)*y);if((r.data[v]+=o.am(0,b,r,C,0,f))<b)for(o.dlShiftTo(C,E),r.subTo(E,r);r.data[v]<--b;)r.subTo(E,r)}null!=t&&(r.drShiftTo(f,t),u!=c&&s.ZERO.subTo(t,t)),r.t=f,r.clamp(),l>0&&r.rShiftTo(l,r),u<0&&s.ZERO.subTo(r,r)}}},s.prototype.invDigit=function(){if(this.t<1)return 0;var e=this.data[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},s.prototype.isEven=function(){return 0==(this.t>0?1&this.data[0]:this.s)},s.prototype.exp=function(e,t){if(e>4294967295||e<1)return s.ONE;var r=a(),n=a(),i=t.convert(this),o=d(e)-1;for(i.copyTo(r);--o>=0;)if(t.sqrTo(r,n),(e&1<<o)>0)t.mulTo(n,i,r);else{var u=r;r=n,n=u}return t.revert(r)},s.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var r,n=(1<<t)-1,i=!1,s="",a=this.t,o=this.DB-a*this.DB%t;if(a-- >0)for(o<this.DB&&(r=this.data[a]>>o)>0&&(i=!0,s=f(r));a>=0;)o<t?(r=(this.data[a]&(1<<o)-1)<<t-o,r|=this.data[--a]>>(o+=this.DB-t)):(r=this.data[a]>>(o-=t)&n,o<=0&&(o+=this.DB,--a)),r>0&&(i=!0),i&&(s+=f(r));return i?s:"0"},s.prototype.negate=function(){var e=a();return s.ZERO.subTo(this,e),e},s.prototype.abs=function(){return this.s<0?this.negate():this},s.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var r=this.t;if(0!=(t=r-e.t))return this.s<0?-t:t;for(;--r>=0;)if(0!=(t=this.data[r]-e.data[r]))return t;return 0},s.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+d(this.data[this.t-1]^this.s&this.DM)},s.prototype.mod=function(e){var t=a();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(s.ZERO)>0&&e.subTo(t,t),t},s.prototype.modPowInt=function(e,t){var r;return r=e<256||t.isEven()?new g(t):new y(t),this.exp(e,r)},s.ZERO=p(0),s.ONE=p(1),w.prototype.convert=_,w.prototype.revert=_,w.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r)},w.prototype.sqrTo=function(e,t){e.squareTo(t)},T.prototype.convert=function(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=a();return e.copyTo(t),this.reduce(t),t},T.prototype.revert=function(e){return e},T.prototype.reduce=function(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)},T.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},T.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)};var A=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],I=(1<<26)/A[A.length-1];s.prototype.chunkSize=function(e){return Math.floor(Math.LN2*this.DB/Math.log(e))},s.prototype.toRadix=function(e){if(null==e&&(e=10),0==this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),r=Math.pow(e,t),n=p(r),i=a(),s=a(),o="";for(this.divRemTo(n,i,s);i.signum()>0;)o=(r+s.intValue()).toString(e).substr(1)+o,i.divRemTo(n,i,s);return s.intValue().toString(e)+o},s.prototype.fromRadix=function(e,t){this.fromInt(0),null==t&&(t=10);for(var r=this.chunkSize(t),n=Math.pow(t,r),i=!1,a=0,o=0,u=0;u<e.length;++u){var c=h(e,u);c<0?"-"==e.charAt(u)&&0==this.signum()&&(i=!0):(o=t*o+c,++a>=r&&(this.dMultiply(n),this.dAddOffset(o,0),a=0,o=0))}a>0&&(this.dMultiply(Math.pow(t,a)),this.dAddOffset(o,0)),i&&s.ZERO.subTo(this,this)},s.prototype.fromNumber=function(e,t,r){if("number"==typeof t)if(e<2)this.fromInt(1);else for(this.fromNumber(e,r),this.testBit(e-1)||this.bitwiseTo(s.ONE.shiftLeft(e-1),v,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(s.ONE.shiftLeft(e-1),this);else{var n=new Array,i=7&e;n.length=1+(e>>3),t.nextBytes(n),i>0?n[0]&=(1<<i)-1:n[0]=0,this.fromString(n,256)}},s.prototype.bitwiseTo=function(e,t,r){var n,i,s=Math.min(e.t,this.t);for(n=0;n<s;++n)r.data[n]=t(this.data[n],e.data[n]);if(e.t<this.t){for(i=e.s&this.DM,n=s;n<this.t;++n)r.data[n]=t(this.data[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=s;n<e.t;++n)r.data[n]=t(i,e.data[n]);r.t=e.t}r.s=t(this.s,e.s),r.clamp()},s.prototype.changeBit=function(e,t){var r=s.ONE.shiftLeft(e);return this.bitwiseTo(r,t,r),r},s.prototype.addTo=function(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this.data[r]+e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n+=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n+=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=e.s}t.s=n<0?-1:0,n>0?t.data[r++]=n:n<-1&&(t.data[r++]=this.DV+n),t.t=r,t.clamp()},s.prototype.dMultiply=function(e){this.data[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()},s.prototype.dAddOffset=function(e,t){if(0!=e){for(;this.t<=t;)this.data[this.t++]=0;for(this.data[t]+=e;this.data[t]>=this.DV;)this.data[t]-=this.DV,++t>=this.t&&(this.data[this.t++]=0),++this.data[t]}},s.prototype.multiplyLowerTo=function(e,t,r){var n,i=Math.min(this.t+e.t,t);for(r.s=0,r.t=i;i>0;)r.data[--i]=0;for(n=r.t-this.t;i<n;++i)r.data[i+this.t]=this.am(0,e.data[i],r,i,0,this.t);for(n=Math.min(e.t,t);i<n;++i)this.am(0,e.data[i],r,i,0,t-i);r.clamp()},s.prototype.multiplyUpperTo=function(e,t,r){--t;var n=r.t=this.t+e.t-t;for(r.s=0;--n>=0;)r.data[n]=0;for(n=Math.max(t-this.t,0);n<e.t;++n)r.data[this.t+n-t]=this.am(t-n,e.data[n],r,0,0,this.t+n-t);r.clamp(),r.drShiftTo(1,r)},s.prototype.modInt=function(e){if(e<=0)return 0;var t=this.DV%e,r=this.s<0?e-1:0;if(this.t>0)if(0==t)r=this.data[0]%e;else for(var n=this.t-1;n>=0;--n)r=(t*r+this.data[n])%e;return r},s.prototype.millerRabin=function(e){var t=this.subtract(s.ONE),r=t.getLowestSetBit();if(r<=0)return!1;for(var n,i=t.shiftRight(r),a={nextBytes:function(e){for(var t=0;t<e.length;++t)e[t]=Math.floor(256*Math.random())}},o=0;o<e;++o){do{n=new s(this.bitLength(),a)}while(n.compareTo(s.ONE)<=0||n.compareTo(t)>=0);var u=n.modPow(i,this);if(0!=u.compareTo(s.ONE)&&0!=u.compareTo(t)){for(var c=1;c++<r&&0!=u.compareTo(t);)if(0==(u=u.modPowInt(2,this)).compareTo(s.ONE))return!1;if(0!=u.compareTo(t))return!1}}return!0},s.prototype.clone=function(){var e=a();return this.copyTo(e),e},s.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this.data[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this.data[0];if(0==this.t)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]},s.prototype.byteValue=function(){return 0==this.t?this.s:this.data[0]<<24>>24},s.prototype.shortValue=function(){return 0==this.t?this.s:this.data[0]<<16>>16},s.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this.data[0]<=0?0:1},s.prototype.toByteArray=function(){var e=this.t,t=new Array;t[0]=this.s;var r,n=this.DB-e*this.DB%8,i=0;if(e-- >0)for(n<this.DB&&(r=this.data[e]>>n)!=(this.s&this.DM)>>n&&(t[i++]=r|this.s<<this.DB-n);e>=0;)n<8?(r=(this.data[e]&(1<<n)-1)<<8-n,r|=this.data[--e]>>(n+=this.DB-8)):(r=this.data[e]>>(n-=8)&255,n<=0&&(n+=this.DB,--e)),0!=(128&r)&&(r|=-256),0==i&&(128&this.s)!=(128&r)&&++i,(i>0||r!=this.s)&&(t[i++]=r);return t},s.prototype.equals=function(e){return 0==this.compareTo(e)},s.prototype.min=function(e){return this.compareTo(e)<0?this:e},s.prototype.max=function(e){return this.compareTo(e)>0?this:e},s.prototype.and=function(e){var t=a();return this.bitwiseTo(e,m,t),t},s.prototype.or=function(e){var t=a();return this.bitwiseTo(e,v,t),t},s.prototype.xor=function(e){var t=a();return this.bitwiseTo(e,C,t),t},s.prototype.andNot=function(e){var t=a();return this.bitwiseTo(e,E,t),t},s.prototype.not=function(){for(var e=a(),t=0;t<this.t;++t)e.data[t]=this.DM&~this.data[t];return e.t=this.t,e.s=~this.s,e},s.prototype.shiftLeft=function(e){var t=a();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t},s.prototype.shiftRight=function(e){var t=a();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t},s.prototype.getLowestSetBit=function(){for(var e=0;e<this.t;++e)if(0!=this.data[e])return e*this.DB+b(this.data[e]);return this.s<0?this.t*this.DB:-1},s.prototype.bitCount=function(){for(var e=0,t=this.s&this.DM,r=0;r<this.t;++r)e+=S(this.data[r]^t);return e},s.prototype.testBit=function(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:0!=(this.data[t]&1<<e%this.DB)},s.prototype.setBit=function(e){return this.changeBit(e,v)},s.prototype.clearBit=function(e){return this.changeBit(e,E)},s.prototype.flipBit=function(e){return this.changeBit(e,C)},s.prototype.add=function(e){var t=a();return this.addTo(e,t),t},s.prototype.subtract=function(e){var t=a();return this.subTo(e,t),t},s.prototype.multiply=function(e){var t=a();return this.multiplyTo(e,t),t},s.prototype.divide=function(e){var t=a();return this.divRemTo(e,t,null),t},s.prototype.remainder=function(e){var t=a();return this.divRemTo(e,null,t),t},s.prototype.divideAndRemainder=function(e){var t=a(),r=a();return this.divRemTo(e,t,r),new Array(t,r)},s.prototype.modPow=function(e,t){var r,n,i=e.bitLength(),s=p(1);if(i<=0)return s;r=i<18?1:i<48?3:i<144?4:i<768?5:6,n=i<8?new g(t):t.isEven()?new T(t):new y(t);var o=new Array,u=3,c=r-1,l=(1<<r)-1;if(o[1]=n.convert(this),r>1){var f=a();for(n.sqrTo(o[1],f);u<=l;)o[u]=a(),n.mulTo(f,o[u-2],o[u]),u+=2}var h,m,v=e.t-1,C=!0,E=a();for(i=d(e.data[v])-1;v>=0;){for(i>=c?h=e.data[v]>>i-c&l:(h=(e.data[v]&(1<<i+1)-1)<<c-i,v>0&&(h|=e.data[v-1]>>this.DB+i-c)),u=r;0==(1&h);)h>>=1,--u;if((i-=u)<0&&(i+=this.DB,--v),C)o[h].copyTo(s),C=!1;else{for(;u>1;)n.sqrTo(s,E),n.sqrTo(E,s),u-=2;u>0?n.sqrTo(s,E):(m=s,s=E,E=m),n.mulTo(E,o[h],s)}for(;v>=0&&0==(e.data[v]&1<<i);)n.sqrTo(s,E),m=s,s=E,E=m,--i<0&&(i=this.DB-1,--v)}return n.revert(s)},s.prototype.modInverse=function(e){var t=e.isEven();if(this.isEven()&&t||0==e.signum())return s.ZERO;for(var r=e.clone(),n=this.clone(),i=p(1),a=p(0),o=p(0),u=p(1);0!=r.signum();){for(;r.isEven();)r.rShiftTo(1,r),t?(i.isEven()&&a.isEven()||(i.addTo(this,i),a.subTo(e,a)),i.rShiftTo(1,i)):a.isEven()||a.subTo(e,a),a.rShiftTo(1,a);for(;n.isEven();)n.rShiftTo(1,n),t?(o.isEven()&&u.isEven()||(o.addTo(this,o),u.subTo(e,u)),o.rShiftTo(1,o)):u.isEven()||u.subTo(e,u),u.rShiftTo(1,u);r.compareTo(n)>=0?(r.subTo(n,r),t&&i.subTo(o,i),a.subTo(u,a)):(n.subTo(r,n),t&&o.subTo(i,o),u.subTo(a,u))}return 0!=n.compareTo(s.ONE)?s.ZERO:u.compareTo(e)>=0?u.subtract(e):u.signum()<0?(u.addTo(e,u),u.signum()<0?u.add(e):u):u},s.prototype.pow=function(e){return this.exp(e,new w)},s.prototype.gcd=function(e){var t=this.s<0?this.negate():this.clone(),r=e.s<0?e.negate():e.clone();if(t.compareTo(r)<0){var n=t;t=r,r=n}var i=t.getLowestSetBit(),s=r.getLowestSetBit();if(s<0)return t;for(i<s&&(s=i),s>0&&(t.rShiftTo(s,t),r.rShiftTo(s,r));t.signum()>0;)(i=t.getLowestSetBit())>0&&t.rShiftTo(i,t),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),t.compareTo(r)>=0?(t.subTo(r,t),t.rShiftTo(1,t)):(r.subTo(t,r),r.rShiftTo(1,r));return s>0&&r.lShiftTo(s,r),r},s.prototype.isProbablePrime=function(e){var t,r=this.abs();if(1==r.t&&r.data[0]<=A[A.length-1]){for(t=0;t<A.length;++t)if(r.data[0]==A[t])return!0;return!1}if(r.isEven())return!1;for(t=1;t<A.length;){for(var n=A[t],i=t+1;i<A.length&&n<I;)n*=A[i++];for(n=r.modInt(n);t<i;)if(n%A[t++]==0)return!1}return r.millerRabin(e)}},function(e,t,r){const n=r(19);e.exports={getFieldMask:function(e){return n.keys(e).join(",")},columnToLetter:function(e){let t,r="",n=e;for(;n>0;)t=(n-1)%26,r=String.fromCharCode(t+65)+r,n=(n-t-1)/26;return r},letterToColumn:function(e){let t=0;const{length:r}=e;for(let n=0;n<r;n++)t+=(e.charCodeAt(n)-64)*26**(r-n-1);return t}}},function(e,t){e.exports=require("https")},function(e,t){e.exports=require("fs")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.requestTimeout=t.resetIsAvailableCache=t.isAvailable=t.project=t.instance=t.HEADERS=t.HEADER_VALUE=t.HEADER_NAME=t.SECONDARY_HOST_ADDRESS=t.HOST_ADDRESS=t.BASE_PATH=void 0;const n=r(28),i=r(116);function s(e){return e||(e=process.env.GCE_METADATA_IP||process.env.GCE_METADATA_HOST||t.HOST_ADDRESS),/^https?:\/\//.test(e)||(e="http://"+e),new URL(t.BASE_PATH,e).href}async function a(e,r,a=3,u=!1){"string"==typeof(r=r||{})&&(r={property:r});let l="";"object"==typeof r&&r.property&&(l="/"+r.property),function(e){Object.keys(e).forEach(e=>{switch(e){case"params":case"property":case"headers":break;case"qs":throw new Error("'qs' is not a valid configuration option. Please use 'params' instead.");default:throw new Error(`'${e}' is not a valid configuration option.`)}})}(r);try{const f=u?o:n.request,h=await f({url:`${s()}/${e}${l}`,headers:Object.assign({},t.HEADERS,r.headers),retryConfig:{noResponseRetries:a},params:r.params,responseType:"text",timeout:c()});if(h.headers[t.HEADER_NAME.toLowerCase()]!==t.HEADER_VALUE)throw new Error(`Invalid response from metadata service: incorrect ${t.HEADER_NAME} header.`);if(!h.data)throw new Error("Invalid response from the metadata service");if("string"==typeof h.data)try{return i.parse(h.data)}catch(e){}return h.data}catch(e){throw e.response&&200!==e.response.status&&(e.message="Unsuccessful response status code. "+e.message),e}}async function o(e){const r={...e,url:e.url.replace(s(),s(t.SECONDARY_HOST_ADDRESS))};let i=!1;const a=n.request(e).then(e=>(i=!0,e)).catch(e=>{if(i)return o;throw i=!0,e}),o=n.request(r).then(e=>(i=!0,e)).catch(e=>{if(i)return a;throw i=!0,e});return Promise.race([a,o])}let u;function c(){return process.env.K_SERVICE||process.env.FUNCTION_NAME?0:3e3}t.BASE_PATH="/computeMetadata/v1",t.HOST_ADDRESS="http://169.254.169.254",t.SECONDARY_HOST_ADDRESS="http://metadata.google.internal.",t.HEADER_NAME="Metadata-Flavor",t.HEADER_VALUE="Google",t.HEADERS=Object.freeze({[t.HEADER_NAME]:t.HEADER_VALUE}),t.instance=function(e){return a("instance",e)},t.project=function(e){return a("project",e)},t.isAvailable=async function(){try{return void 0===u&&(u=a("instance",void 0,process.env.DETECT_GCP_RETRIES?Number(process.env.DETECT_GCP_RETRIES):0,!(process.env.GCE_METADATA_IP||process.env.GCE_METADATA_HOST))),await u,!0}catch(e){if(process.env.DEBUG_AUTH&&console.info(e),"request-timeout"===e.type)return!1;if(e.response&&404===e.response.status)return!1;if(!(e.response&&404===e.response.status||e.code&&["EHOSTDOWN","EHOSTUNREACH","ENETUNREACH","ENOENT","ENOTFOUND","ECONNREFUSED"].includes(e.code))){let t="UNKNOWN";e.code&&(t=e.code),process.emitWarning(`received unexpected error = ${e.message} code = ${t}`,"MetadataLookupWarning")}return!1}},t.resetIsAvailableCache=function(){u=void 0},t.requestTimeout=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.request=t.instance=t.Gaxios=void 0;const n=r(98);Object.defineProperty(t,"Gaxios",{enumerable:!0,get:function(){return n.Gaxios}});var i=r(41);Object.defineProperty(t,"GaxiosError",{enumerable:!0,get:function(){return i.GaxiosError}}),t.instance=new n.Gaxios,t.request=async function(e){return t.instance.request(e)}},function(e,t){var r=1e3,n=6e4,i=60*n,s=24*i;function a(e,t,r,n){var i=t>=1.5*r;return Math.round(e/r)+" "+n+(i?"s":"")}e.exports=function(e,t){t=t||{};var o=typeof e;if("string"===o&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var a=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"weeks":case"week":case"w":return 6048e5*a;case"days":case"day":case"d":return a*s;case"hours":case"hour":case"hrs":case"hr":case"h":return a*i;case"minutes":case"minute":case"mins":case"min":case"m":return a*n;case"seconds":case"second":case"secs":case"sec":case"s":return a*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}(e);if("number"===o&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=s)return a(e,t,s,"day");if(t>=i)return a(e,t,i,"hour");if(t>=n)return a(e,t,n,"minute");if(t>=r)return a(e,t,r,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=s)return Math.round(e/s)+"d";if(t>=i)return Math.round(e/i)+"h";if(t>=n)return Math.round(e/n)+"m";if(t>=r)return Math.round(e/r)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t){e.exports=require("tty")},function(e,t,r){"use strict";const n=r(45),i=r(109),s=process.env;let a;function o(e){return function(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}(function(e){if(!1===a)return 0;if(i("color=16m")||i("color=full")||i("color=truecolor"))return 3;if(i("color=256"))return 2;if(e&&!e.isTTY&&!0!==a)return 0;const t=a?1:0;if("win32"===process.platform){const e=n.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in s)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(e=>e in s)||"codeship"===s.CI_NAME?1:t;if("TEAMCITY_VERSION"in s)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(s.TEAMCITY_VERSION)?1:0;if("truecolor"===s.COLORTERM)return 3;if("TERM_PROGRAM"in s){const e=parseInt((s.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(s.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(s.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(s.TERM)||"COLORTERM"in s?1:(s.TERM,t)}(e))}i("no-color")||i("no-colors")||i("color=false")?a=!1:(i("color")||i("colors")||i("color=true")||i("color=always"))&&(a=!0),"FORCE_COLOR"in s&&(a=0===s.FORCE_COLOR.length||0!==parseInt(s.FORCE_COLOR,10)),e.exports={supportsColor:o,stdout:o(process.stdout),stderr:o(process.stderr)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultTransporter=void 0;const n=r(28),i=r(123),s=r(124);class a{configure(e={}){if(e.headers=e.headers||{},"undefined"==typeof window){const t=e.headers["User-Agent"];t?t.includes("google-api-nodejs-client/")||(e.headers["User-Agent"]=`${t} ${a.USER_AGENT}`):e.headers["User-Agent"]=a.USER_AGENT;const r="auth/"+s.version;if(e.headers["x-goog-api-client"]&&!e.headers["x-goog-api-client"].includes(r))e.headers["x-goog-api-client"]=`${e.headers["x-goog-api-client"]} ${r}`;else if(!e.headers["x-goog-api-client"]){const t=process.version.replace(/^v/,"");e.headers["x-goog-api-client"]=`gl-node/${t} ${r}`}}return e}request(e,t){e=this.configure(e);try{i.validate(e)}catch(e){if(t)return t(e);throw e}if(!t)return n.request(e).catch(e=>{throw this.processError(e)});n.request(e).then(e=>{t(null,e)},e=>{t(this.processError(e))})}processError(e){const t=e.response,r=e,n=t?t.data:null;return t&&n&&n.error&&200!==t.status?"string"==typeof n.error?(r.message=n.error,r.code=t.status.toString()):Array.isArray(n.error.errors)?(r.message=n.error.errors.map(e=>e.message).join("\n"),r.code=n.error.code,r.errors=n.error.errors):(r.message=n.error.message,r.code=n.error.code||t.status):t&&t.status>=400&&(r.message=n,r.code=t.status.toString()),r}}t.DefaultTransporter=a,a.USER_AGENT="google-api-nodejs-client/"+s.version},function(e,t,r){var n=r(0);r(1),e.exports=n.cipher=n.cipher||{},n.cipher.algorithms=n.cipher.algorithms||{},n.cipher.createCipher=function(e,t){var r=e;if("string"==typeof r&&(r=n.cipher.getAlgorithm(r))&&(r=r()),!r)throw new Error("Unsupported algorithm: "+e);return new n.cipher.BlockCipher({algorithm:r,key:t,decrypt:!1})},n.cipher.createDecipher=function(e,t){var r=e;if("string"==typeof r&&(r=n.cipher.getAlgorithm(r))&&(r=r()),!r)throw new Error("Unsupported algorithm: "+e);return new n.cipher.BlockCipher({algorithm:r,key:t,decrypt:!0})},n.cipher.registerAlgorithm=function(e,t){e=e.toUpperCase(),n.cipher.algorithms[e]=t},n.cipher.getAlgorithm=function(e){return(e=e.toUpperCase())in n.cipher.algorithms?n.cipher.algorithms[e]:null};var i=n.cipher.BlockCipher=function(e){this.algorithm=e.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=e.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=e.decrypt,this.algorithm.initialize(e)};i.prototype.start=function(e){e=e||{};var t={};for(var r in e)t[r]=e[r];t.decrypt=this._decrypt,this._finish=!1,this._input=n.util.createBuffer(),this.output=e.output||n.util.createBuffer(),this.mode.start(t)},i.prototype.update=function(e){for(e&&this._input.putBuffer(e);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()},i.prototype.finish=function(e){!e||"ECB"!==this.mode.name&&"CBC"!==this.mode.name||(this.mode.pad=function(t){return e(this.blockSize,t,!1)},this.mode.unpad=function(t){return e(this.blockSize,t,!0)});var t={};return t.decrypt=this._decrypt,t.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,t))&&(this._finish=!0,this.update(),!(this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,t))&&!(this.mode.afterFinish&&!this.mode.afterFinish(this.output,t)))}},function(e,t,r){var n=r(0);r(7),r(1);var i=e.exports=n.md5=n.md5||{};n.md.md5=n.md.algorithms.md5=i,i.create=function(){c||function(){s=String.fromCharCode(128),s+=n.util.fillString(String.fromCharCode(0),64),a=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],o=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],u=new Array(64);for(var e=0;e<64;++e)u[e]=Math.floor(4294967296*Math.abs(Math.sin(e+1)));c=!0}();var e=null,t=n.util.createBuffer(),r=new Array(16),i={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){i.messageLength=0,i.fullMessageLength=i.messageLength64=[];for(var r=i.messageLengthSize/4,s=0;s<r;++s)i.fullMessageLength.push(0);return t=n.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},i}};return i.start(),i.update=function(s,a){"utf8"===a&&(s=n.util.encodeUtf8(s));var o=s.length;i.messageLength+=o,o=[o/4294967296>>>0,o>>>0];for(var u=i.fullMessageLength.length-1;u>=0;--u)i.fullMessageLength[u]+=o[1],o[1]=o[0]+(i.fullMessageLength[u]/4294967296>>>0),i.fullMessageLength[u]=i.fullMessageLength[u]>>>0,o[0]=o[1]/4294967296>>>0;return t.putBytes(s),l(e,r,t),(t.read>2048||0===t.length())&&t.compact(),i},i.digest=function(){var a=n.util.createBuffer();a.putBytes(t.bytes());var o=i.fullMessageLength[i.fullMessageLength.length-1]+i.messageLengthSize&i.blockLength-1;a.putBytes(s.substr(0,i.blockLength-o));for(var u,c=0,f=i.fullMessageLength.length-1;f>=0;--f)c=(u=8*i.fullMessageLength[f]+c)/4294967296>>>0,a.putInt32Le(u>>>0);var h={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3};l(h,r,a);var p=n.util.createBuffer();return p.putInt32Le(h.h0),p.putInt32Le(h.h1),p.putInt32Le(h.h2),p.putInt32Le(h.h3),p},i};var s=null,a=null,o=null,u=null,c=!1;function l(e,t,r){for(var n,i,s,c,l,f,h,p=r.length();p>=64;){for(i=e.h0,s=e.h1,c=e.h2,l=e.h3,h=0;h<16;++h)t[h]=r.getInt32Le(),n=i+(l^s&(c^l))+u[h]+t[h],i=l,l=c,c=s,s+=n<<(f=o[h])|n>>>32-f;for(;h<32;++h)n=i+(c^l&(s^c))+u[h]+t[a[h]],i=l,l=c,c=s,s+=n<<(f=o[h])|n>>>32-f;for(;h<48;++h)n=i+(s^c^l)+u[h]+t[a[h]],i=l,l=c,c=s,s+=n<<(f=o[h])|n>>>32-f;for(;h<64;++h)n=i+(c^(s|~l))+u[h]+t[a[h]],i=l,l=c,c=s,s+=n<<(f=o[h])|n>>>32-f;e.h0=e.h0+i|0,e.h1=e.h1+s|0,e.h2=e.h2+c|0,e.h3=e.h3+l|0,p-=64}}},function(e,t,r){var n=r(0);r(16),r(7),r(1);var i,s=n.pkcs5=n.pkcs5||{};n.util.isNodejs&&!n.options.usePureJavaScript&&(i=r(13)),e.exports=n.pbkdf2=s.pbkdf2=function(e,t,r,s,a,o){if("function"==typeof a&&(o=a,a=null),n.util.isNodejs&&!n.options.usePureJavaScript&&i.pbkdf2&&(null===a||"object"!=typeof a)&&(i.pbkdf2Sync.length>4||!a||"sha1"===a))return"string"!=typeof a&&(a="sha1"),e=Buffer.from(e,"binary"),t=Buffer.from(t,"binary"),o?4===i.pbkdf2Sync.length?i.pbkdf2(e,t,r,s,(function(e,t){if(e)return o(e);o(null,t.toString("binary"))})):i.pbkdf2(e,t,r,s,a,(function(e,t){if(e)return o(e);o(null,t.toString("binary"))})):4===i.pbkdf2Sync.length?i.pbkdf2Sync(e,t,r,s).toString("binary"):i.pbkdf2Sync(e,t,r,s,a).toString("binary");if(null==a&&(a="sha1"),"string"==typeof a){if(!(a in n.md.algorithms))throw new Error("Unknown hash algorithm: "+a);a=n.md[a].create()}var u=a.digestLength;if(s>4294967295*u){var c=new Error("Derived key is too long.");if(o)return o(c);throw c}var l=Math.ceil(s/u),f=s-(l-1)*u,h=n.hmac.create();h.start(a,e);var p,d,g,y="";if(!o){for(var m=1;m<=l;++m){h.start(null,null),h.update(t),h.update(n.util.int32ToBytes(m)),p=g=h.digest().getBytes();for(var v=2;v<=r;++v)h.start(null,null),h.update(g),d=h.digest().getBytes(),p=n.util.xorBytes(p,d,u),g=d;y+=m<l?p:p.substr(0,f)}return y}m=1;function C(){if(m>l)return o(null,y);h.start(null,null),h.update(t),h.update(n.util.int32ToBytes(m)),p=g=h.digest().getBytes(),v=2,E()}function E(){if(v<=r)return h.start(null,null),h.update(g),d=h.digest().getBytes(),p=n.util.xorBytes(p,d,u),g=d,++v,n.util.setImmediate(E);y+=m<l?p:p.substr(0,f),++m,C()}C()}},function(e,t,r){var n=r(0);r(9),r(5),r(21),r(7),r(136),r(10),r(12),r(37),r(22),r(1);var i=n.asn1,s=e.exports=n.pki=n.pki||{},a=s.oids,o={};o.CN=a.commonName,o.commonName="CN",o.C=a.countryName,o.countryName="C",o.L=a.localityName,o.localityName="L",o.ST=a.stateOrProvinceName,o.stateOrProvinceName="ST",o.O=a.organizationName,o.organizationName="O",o.OU=a.organizationalUnitName,o.organizationalUnitName="OU",o.E=a.emailAddress,o.emailAddress="E";var u=n.pki.rsa.publicKeyValidator,c={name:"Certificate",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:i.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:i.Class.UNIVERSAL,type:i.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:i.Class.UNIVERSAL,type:i.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:i.Class.UNIVERSAL,type:i.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:i.Class.UNIVERSAL,type:i.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},u,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:i.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:i.Class.UNIVERSAL,type:i.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:i.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:i.Class.UNIVERSAL,type:i.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:i.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:i.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:i.Class.UNIVERSAL,type:i.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},l={name:"rsapss",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:i.Class.UNIVERSAL,type:i.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:i.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:i.Class.UNIVERSAL,type:i.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:i.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:i.Class.UNIVERSAL,type:i.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:i.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:i.Class.UNIVERSAL,type:i.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},f={name:"CertificationRequestInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},u,{name:"CertificationRequestInfo.attributes",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,constructed:!0}]}]}]},h={name:"CertificationRequest",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[f,{name:"CertificationRequest.signatureAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:i.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:i.Class.UNIVERSAL,type:i.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};function p(e,t){"string"==typeof t&&(t={shortName:t});for(var r,n=null,i=0;null===n&&i<e.attributes.length;++i)r=e.attributes[i],(t.type&&t.type===r.type||t.name&&t.name===r.name||t.shortName&&t.shortName===r.shortName)&&(n=r);return n}s.RDNAttributesAsArray=function(e,t){for(var r,n,s,u=[],c=0;c<e.value.length;++c){r=e.value[c];for(var l=0;l<r.value.length;++l)s={},n=r.value[l],s.type=i.derToOid(n.value[0].value),s.value=n.value[1].value,s.valueTagClass=n.value[1].type,s.type in a&&(s.name=a[s.type],s.name in o&&(s.shortName=o[s.name])),t&&(t.update(s.type),t.update(s.value)),u.push(s)}return u},s.CRIAttributesAsArray=function(e){for(var t=[],r=0;r<e.length;++r)for(var n=e[r],u=i.derToOid(n.value[0].value),c=n.value[1].value,l=0;l<c.length;++l){var f={};if(f.type=u,f.value=c[l].value,f.valueTagClass=c[l].type,f.type in a&&(f.name=a[f.type],f.name in o&&(f.shortName=o[f.name])),f.type===a.extensionRequest){f.extensions=[];for(var h=0;h<f.value.length;++h)f.extensions.push(s.certificateExtensionFromAsn1(f.value[h]))}t.push(f)}return t};var d=function(e,t,r){var n={};if(e!==a["RSASSA-PSS"])return n;r&&(n={hash:{algorithmOid:a.sha1},mgf:{algorithmOid:a.mgf1,hash:{algorithmOid:a.sha1}},saltLength:20});var s={},o=[];if(!i.validate(t,l,s,o)){var u=new Error("Cannot read RSASSA-PSS parameter block.");throw u.errors=o,u}return void 0!==s.hashOid&&(n.hash=n.hash||{},n.hash.algorithmOid=i.derToOid(s.hashOid)),void 0!==s.maskGenOid&&(n.mgf=n.mgf||{},n.mgf.algorithmOid=i.derToOid(s.maskGenOid),n.mgf.hash=n.mgf.hash||{},n.mgf.hash.algorithmOid=i.derToOid(s.maskGenHashOid)),void 0!==s.saltLength&&(n.saltLength=s.saltLength.charCodeAt(0)),n};function g(e){for(var t,r,s=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]),a=e.attributes,o=0;o<a.length;++o){var u=(t=a[o]).value,c=i.Type.PRINTABLESTRING;"valueTagClass"in t&&(c=t.valueTagClass)===i.Type.UTF8&&(u=n.util.encodeUtf8(u)),r=i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.type).getBytes()),i.create(i.Class.UNIVERSAL,c,!1,u)])]),s.value.push(r)}return s}function y(e){for(var t,r=0;r<e.length;++r){if(void 0===(t=e[r]).name&&(t.type&&t.type in s.oids?t.name=s.oids[t.type]:t.shortName&&t.shortName in o&&(t.name=s.oids[o[t.shortName]])),void 0===t.type){if(!t.name||!(t.name in s.oids))throw(u=new Error("Attribute type not specified.")).attribute=t,u;t.type=s.oids[t.name]}if(void 0===t.shortName&&t.name&&t.name in o&&(t.shortName=o[t.name]),t.type===a.extensionRequest&&(t.valueConstructed=!0,t.valueTagClass=i.Type.SEQUENCE,!t.value&&t.extensions)){t.value=[];for(var n=0;n<t.extensions.length;++n)t.value.push(s.certificateExtensionToAsn1(m(t.extensions[n])))}var u;if(void 0===t.value)throw(u=new Error("Attribute value not specified.")).attribute=t,u}}function m(e,t){if(t=t||{},void 0===e.name&&e.id&&e.id in s.oids&&(e.name=s.oids[e.id]),void 0===e.id){if(!e.name||!(e.name in s.oids))throw(b=new Error("Extension ID not specified.")).extension=e,b;e.id=s.oids[e.name]}if(void 0!==e.value)return e;if("keyUsage"===e.name){var r=0,o=0,u=0;e.digitalSignature&&(o|=128,r=7),e.nonRepudiation&&(o|=64,r=6),e.keyEncipherment&&(o|=32,r=5),e.dataEncipherment&&(o|=16,r=4),e.keyAgreement&&(o|=8,r=3),e.keyCertSign&&(o|=4,r=2),e.cRLSign&&(o|=2,r=1),e.encipherOnly&&(o|=1,r=0),e.decipherOnly&&(u|=128,r=7);var c=String.fromCharCode(r);0!==u?c+=String.fromCharCode(o)+String.fromCharCode(u):0!==o&&(c+=String.fromCharCode(o)),e.value=i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,c)}else if("basicConstraints"===e.name)e.value=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]),e.cA&&e.value.value.push(i.create(i.Class.UNIVERSAL,i.Type.BOOLEAN,!1,String.fromCharCode(255))),"pathLenConstraint"in e&&e.value.value.push(i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(e.pathLenConstraint).getBytes()));else if("extKeyUsage"===e.name){e.value=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);var l=e.value.value;for(var f in e)!0===e[f]&&(f in a?l.push(i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(a[f]).getBytes())):-1!==f.indexOf(".")&&l.push(i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(f).getBytes())))}else if("nsCertType"===e.name){r=0,o=0;e.client&&(o|=128,r=7),e.server&&(o|=64,r=6),e.email&&(o|=32,r=5),e.objsign&&(o|=16,r=4),e.reserved&&(o|=8,r=3),e.sslCA&&(o|=4,r=2),e.emailCA&&(o|=2,r=1),e.objCA&&(o|=1,r=0);c=String.fromCharCode(r);0!==o&&(c+=String.fromCharCode(o)),e.value=i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,c)}else if("subjectAltName"===e.name||"issuerAltName"===e.name){e.value=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);for(var h=0;h<e.altNames.length;++h){c=(v=e.altNames[h]).value;if(7===v.type&&v.ip){if(null===(c=n.util.bytesFromIP(v.ip)))throw(b=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=e,b}else 8===v.type&&(c=v.oid?i.oidToDer(i.oidToDer(v.oid)):i.oidToDer(c));e.value.value.push(i.create(i.Class.CONTEXT_SPECIFIC,v.type,!1,c))}}else if("nsComment"===e.name&&t.cert){if(!/^[\x00-\x7F]*$/.test(e.comment)||e.comment.length<1||e.comment.length>128)throw new Error('Invalid "nsComment" content.');e.value=i.create(i.Class.UNIVERSAL,i.Type.IA5STRING,!1,e.comment)}else if("subjectKeyIdentifier"===e.name&&t.cert){var p=t.cert.generateSubjectKeyIdentifier();e.subjectKeyIdentifier=p.toHex(),e.value=i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,p.getBytes())}else if("authorityKeyIdentifier"===e.name&&t.cert){e.value=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);l=e.value.value;if(e.keyIdentifier){var d=!0===e.keyIdentifier?t.cert.generateSubjectKeyIdentifier().getBytes():e.keyIdentifier;l.push(i.create(i.Class.CONTEXT_SPECIFIC,0,!1,d))}if(e.authorityCertIssuer){var y=[i.create(i.Class.CONTEXT_SPECIFIC,4,!0,[g(!0===e.authorityCertIssuer?t.cert.issuer:e.authorityCertIssuer)])];l.push(i.create(i.Class.CONTEXT_SPECIFIC,1,!0,y))}if(e.serialNumber){var m=n.util.hexToBytes(!0===e.serialNumber?t.cert.serialNumber:e.serialNumber);l.push(i.create(i.Class.CONTEXT_SPECIFIC,2,!1,m))}}else if("cRLDistributionPoints"===e.name){e.value=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);l=e.value.value;var v,C=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]),E=i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[]);for(h=0;h<e.altNames.length;++h){c=(v=e.altNames[h]).value;if(7===v.type&&v.ip){if(null===(c=n.util.bytesFromIP(v.ip)))throw(b=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=e,b}else 8===v.type&&(c=v.oid?i.oidToDer(i.oidToDer(v.oid)):i.oidToDer(c));E.value.push(i.create(i.Class.CONTEXT_SPECIFIC,v.type,!1,c))}C.value.push(i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[E])),l.push(C)}var b;if(void 0===e.value)throw(b=new Error("Extension value not specified.")).extension=e,b;return e}function v(e,t){switch(e){case a["RSASSA-PSS"]:var r=[];return void 0!==t.hash.algorithmOid&&r.push(i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.hash.algorithmOid).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")])])),void 0!==t.mgf.algorithmOid&&r.push(i.create(i.Class.CONTEXT_SPECIFIC,1,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.mgf.algorithmOid).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.mgf.hash.algorithmOid).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")])])])),void 0!==t.saltLength&&r.push(i.create(i.Class.CONTEXT_SPECIFIC,2,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(t.saltLength).getBytes())])),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,r);default:return i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")}}function C(e){var t=i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[]);if(0===e.attributes.length)return t;for(var r=e.attributes,s=0;s<r.length;++s){var a=r[s],o=a.value,u=i.Type.UTF8;"valueTagClass"in a&&(u=a.valueTagClass),u===i.Type.UTF8&&(o=n.util.encodeUtf8(o));var c=!1;"valueConstructed"in a&&(c=a.valueConstructed);var l=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(a.type).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[i.create(i.Class.UNIVERSAL,u,c,o)])]);t.value.push(l)}return t}s.certificateFromPem=function(e,t,r){var a=n.pem.decode(e)[0];if("CERTIFICATE"!==a.type&&"X509 CERTIFICATE"!==a.type&&"TRUSTED CERTIFICATE"!==a.type){var o=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw o.headerType=a.type,o}if(a.procType&&"ENCRYPTED"===a.procType.type)throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var u=i.fromDer(a.body,r);return s.certificateFromAsn1(u,t)},s.certificateToPem=function(e,t){var r={type:"CERTIFICATE",body:i.toDer(s.certificateToAsn1(e)).getBytes()};return n.pem.encode(r,{maxline:t})},s.publicKeyFromPem=function(e){var t=n.pem.decode(e)[0];if("PUBLIC KEY"!==t.type&&"RSA PUBLIC KEY"!==t.type){var r=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw r.headerType=t.type,r}if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert public key from PEM; PEM is encrypted.");var a=i.fromDer(t.body);return s.publicKeyFromAsn1(a)},s.publicKeyToPem=function(e,t){var r={type:"PUBLIC KEY",body:i.toDer(s.publicKeyToAsn1(e)).getBytes()};return n.pem.encode(r,{maxline:t})},s.publicKeyToRSAPublicKeyPem=function(e,t){var r={type:"RSA PUBLIC KEY",body:i.toDer(s.publicKeyToRSAPublicKey(e)).getBytes()};return n.pem.encode(r,{maxline:t})},s.getPublicKeyFingerprint=function(e,t){var r,a=(t=t||{}).md||n.md.sha1.create();switch(t.type||"RSAPublicKey"){case"RSAPublicKey":r=i.toDer(s.publicKeyToRSAPublicKey(e)).getBytes();break;case"SubjectPublicKeyInfo":r=i.toDer(s.publicKeyToAsn1(e)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+t.type+'".')}a.start(),a.update(r);var o=a.digest();if("hex"===t.encoding){var u=o.toHex();return t.delimiter?u.match(/.{2}/g).join(t.delimiter):u}if("binary"===t.encoding)return o.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".');return o},s.certificationRequestFromPem=function(e,t,r){var a=n.pem.decode(e)[0];if("CERTIFICATE REQUEST"!==a.type){var o=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw o.headerType=a.type,o}if(a.procType&&"ENCRYPTED"===a.procType.type)throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var u=i.fromDer(a.body,r);return s.certificationRequestFromAsn1(u,t)},s.certificationRequestToPem=function(e,t){var r={type:"CERTIFICATE REQUEST",body:i.toDer(s.certificationRequestToAsn1(e)).getBytes()};return n.pem.encode(r,{maxline:t})},s.createCertificate=function(){var e={version:2,serialNumber:"00",signatureOid:null,signature:null,siginfo:{}};return e.siginfo.algorithmOid=null,e.validity={},e.validity.notBefore=new Date,e.validity.notAfter=new Date,e.issuer={},e.issuer.getField=function(t){return p(e.issuer,t)},e.issuer.addField=function(t){y([t]),e.issuer.attributes.push(t)},e.issuer.attributes=[],e.issuer.hash=null,e.subject={},e.subject.getField=function(t){return p(e.subject,t)},e.subject.addField=function(t){y([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.extensions=[],e.publicKey=null,e.md=null,e.setSubject=function(t,r){y(t),e.subject.attributes=t,delete e.subject.uniqueId,r&&(e.subject.uniqueId=r),e.subject.hash=null},e.setIssuer=function(t,r){y(t),e.issuer.attributes=t,delete e.issuer.uniqueId,r&&(e.issuer.uniqueId=r),e.issuer.hash=null},e.setExtensions=function(t){for(var r=0;r<t.length;++r)m(t[r],{cert:e});e.extensions=t},e.getExtension=function(t){"string"==typeof t&&(t={name:t});for(var r,n=null,i=0;null===n&&i<e.extensions.length;++i)r=e.extensions[i],(t.id&&r.id===t.id||t.name&&r.name===t.name)&&(n=r);return n},e.sign=function(t,r){e.md=r||n.md.sha1.create();var o=a[e.md.algorithm+"WithRSAEncryption"];if(!o){var u=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw u.algorithm=e.md.algorithm,u}e.signatureOid=e.siginfo.algorithmOid=o,e.tbsCertificate=s.getTBSCertificate(e);var c=i.toDer(e.tbsCertificate);e.md.update(c.getBytes()),e.signature=t.sign(e.md)},e.verify=function(t){var r=!1;if(!e.issued(t)){var o=t.issuer,u=e.subject;throw(g=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.")).expectedIssuer=o.attributes,g.actualIssuer=u.attributes,g}var c=t.md;if(null===c){if(t.signatureOid in a)switch(a[t.signatureOid]){case"sha1WithRSAEncryption":c=n.md.sha1.create();break;case"md5WithRSAEncryption":c=n.md.md5.create();break;case"sha256WithRSAEncryption":c=n.md.sha256.create();break;case"sha384WithRSAEncryption":c=n.md.sha384.create();break;case"sha512WithRSAEncryption":c=n.md.sha512.create();break;case"RSASSA-PSS":c=n.md.sha256.create()}if(null===c)throw(g=new Error("Could not compute certificate digest. Unknown signature OID.")).signatureOid=t.signatureOid,g;var l=t.tbsCertificate||s.getTBSCertificate(t),f=i.toDer(l);c.update(f.getBytes())}if(null!==c){var h;switch(t.signatureOid){case a.sha1WithRSAEncryption:h=void 0;break;case a["RSASSA-PSS"]:var p,d,g;if(void 0===(p=a[t.signatureParameters.mgf.hash.algorithmOid])||void 0===n.md[p])throw(g=new Error("Unsupported MGF hash function.")).oid=t.signatureParameters.mgf.hash.algorithmOid,g.name=p,g;if(void 0===(d=a[t.signatureParameters.mgf.algorithmOid])||void 0===n.mgf[d])throw(g=new Error("Unsupported MGF function.")).oid=t.signatureParameters.mgf.algorithmOid,g.name=d,g;if(d=n.mgf[d].create(n.md[p].create()),void 0===(p=a[t.signatureParameters.hash.algorithmOid])||void 0===n.md[p])throw{message:"Unsupported RSASSA-PSS hash function.",oid:t.signatureParameters.hash.algorithmOid,name:p};h=n.pss.create(n.md[p].create(),d,t.signatureParameters.saltLength)}r=e.publicKey.verify(c.digest().getBytes(),t.signature,h)}return r},e.isIssuer=function(t){var r=!1,n=e.issuer,i=t.subject;if(n.hash&&i.hash)r=n.hash===i.hash;else if(n.attributes.length===i.attributes.length){var s,a;r=!0;for(var o=0;r&&o<n.attributes.length;++o)s=n.attributes[o],a=i.attributes[o],s.type===a.type&&s.value===a.value||(r=!1)}return r},e.issued=function(t){return t.isIssuer(e)},e.generateSubjectKeyIdentifier=function(){return s.getPublicKeyFingerprint(e.publicKey,{type:"RSAPublicKey"})},e.verifySubjectKeyIdentifier=function(){for(var t=a.subjectKeyIdentifier,r=0;r<e.extensions.length;++r){var i=e.extensions[r];if(i.id===t){var s=e.generateSubjectKeyIdentifier().getBytes();return n.util.hexToBytes(i.subjectKeyIdentifier)===s}}return!1},e},s.certificateFromAsn1=function(e,t){var r={},o=[];if(!i.validate(e,c,r,o))throw(h=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.")).errors=o,h;if(i.derToOid(r.publicKeyOid)!==s.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var u=s.createCertificate();u.version=r.certVersion?r.certVersion.charCodeAt(0):0;var l=n.util.createBuffer(r.certSerialNumber);u.serialNumber=l.toHex(),u.signatureOid=n.asn1.derToOid(r.certSignatureOid),u.signatureParameters=d(u.signatureOid,r.certSignatureParams,!0),u.siginfo.algorithmOid=n.asn1.derToOid(r.certinfoSignatureOid),u.siginfo.parameters=d(u.siginfo.algorithmOid,r.certinfoSignatureParams,!1),u.signature=r.certSignature;var f=[];if(void 0!==r.certValidity1UTCTime&&f.push(i.utcTimeToDate(r.certValidity1UTCTime)),void 0!==r.certValidity2GeneralizedTime&&f.push(i.generalizedTimeToDate(r.certValidity2GeneralizedTime)),void 0!==r.certValidity3UTCTime&&f.push(i.utcTimeToDate(r.certValidity3UTCTime)),void 0!==r.certValidity4GeneralizedTime&&f.push(i.generalizedTimeToDate(r.certValidity4GeneralizedTime)),f.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(f.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(u.validity.notBefore=f[0],u.validity.notAfter=f[1],u.tbsCertificate=r.tbsCertificate,t){var h;if(u.md=null,u.signatureOid in a)switch(a[u.signatureOid]){case"sha1WithRSAEncryption":u.md=n.md.sha1.create();break;case"md5WithRSAEncryption":u.md=n.md.md5.create();break;case"sha256WithRSAEncryption":u.md=n.md.sha256.create();break;case"sha384WithRSAEncryption":u.md=n.md.sha384.create();break;case"sha512WithRSAEncryption":u.md=n.md.sha512.create();break;case"RSASSA-PSS":u.md=n.md.sha256.create()}if(null===u.md)throw(h=new Error("Could not compute certificate digest. Unknown signature OID.")).signatureOid=u.signatureOid,h;var g=i.toDer(u.tbsCertificate);u.md.update(g.getBytes())}var m=n.md.sha1.create();u.issuer.getField=function(e){return p(u.issuer,e)},u.issuer.addField=function(e){y([e]),u.issuer.attributes.push(e)},u.issuer.attributes=s.RDNAttributesAsArray(r.certIssuer,m),r.certIssuerUniqueId&&(u.issuer.uniqueId=r.certIssuerUniqueId),u.issuer.hash=m.digest().toHex();var v=n.md.sha1.create();return u.subject.getField=function(e){return p(u.subject,e)},u.subject.addField=function(e){y([e]),u.subject.attributes.push(e)},u.subject.attributes=s.RDNAttributesAsArray(r.certSubject,v),r.certSubjectUniqueId&&(u.subject.uniqueId=r.certSubjectUniqueId),u.subject.hash=v.digest().toHex(),r.certExtensions?u.extensions=s.certificateExtensionsFromAsn1(r.certExtensions):u.extensions=[],u.publicKey=s.publicKeyFromAsn1(r.subjectPublicKeyInfo),u},s.certificateExtensionsFromAsn1=function(e){for(var t=[],r=0;r<e.value.length;++r)for(var n=e.value[r],i=0;i<n.value.length;++i)t.push(s.certificateExtensionFromAsn1(n.value[i]));return t},s.certificateExtensionFromAsn1=function(e){var t={};if(t.id=i.derToOid(e.value[0].value),t.critical=!1,e.value[1].type===i.Type.BOOLEAN?(t.critical=0!==e.value[1].value.charCodeAt(0),t.value=e.value[2].value):t.value=e.value[1].value,t.id in a)if(t.name=a[t.id],"keyUsage"===t.name){var r=0,s=0;(u=i.fromDer(t.value)).value.length>1&&(r=u.value.charCodeAt(1),s=u.value.length>2?u.value.charCodeAt(2):0),t.digitalSignature=128==(128&r),t.nonRepudiation=64==(64&r),t.keyEncipherment=32==(32&r),t.dataEncipherment=16==(16&r),t.keyAgreement=8==(8&r),t.keyCertSign=4==(4&r),t.cRLSign=2==(2&r),t.encipherOnly=1==(1&r),t.decipherOnly=128==(128&s)}else if("basicConstraints"===t.name){(u=i.fromDer(t.value)).value.length>0&&u.value[0].type===i.Type.BOOLEAN?t.cA=0!==u.value[0].value.charCodeAt(0):t.cA=!1;var o=null;u.value.length>0&&u.value[0].type===i.Type.INTEGER?o=u.value[0].value:u.value.length>1&&(o=u.value[1].value),null!==o&&(t.pathLenConstraint=i.derToInteger(o))}else if("extKeyUsage"===t.name)for(var u=i.fromDer(t.value),c=0;c<u.value.length;++c){var l=i.derToOid(u.value[c].value);l in a?t[a[l]]=!0:t[l]=!0}else if("nsCertType"===t.name){r=0;(u=i.fromDer(t.value)).value.length>1&&(r=u.value.charCodeAt(1)),t.client=128==(128&r),t.server=64==(64&r),t.email=32==(32&r),t.objsign=16==(16&r),t.reserved=8==(8&r),t.sslCA=4==(4&r),t.emailCA=2==(2&r),t.objCA=1==(1&r)}else if("subjectAltName"===t.name||"issuerAltName"===t.name){var f;t.altNames=[];u=i.fromDer(t.value);for(var h=0;h<u.value.length;++h){var p={type:(f=u.value[h]).type,value:f.value};switch(t.altNames.push(p),f.type){case 1:case 2:case 6:break;case 7:p.ip=n.util.bytesToIP(f.value);break;case 8:p.oid=i.derToOid(f.value)}}}else if("subjectKeyIdentifier"===t.name){u=i.fromDer(t.value);t.subjectKeyIdentifier=n.util.bytesToHex(u.value)}return t},s.certificationRequestFromAsn1=function(e,t){var r={},o=[];if(!i.validate(e,h,r,o))throw(c=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.")).errors=o,c;if(i.derToOid(r.publicKeyOid)!==s.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var u=s.createCertificationRequest();if(u.version=r.csrVersion?r.csrVersion.charCodeAt(0):0,u.signatureOid=n.asn1.derToOid(r.csrSignatureOid),u.signatureParameters=d(u.signatureOid,r.csrSignatureParams,!0),u.siginfo.algorithmOid=n.asn1.derToOid(r.csrSignatureOid),u.siginfo.parameters=d(u.siginfo.algorithmOid,r.csrSignatureParams,!1),u.signature=r.csrSignature,u.certificationRequestInfo=r.certificationRequestInfo,t){var c;if(u.md=null,u.signatureOid in a)switch(a[u.signatureOid]){case"sha1WithRSAEncryption":u.md=n.md.sha1.create();break;case"md5WithRSAEncryption":u.md=n.md.md5.create();break;case"sha256WithRSAEncryption":u.md=n.md.sha256.create();break;case"sha384WithRSAEncryption":u.md=n.md.sha384.create();break;case"sha512WithRSAEncryption":u.md=n.md.sha512.create();break;case"RSASSA-PSS":u.md=n.md.sha256.create()}if(null===u.md)throw(c=new Error("Could not compute certification request digest. Unknown signature OID.")).signatureOid=u.signatureOid,c;var l=i.toDer(u.certificationRequestInfo);u.md.update(l.getBytes())}var f=n.md.sha1.create();return u.subject.getField=function(e){return p(u.subject,e)},u.subject.addField=function(e){y([e]),u.subject.attributes.push(e)},u.subject.attributes=s.RDNAttributesAsArray(r.certificationRequestInfoSubject,f),u.subject.hash=f.digest().toHex(),u.publicKey=s.publicKeyFromAsn1(r.subjectPublicKeyInfo),u.getAttribute=function(e){return p(u,e)},u.addAttribute=function(e){y([e]),u.attributes.push(e)},u.attributes=s.CRIAttributesAsArray(r.certificationRequestInfoAttributes||[]),u},s.createCertificationRequest=function(){var e={version:0,signatureOid:null,signature:null,siginfo:{}};return e.siginfo.algorithmOid=null,e.subject={},e.subject.getField=function(t){return p(e.subject,t)},e.subject.addField=function(t){y([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.publicKey=null,e.attributes=[],e.getAttribute=function(t){return p(e,t)},e.addAttribute=function(t){y([t]),e.attributes.push(t)},e.md=null,e.setSubject=function(t){y(t),e.subject.attributes=t,e.subject.hash=null},e.setAttributes=function(t){y(t),e.attributes=t},e.sign=function(t,r){e.md=r||n.md.sha1.create();var o=a[e.md.algorithm+"WithRSAEncryption"];if(!o){var u=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw u.algorithm=e.md.algorithm,u}e.signatureOid=e.siginfo.algorithmOid=o,e.certificationRequestInfo=s.getCertificationRequestInfo(e);var c=i.toDer(e.certificationRequestInfo);e.md.update(c.getBytes()),e.signature=t.sign(e.md)},e.verify=function(){var t=!1,r=e.md;if(null===r){if(e.signatureOid in a)switch(a[e.signatureOid]){case"sha1WithRSAEncryption":r=n.md.sha1.create();break;case"md5WithRSAEncryption":r=n.md.md5.create();break;case"sha256WithRSAEncryption":r=n.md.sha256.create();break;case"sha384WithRSAEncryption":r=n.md.sha384.create();break;case"sha512WithRSAEncryption":r=n.md.sha512.create();break;case"RSASSA-PSS":r=n.md.sha256.create()}if(null===r)throw(h=new Error("Could not compute certification request digest. Unknown signature OID.")).signatureOid=e.signatureOid,h;var o=e.certificationRequestInfo||s.getCertificationRequestInfo(e),u=i.toDer(o);r.update(u.getBytes())}if(null!==r){var c;switch(e.signatureOid){case a.sha1WithRSAEncryption:break;case a["RSASSA-PSS"]:var l,f,h;if(void 0===(l=a[e.signatureParameters.mgf.hash.algorithmOid])||void 0===n.md[l])throw(h=new Error("Unsupported MGF hash function.")).oid=e.signatureParameters.mgf.hash.algorithmOid,h.name=l,h;if(void 0===(f=a[e.signatureParameters.mgf.algorithmOid])||void 0===n.mgf[f])throw(h=new Error("Unsupported MGF function.")).oid=e.signatureParameters.mgf.algorithmOid,h.name=f,h;if(f=n.mgf[f].create(n.md[l].create()),void 0===(l=a[e.signatureParameters.hash.algorithmOid])||void 0===n.md[l])throw(h=new Error("Unsupported RSASSA-PSS hash function.")).oid=e.signatureParameters.hash.algorithmOid,h.name=l,h;c=n.pss.create(n.md[l].create(),f,e.signatureParameters.saltLength)}t=e.publicKey.verify(r.digest().getBytes(),e.signature,c)}return t},e};var E=new Date("1950-01-01T00:00:00Z"),b=new Date("2050-01-01T00:00:00Z");function S(e){return e>=E&&e<b?i.create(i.Class.UNIVERSAL,i.Type.UTCTIME,!1,i.dateToUtcTime(e)):i.create(i.Class.UNIVERSAL,i.Type.GENERALIZEDTIME,!1,i.dateToGeneralizedTime(e))}s.getTBSCertificate=function(e){var t=S(e.validity.notBefore),r=S(e.validity.notAfter),a=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(e.version).getBytes())]),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,n.util.hexToBytes(e.serialNumber)),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.siginfo.algorithmOid).getBytes()),v(e.siginfo.algorithmOid,e.siginfo.parameters)]),g(e.issuer),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[t,r]),g(e.subject),s.publicKeyToAsn1(e.publicKey)]);return e.issuer.uniqueId&&a.value.push(i.create(i.Class.CONTEXT_SPECIFIC,1,!0,[i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,String.fromCharCode(0)+e.issuer.uniqueId)])),e.subject.uniqueId&&a.value.push(i.create(i.Class.CONTEXT_SPECIFIC,2,!0,[i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,String.fromCharCode(0)+e.subject.uniqueId)])),e.extensions.length>0&&a.value.push(s.certificateExtensionsToAsn1(e.extensions)),a},s.getCertificationRequestInfo=function(e){return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(e.version).getBytes()),g(e.subject),s.publicKeyToAsn1(e.publicKey),C(e)])},s.distinguishedNameToAsn1=function(e){return g(e)},s.certificateToAsn1=function(e){var t=e.tbsCertificate||s.getTBSCertificate(e);return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[t,i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.signatureOid).getBytes()),v(e.signatureOid,e.signatureParameters)]),i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,String.fromCharCode(0)+e.signature)])},s.certificateExtensionsToAsn1=function(e){var t=i.create(i.Class.CONTEXT_SPECIFIC,3,!0,[]),r=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);t.value.push(r);for(var n=0;n<e.length;++n)r.value.push(s.certificateExtensionToAsn1(e[n]));return t},s.certificateExtensionToAsn1=function(e){var t=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);t.value.push(i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.id).getBytes())),e.critical&&t.value.push(i.create(i.Class.UNIVERSAL,i.Type.BOOLEAN,!1,String.fromCharCode(255)));var r=e.value;return"string"!=typeof e.value&&(r=i.toDer(r).getBytes()),t.value.push(i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,r)),t},s.certificationRequestToAsn1=function(e){var t=e.certificationRequestInfo||s.getCertificationRequestInfo(e);return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[t,i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.signatureOid).getBytes()),v(e.signatureOid,e.signatureParameters)]),i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,String.fromCharCode(0)+e.signature)])},s.createCaStore=function(e){var t={certs:{}};function r(e){return a(e),t.certs[e.hash]||null}function a(e){if(!e.hash){var t=n.md.sha1.create();e.attributes=s.RDNAttributesAsArray(g(e),t),e.hash=t.digest().toHex()}}if(t.getIssuer=function(e){return r(e.issuer)},t.addCertificate=function(e){if("string"==typeof e&&(e=n.pki.certificateFromPem(e)),a(e.subject),!t.hasCertificate(e))if(e.subject.hash in t.certs){var r=t.certs[e.subject.hash];n.util.isArray(r)||(r=[r]),r.push(e),t.certs[e.subject.hash]=r}else t.certs[e.subject.hash]=e},t.hasCertificate=function(e){"string"==typeof e&&(e=n.pki.certificateFromPem(e));var t=r(e.subject);if(!t)return!1;n.util.isArray(t)||(t=[t]);for(var a=i.toDer(s.certificateToAsn1(e)).getBytes(),o=0;o<t.length;++o){if(a===i.toDer(s.certificateToAsn1(t[o])).getBytes())return!0}return!1},t.listAllCertificates=function(){var e=[];for(var r in t.certs)if(t.certs.hasOwnProperty(r)){var i=t.certs[r];if(n.util.isArray(i))for(var s=0;s<i.length;++s)e.push(i[s]);else e.push(i)}return e},t.removeCertificate=function(e){var o;if("string"==typeof e&&(e=n.pki.certificateFromPem(e)),a(e.subject),!t.hasCertificate(e))return null;var u=r(e.subject);if(!n.util.isArray(u))return o=t.certs[e.subject.hash],delete t.certs[e.subject.hash],o;for(var c=i.toDer(s.certificateToAsn1(e)).getBytes(),l=0;l<u.length;++l){c===i.toDer(s.certificateToAsn1(u[l])).getBytes()&&(o=u[l],u.splice(l,1))}return 0===u.length&&delete t.certs[e.subject.hash],o},e)for(var o=0;o<e.length;++o){var u=e[o];t.addCertificate(u)}return t},s.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"},s.verifyCertificateChain=function(e,t,r){"function"==typeof r&&(r={verify:r}),r=r||{};var i=(t=t.slice(0)).slice(0),a=r.validityCheckDate;void 0===a&&(a=new Date);var o=!0,u=null,c=0;do{var l=t.shift(),f=null,h=!1;if(a&&(a<l.validity.notBefore||a>l.validity.notAfter)&&(u={message:"Certificate is not valid yet or has expired.",error:s.certificateError.certificate_expired,notBefore:l.validity.notBefore,notAfter:l.validity.notAfter,now:a}),null===u){if(null===(f=t[0]||e.getIssuer(l))&&l.isIssuer(l)&&(h=!0,f=l),f){var p=f;n.util.isArray(p)||(p=[p]);for(var d=!1;!d&&p.length>0;){f=p.shift();try{d=f.verify(l)}catch(e){}}d||(u={message:"Certificate signature is invalid.",error:s.certificateError.bad_certificate})}null!==u||f&&!h||e.hasCertificate(l)||(u={message:"Certificate is not trusted.",error:s.certificateError.unknown_ca})}if(null===u&&f&&!l.isIssuer(f)&&(u={message:"Certificate issuer is invalid.",error:s.certificateError.bad_certificate}),null===u)for(var g={keyUsage:!0,basicConstraints:!0},y=0;null===u&&y<l.extensions.length;++y){var m=l.extensions[y];m.critical&&!(m.name in g)&&(u={message:"Certificate has an unsupported critical extension.",error:s.certificateError.unsupported_certificate})}if(null===u&&(!o||0===t.length&&(!f||h))){var v=l.getExtension("basicConstraints"),C=l.getExtension("keyUsage");if(null!==C&&(C.keyCertSign&&null!==v||(u={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:s.certificateError.bad_certificate})),null!==u||null===v||v.cA||(u={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:s.certificateError.bad_certificate}),null===u&&null!==C&&"pathLenConstraint"in v)c-1>v.pathLenConstraint&&(u={message:"Certificate basicConstraints pathLenConstraint violated.",error:s.certificateError.bad_certificate})}var E=null===u||u.error,b=r.verify?r.verify(E,c,i):E;if(!0!==b)throw!0===E&&(u={message:"The application rejected the certificate.",error:s.certificateError.bad_certificate}),(b||0===b)&&("object"!=typeof b||n.util.isArray(b)?"string"==typeof b&&(u.error=b):(b.message&&(u.message=b.message),b.error&&(u.error=b.error))),u;u=null,o=!1,++c}while(t.length>0);return!0}},function(e,t,r){var n=r(0);r(4),r(1),(e.exports=n.pss=n.pss||{}).create=function(e){3===arguments.length&&(e={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var t,r=e.md,i=e.mgf,s=r.digestLength,a=e.salt||null;if("string"==typeof a&&(a=n.util.createBuffer(a)),"saltLength"in e)t=e.saltLength;else{if(null===a)throw new Error("Salt length not specified or specific salt not given.");t=a.length()}if(null!==a&&a.length()!==t)throw new Error("Given salt length does not match length of given salt.");var o=e.prng||n.random,u={encode:function(e,u){var c,l,f=u-1,h=Math.ceil(f/8),p=e.digest().getBytes();if(h<s+t+2)throw new Error("Message is too long to encrypt.");l=null===a?o.getBytesSync(t):a.bytes();var d=new n.util.ByteBuffer;d.fillWithByte(0,8),d.putBytes(p),d.putBytes(l),r.start(),r.update(d.getBytes());var g=r.digest().getBytes(),y=new n.util.ByteBuffer;y.fillWithByte(0,h-t-s-2),y.putByte(1),y.putBytes(l);var m=y.getBytes(),v=h-s-1,C=i.generate(g,v),E="";for(c=0;c<v;c++)E+=String.fromCharCode(m.charCodeAt(c)^C.charCodeAt(c));var b=65280>>8*h-f&255;return(E=String.fromCharCode(E.charCodeAt(0)&~b)+E.substr(1))+g+String.fromCharCode(188)},verify:function(e,a,o){var u,c=o-1,l=Math.ceil(c/8);if(a=a.substr(-l),l<s+t+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(188!==a.charCodeAt(l-1))throw new Error("Encoded message does not end in 0xBC.");var f=l-s-1,h=a.substr(0,f),p=a.substr(f,s),d=65280>>8*l-c&255;if(0!=(h.charCodeAt(0)&d))throw new Error("Bits beyond keysize not zero as expected.");var g=i.generate(p,f),y="";for(u=0;u<f;u++)y+=String.fromCharCode(h.charCodeAt(u)^g.charCodeAt(u));y=String.fromCharCode(y.charCodeAt(0)&~d)+y.substr(1);var m=l-s-t-2;for(u=0;u<m;u++)if(0!==y.charCodeAt(u))throw new Error("Leftmost octets not zero as expected");if(1!==y.charCodeAt(m))throw new Error("Inconsistent PSS signature, 0x01 marker not found");var v=y.substr(-t),C=new n.util.ByteBuffer;return C.fillWithByte(0,8),C.putBytes(e),C.putBytes(v),r.start(),r.update(C.getBytes()),p===r.digest().getBytes()}};return u}},function(e,t,r){"use strict";var n=r(3);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var s;if(r)s=r(t);else if(n.isURLSearchParams(t))s=t.toString();else{var a=[];n.forEach(t,(function(e,t){null!=e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,(function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),a.push(i(t)+"="+i(e))})))})),s=a.join("&")}if(s){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}},function(e,t,r){"use strict";var n=r(82);e.exports=function(e,t,r,i,s){var a=new Error(e);return n(a,t,r,i,s)}},function(e,t){e.exports=require("querystring")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GaxiosError=void 0;class n extends Error{constructor(e,t,r){super(e),this.response=r,this.config=t,this.code=r.status.toString()}}t.GaxiosError=n},function(e,t){e.exports=require("assert")},function(e,t,r){"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?e.exports=r(107):e.exports=r(108)},function(e,t,r){e.exports=function(e){function t(e){let r,i=null;function s(...e){if(!s.enabled)return;const n=s,i=Number(new Date),a=i-(r||i);n.diff=a,n.prev=r,n.curr=i,r=i,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let o=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(r,i)=>{if("%%"===r)return"%";o++;const s=t.formatters[i];if("function"==typeof s){const t=e[o];r=s.call(n,t),e.splice(o,1),o--}return r}),t.formatArgs.call(n,e);(n.log||t.log).apply(n,e)}return s.namespace=e,s.useColors=t.useColors(),s.color=t.selectColor(e),s.extend=n,s.destroy=t.destroy,Object.defineProperty(s,"enabled",{enumerable:!0,configurable:!1,get:()=>null===i?t.enabled(e):i,set:e=>{i=e}}),"function"==typeof t.init&&t.init(s),s}function n(e,r){const n=t(this.namespace+(void 0===r?":":r)+e);return n.log=this.log,n}function i(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},t.disable=function(){const e=[...t.names.map(i),...t.skips.map(i).map(e=>"-"+e)].join(",");return t.enable(""),e},t.enable=function(e){let r;t.save(e),t.names=[],t.skips=[];const n=("string"==typeof e?e:"").split(/[\s,]+/),i=n.length;for(r=0;r<i;r++)n[r]&&("-"===(e=n[r].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r(29),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach(r=>{t[r]=e[r]}),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let r=0;for(let t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}},function(e,t){e.exports=require("os")},function(e,t){e.exports=require("events")},function(e,t,r){e.exports=function(e){function t(e){let r,i=null;function s(...e){if(!s.enabled)return;const n=s,i=Number(new Date),a=i-(r||i);n.diff=a,n.prev=r,n.curr=i,r=i,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let o=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(r,i)=>{if("%%"===r)return"%";o++;const s=t.formatters[i];if("function"==typeof s){const t=e[o];r=s.call(n,t),e.splice(o,1),o--}return r}),t.formatArgs.call(n,e);(n.log||t.log).apply(n,e)}return s.namespace=e,s.useColors=t.useColors(),s.color=t.selectColor(e),s.extend=n,s.destroy=t.destroy,Object.defineProperty(s,"enabled",{enumerable:!0,configurable:!1,get:()=>null===i?t.enabled(e):i,set:e=>{i=e}}),"function"==typeof t.init&&t.init(s),s}function n(e,r){const n=t(this.namespace+(void 0===r?":":r)+e);return n.log=this.log,n}function i(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},t.disable=function(){const e=[...t.names.map(i),...t.skips.map(i).map(e=>"-"+e)].join(",");return t.enable(""),e},t.enable=function(e){let r;t.save(e),t.names=[],t.skips=[];const n=("string"==typeof e?e:"").split(/[\s,]+/),i=n.length;for(r=0;r<i;r++)n[r]&&("-"===(e=n[r].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r(29),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach(r=>{t[r]=e[r]}),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let r=0;for(let t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}},function(e,t,r){"use strict";r.r(t),r.d(t,"BigNumber",(function(){return v}));var n=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,i=Math.ceil,s=Math.floor,a="[BigNumber Error] ",o=a+"Number primitive has more than 15 significant digits: ",u=1e14,c=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],l=1e9;function f(e){var t=0|e;return e>0||e===t?t:t-1}function h(e){for(var t,r,n=1,i=e.length,s=e[0]+"";n<i;){for(r=14-(t=e[n++]+"").length;r--;t="0"+t);s+=t}for(i=s.length;48===s.charCodeAt(--i););return s.slice(0,i+1||1)}function p(e,t){var r,n,i=e.c,s=t.c,a=e.s,o=t.s,u=e.e,c=t.e;if(!a||!o)return null;if(r=i&&!i[0],n=s&&!s[0],r||n)return r?n?0:-o:a;if(a!=o)return a;if(r=a<0,n=u==c,!i||!s)return n?0:!i^r?1:-1;if(!n)return u>c^r?1:-1;for(o=(u=i.length)<(c=s.length)?u:c,a=0;a<o;a++)if(i[a]!=s[a])return i[a]>s[a]^r?1:-1;return u==c?0:u>c^r?1:-1}function d(e,t,r,n){if(e<t||e>r||e!==s(e))throw Error(a+(n||"Argument")+("number"==typeof e?e<t||e>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function g(e){var t=e.c.length-1;return f(e.e/14)==t&&e.c[t]%2!=0}function y(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function m(e,t,r){var n,i;if(t<0){for(i=r+".";++t;i+=r);e=i+e}else if(++t>(n=e.length)){for(i=r,t-=n;--t;i+=r);e+=i}else t<n&&(e=e.slice(0,t)+"."+e.slice(t));return e}var v=function e(t){var r,v,C,E,b,S,w,_,T,A=F.prototype={constructor:F,toString:null,valueOf:null},I=new F(1),B=20,k=4,R=-7,N=21,O=-1e7,x=1e7,L=!1,D=1,P=0,U={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},j="0123456789abcdefghijklmnopqrstuvwxyz";function F(e,t){var r,i,a,u,c,l,f,h,p=this;if(!(p instanceof F))return new F(e,t);if(null==t){if(e&&!0===e._isBigNumber)return p.s=e.s,void(!e.c||e.e>x?p.c=p.e=null:e.e<O?p.c=[p.e=0]:(p.e=e.e,p.c=e.c.slice()));if((l="number"==typeof e)&&0*e==0){if(p.s=1/e<0?(e=-e,-1):1,e===~~e){for(u=0,c=e;c>=10;c/=10,u++);return void(u>x?p.c=p.e=null:(p.e=u,p.c=[e]))}h=String(e)}else{if(!n.test(h=String(e)))return C(p,h,l);p.s=45==h.charCodeAt(0)?(h=h.slice(1),-1):1}(u=h.indexOf("."))>-1&&(h=h.replace(".","")),(c=h.search(/e/i))>0?(u<0&&(u=c),u+=+h.slice(c+1),h=h.substring(0,c)):u<0&&(u=h.length)}else{if(d(t,2,j.length,"Base"),10==t)return q(p=new F(e),B+p.e+1,k);if(h=String(e),l="number"==typeof e){if(0*e!=0)return C(p,h,l,t);if(p.s=1/e<0?(h=h.slice(1),-1):1,F.DEBUG&&h.replace(/^0\.0*|\./,"").length>15)throw Error(o+e)}else p.s=45===h.charCodeAt(0)?(h=h.slice(1),-1):1;for(r=j.slice(0,t),u=c=0,f=h.length;c<f;c++)if(r.indexOf(i=h.charAt(c))<0){if("."==i){if(c>u){u=f;continue}}else if(!a&&(h==h.toUpperCase()&&(h=h.toLowerCase())||h==h.toLowerCase()&&(h=h.toUpperCase()))){a=!0,c=-1,u=0;continue}return C(p,String(e),l,t)}l=!1,(u=(h=v(h,t,10,p.s)).indexOf("."))>-1?h=h.replace(".",""):u=h.length}for(c=0;48===h.charCodeAt(c);c++);for(f=h.length;48===h.charCodeAt(--f););if(h=h.slice(c,++f)){if(f-=c,l&&F.DEBUG&&f>15&&(e>9007199254740991||e!==s(e)))throw Error(o+p.s*e);if((u=u-c-1)>x)p.c=p.e=null;else if(u<O)p.c=[p.e=0];else{if(p.e=u,p.c=[],c=(u+1)%14,u<0&&(c+=14),c<f){for(c&&p.c.push(+h.slice(0,c)),f-=14;c<f;)p.c.push(+h.slice(c,c+=14));c=14-(h=h.slice(c)).length}else c-=f;for(;c--;h+="0");p.c.push(+h)}}else p.c=[p.e=0]}function V(e,t,r,n){var i,s,a,o,u;if(null==r?r=k:d(r,0,8),!e.c)return e.toString();if(i=e.c[0],a=e.e,null==t)u=h(e.c),u=1==n||2==n&&(a<=R||a>=N)?y(u,a):m(u,a,"0");else if(s=(e=q(new F(e),t,r)).e,o=(u=h(e.c)).length,1==n||2==n&&(t<=s||s<=R)){for(;o<t;u+="0",o++);u=y(u,s)}else if(t-=a,u=m(u,s,"0"),s+1>o){if(--t>0)for(u+=".";t--;u+="0");}else if((t+=s-o)>0)for(s+1==o&&(u+=".");t--;u+="0");return e.s<0&&i?"-"+u:u}function M(e,t){for(var r,n=1,i=new F(e[0]);n<e.length;n++){if(!(r=new F(e[n])).s){i=r;break}t.call(i,r)&&(i=r)}return i}function K(e,t,r){for(var n=1,i=t.length;!t[--i];t.pop());for(i=t[0];i>=10;i/=10,n++);return(r=n+14*r-1)>x?e.c=e.e=null:r<O?e.c=[e.e=0]:(e.e=r,e.c=t),e}function q(e,t,r,n){var a,o,l,f,h,p,d,g=e.c,y=c;if(g){e:{for(a=1,f=g[0];f>=10;f/=10,a++);if((o=t-a)<0)o+=14,l=t,d=(h=g[p=0])/y[a-l-1]%10|0;else if((p=i((o+1)/14))>=g.length){if(!n)break e;for(;g.length<=p;g.push(0));h=d=0,a=1,l=(o%=14)-14+1}else{for(h=f=g[p],a=1;f>=10;f/=10,a++);d=(l=(o%=14)-14+a)<0?0:h/y[a-l-1]%10|0}if(n=n||t<0||null!=g[p+1]||(l<0?h:h%y[a-l-1]),n=r<4?(d||n)&&(0==r||r==(e.s<0?3:2)):d>5||5==d&&(4==r||n||6==r&&(o>0?l>0?h/y[a-l]:0:g[p-1])%10&1||r==(e.s<0?8:7)),t<1||!g[0])return g.length=0,n?(t-=e.e+1,g[0]=y[(14-t%14)%14],e.e=-t||0):g[0]=e.e=0,e;if(0==o?(g.length=p,f=1,p--):(g.length=p+1,f=y[14-o],g[p]=l>0?s(h/y[a-l]%y[l])*f:0),n)for(;;){if(0==p){for(o=1,l=g[0];l>=10;l/=10,o++);for(l=g[0]+=f,f=1;l>=10;l/=10,f++);o!=f&&(e.e++,g[0]==u&&(g[0]=1));break}if(g[p]+=f,g[p]!=u)break;g[p--]=0,f=1}for(o=g.length;0===g[--o];g.pop());}e.e>x?e.c=e.e=null:e.e<O&&(e.c=[e.e=0])}return e}function G(e){var t,r=e.e;return null===r?e.toString():(t=h(e.c),t=r<=R||r>=N?y(t,r):m(t,r,"0"),e.s<0?"-"+t:t)}return F.clone=e,F.ROUND_UP=0,F.ROUND_DOWN=1,F.ROUND_CEIL=2,F.ROUND_FLOOR=3,F.ROUND_HALF_UP=4,F.ROUND_HALF_DOWN=5,F.ROUND_HALF_EVEN=6,F.ROUND_HALF_CEIL=7,F.ROUND_HALF_FLOOR=8,F.EUCLID=9,F.config=F.set=function(e){var t,r;if(null!=e){if("object"!=typeof e)throw Error(a+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(d(r=e[t],0,l,t),B=r),e.hasOwnProperty(t="ROUNDING_MODE")&&(d(r=e[t],0,8,t),k=r),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((r=e[t])&&r.pop?(d(r[0],-l,0,t),d(r[1],0,l,t),R=r[0],N=r[1]):(d(r,-l,l,t),R=-(N=r<0?-r:r))),e.hasOwnProperty(t="RANGE"))if((r=e[t])&&r.pop)d(r[0],-l,-1,t),d(r[1],1,l,t),O=r[0],x=r[1];else{if(d(r,-l,l,t),!r)throw Error(a+t+" cannot be zero: "+r);O=-(x=r<0?-r:r)}if(e.hasOwnProperty(t="CRYPTO")){if((r=e[t])!==!!r)throw Error(a+t+" not true or false: "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw L=!r,Error(a+"crypto unavailable");L=r}else L=r}if(e.hasOwnProperty(t="MODULO_MODE")&&(d(r=e[t],0,9,t),D=r),e.hasOwnProperty(t="POW_PRECISION")&&(d(r=e[t],0,l,t),P=r),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(r=e[t]))throw Error(a+t+" not an object: "+r);U=r}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(r=e[t])||/^.$|[+-.\s]|(.).*\1/.test(r))throw Error(a+t+" invalid: "+r);j=r}}return{DECIMAL_PLACES:B,ROUNDING_MODE:k,EXPONENTIAL_AT:[R,N],RANGE:[O,x],CRYPTO:L,MODULO_MODE:D,POW_PRECISION:P,FORMAT:U,ALPHABET:j}},F.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!F.DEBUG)return!0;var t,r,n=e.c,i=e.e,o=e.s;e:if("[object Array]"=={}.toString.call(n)){if((1===o||-1===o)&&i>=-l&&i<=l&&i===s(i)){if(0===n[0]){if(0===i&&1===n.length)return!0;break e}if((t=(i+1)%14)<1&&(t+=14),String(n[0]).length==t){for(t=0;t<n.length;t++)if((r=n[t])<0||r>=u||r!==s(r))break e;if(0!==r)return!0}}}else if(null===n&&null===i&&(null===o||1===o||-1===o))return!0;throw Error(a+"Invalid BigNumber: "+e)},F.maximum=F.max=function(){return M(arguments,A.lt)},F.minimum=F.min=function(){return M(arguments,A.gt)},F.random=(E=9007199254740992*Math.random()&2097151?function(){return s(9007199254740992*Math.random())}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,r,n,o,u,f=0,h=[],p=new F(I);if(null==e?e=B:d(e,0,l),o=i(e/14),L)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(o*=2));f<o;)(u=131072*t[f]+(t[f+1]>>>11))>=9e15?(r=crypto.getRandomValues(new Uint32Array(2)),t[f]=r[0],t[f+1]=r[1]):(h.push(u%1e14),f+=2);f=o/2}else{if(!crypto.randomBytes)throw L=!1,Error(a+"crypto unavailable");for(t=crypto.randomBytes(o*=7);f<o;)(u=281474976710656*(31&t[f])+1099511627776*t[f+1]+4294967296*t[f+2]+16777216*t[f+3]+(t[f+4]<<16)+(t[f+5]<<8)+t[f+6])>=9e15?crypto.randomBytes(7).copy(t,f):(h.push(u%1e14),f+=7);f=o/7}if(!L)for(;f<o;)(u=E())<9e15&&(h[f++]=u%1e14);for(e%=14,(o=h[--f])&&e&&(u=c[14-e],h[f]=s(o/u)*u);0===h[f];h.pop(),f--);if(f<0)h=[n=0];else{for(n=-1;0===h[0];h.splice(0,1),n-=14);for(f=1,u=h[0];u>=10;u/=10,f++);f<14&&(n-=14-f)}return p.e=n,p.c=h,p}),F.sum=function(){for(var e=1,t=arguments,r=new F(t[0]);e<t.length;)r=r.plus(t[e++]);return r},v=function(){function e(e,t,r,n){for(var i,s,a=[0],o=0,u=e.length;o<u;){for(s=a.length;s--;a[s]*=t);for(a[0]+=n.indexOf(e.charAt(o++)),i=0;i<a.length;i++)a[i]>r-1&&(null==a[i+1]&&(a[i+1]=0),a[i+1]+=a[i]/r|0,a[i]%=r)}return a.reverse()}return function(t,n,i,s,a){var o,u,c,l,f,p,d,g,y=t.indexOf("."),v=B,C=k;for(y>=0&&(l=P,P=0,t=t.replace(".",""),p=(g=new F(n)).pow(t.length-y),P=l,g.c=e(m(h(p.c),p.e,"0"),10,i,"0123456789"),g.e=g.c.length),c=l=(d=e(t,n,i,a?(o=j,"0123456789"):(o="0123456789",j))).length;0==d[--l];d.pop());if(!d[0])return o.charAt(0);if(y<0?--c:(p.c=d,p.e=c,p.s=s,d=(p=r(p,g,v,C,i)).c,f=p.r,c=p.e),y=d[u=c+v+1],l=i/2,f=f||u<0||null!=d[u+1],f=C<4?(null!=y||f)&&(0==C||C==(p.s<0?3:2)):y>l||y==l&&(4==C||f||6==C&&1&d[u-1]||C==(p.s<0?8:7)),u<1||!d[0])t=f?m(o.charAt(1),-v,o.charAt(0)):o.charAt(0);else{if(d.length=u,f)for(--i;++d[--u]>i;)d[u]=0,u||(++c,d=[1].concat(d));for(l=d.length;!d[--l];);for(y=0,t="";y<=l;t+=o.charAt(d[y++]));t=m(t,c,o.charAt(0))}return t}}(),r=function(){function e(e,t,r){var n,i,s,a,o=0,u=e.length,c=t%1e7,l=t/1e7|0;for(e=e.slice();u--;)o=((i=c*(s=e[u]%1e7)+(n=l*s+(a=e[u]/1e7|0)*c)%1e7*1e7+o)/r|0)+(n/1e7|0)+l*a,e[u]=i%r;return o&&(e=[o].concat(e)),e}function t(e,t,r,n){var i,s;if(r!=n)s=r>n?1:-1;else for(i=s=0;i<r;i++)if(e[i]!=t[i]){s=e[i]>t[i]?1:-1;break}return s}function r(e,t,r,n){for(var i=0;r--;)e[r]-=i,i=e[r]<t[r]?1:0,e[r]=i*n+e[r]-t[r];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(n,i,a,o,c){var l,h,p,d,g,y,m,v,C,E,b,S,w,_,T,A,I,B=n.s==i.s?1:-1,k=n.c,R=i.c;if(!(k&&k[0]&&R&&R[0]))return new F(n.s&&i.s&&(k?!R||k[0]!=R[0]:R)?k&&0==k[0]||!R?0*B:B/0:NaN);for(C=(v=new F(B)).c=[],B=a+(h=n.e-i.e)+1,c||(c=u,h=f(n.e/14)-f(i.e/14),B=B/14|0),p=0;R[p]==(k[p]||0);p++);if(R[p]>(k[p]||0)&&h--,B<0)C.push(1),d=!0;else{for(_=k.length,A=R.length,p=0,B+=2,(g=s(c/(R[0]+1)))>1&&(R=e(R,g,c),k=e(k,g,c),A=R.length,_=k.length),w=A,b=(E=k.slice(0,A)).length;b<A;E[b++]=0);I=R.slice(),I=[0].concat(I),T=R[0],R[1]>=c/2&&T++;do{if(g=0,(l=t(R,E,A,b))<0){if(S=E[0],A!=b&&(S=S*c+(E[1]||0)),(g=s(S/T))>1)for(g>=c&&(g=c-1),m=(y=e(R,g,c)).length,b=E.length;1==t(y,E,m,b);)g--,r(y,A<m?I:R,m,c),m=y.length,l=1;else 0==g&&(l=g=1),m=(y=R.slice()).length;if(m<b&&(y=[0].concat(y)),r(E,y,b,c),b=E.length,-1==l)for(;t(R,E,A,b)<1;)g++,r(E,A<b?I:R,b,c),b=E.length}else 0===l&&(g++,E=[0]);C[p++]=g,E[0]?E[b++]=k[w]||0:(E=[k[w]],b=1)}while((w++<_||null!=E[0])&&B--);d=null!=E[0],C[0]||C.splice(0,1)}if(c==u){for(p=1,B=C[0];B>=10;B/=10,p++);q(v,a+(v.e=p+14*h-1)+1,o,d)}else v.e=h,v.r=+d;return v}}(),b=/^(-?)0([xbo])(?=\w[\w.]*$)/i,S=/^([^.]+)\.$/,w=/^\.([^.]+)$/,_=/^-?(Infinity|NaN)$/,T=/^\s*\+(?=[\w.])|^\s+|\s+$/g,C=function(e,t,r,n){var i,s=r?t:t.replace(T,"");if(_.test(s))e.s=isNaN(s)?null:s<0?-1:1;else{if(!r&&(s=s.replace(b,(function(e,t,r){return i="x"==(r=r.toLowerCase())?16:"b"==r?2:8,n&&n!=i?e:t})),n&&(i=n,s=s.replace(S,"$1").replace(w,"0.$1")),t!=s))return new F(s,i);if(F.DEBUG)throw Error(a+"Not a"+(n?" base "+n:"")+" number: "+t);e.s=null}e.c=e.e=null},A.absoluteValue=A.abs=function(){var e=new F(this);return e.s<0&&(e.s=1),e},A.comparedTo=function(e,t){return p(this,new F(e,t))},A.decimalPlaces=A.dp=function(e,t){var r,n,i,s=this;if(null!=e)return d(e,0,l),null==t?t=k:d(t,0,8),q(new F(s),e+s.e+1,t);if(!(r=s.c))return null;if(n=14*((i=r.length-1)-f(this.e/14)),i=r[i])for(;i%10==0;i/=10,n--);return n<0&&(n=0),n},A.dividedBy=A.div=function(e,t){return r(this,new F(e,t),B,k)},A.dividedToIntegerBy=A.idiv=function(e,t){return r(this,new F(e,t),0,1)},A.exponentiatedBy=A.pow=function(e,t){var r,n,o,u,c,l,f,h,p=this;if((e=new F(e)).c&&!e.isInteger())throw Error(a+"Exponent not an integer: "+G(e));if(null!=t&&(t=new F(t)),c=e.e>14,!p.c||!p.c[0]||1==p.c[0]&&!p.e&&1==p.c.length||!e.c||!e.c[0])return h=new F(Math.pow(+G(p),c?2-g(e):+G(e))),t?h.mod(t):h;if(l=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new F(NaN);(n=!l&&p.isInteger()&&t.isInteger())&&(p=p.mod(t))}else{if(e.e>9&&(p.e>0||p.e<-1||(0==p.e?p.c[0]>1||c&&p.c[1]>=24e7:p.c[0]<8e13||c&&p.c[0]<=9999975e7)))return u=p.s<0&&g(e)?-0:0,p.e>-1&&(u=1/u),new F(l?1/u:u);P&&(u=i(P/14+2))}for(c?(r=new F(.5),l&&(e.s=1),f=g(e)):f=(o=Math.abs(+G(e)))%2,h=new F(I);;){if(f){if(!(h=h.times(p)).c)break;u?h.c.length>u&&(h.c.length=u):n&&(h=h.mod(t))}if(o){if(0===(o=s(o/2)))break;f=o%2}else if(q(e=e.times(r),e.e+1,1),e.e>14)f=g(e);else{if(0===(o=+G(e)))break;f=o%2}p=p.times(p),u?p.c&&p.c.length>u&&(p.c.length=u):n&&(p=p.mod(t))}return n?h:(l&&(h=I.div(h)),t?h.mod(t):u?q(h,P,k,void 0):h)},A.integerValue=function(e){var t=new F(this);return null==e?e=k:d(e,0,8),q(t,t.e+1,e)},A.isEqualTo=A.eq=function(e,t){return 0===p(this,new F(e,t))},A.isFinite=function(){return!!this.c},A.isGreaterThan=A.gt=function(e,t){return p(this,new F(e,t))>0},A.isGreaterThanOrEqualTo=A.gte=function(e,t){return 1===(t=p(this,new F(e,t)))||0===t},A.isInteger=function(){return!!this.c&&f(this.e/14)>this.c.length-2},A.isLessThan=A.lt=function(e,t){return p(this,new F(e,t))<0},A.isLessThanOrEqualTo=A.lte=function(e,t){return-1===(t=p(this,new F(e,t)))||0===t},A.isNaN=function(){return!this.s},A.isNegative=function(){return this.s<0},A.isPositive=function(){return this.s>0},A.isZero=function(){return!!this.c&&0==this.c[0]},A.minus=function(e,t){var r,n,i,s,a=this,o=a.s;if(t=(e=new F(e,t)).s,!o||!t)return new F(NaN);if(o!=t)return e.s=-t,a.plus(e);var c=a.e/14,l=e.e/14,h=a.c,p=e.c;if(!c||!l){if(!h||!p)return h?(e.s=-t,e):new F(p?a:NaN);if(!h[0]||!p[0])return p[0]?(e.s=-t,e):new F(h[0]?a:3==k?-0:0)}if(c=f(c),l=f(l),h=h.slice(),o=c-l){for((s=o<0)?(o=-o,i=h):(l=c,i=p),i.reverse(),t=o;t--;i.push(0));i.reverse()}else for(n=(s=(o=h.length)<(t=p.length))?o:t,o=t=0;t<n;t++)if(h[t]!=p[t]){s=h[t]<p[t];break}if(s&&(i=h,h=p,p=i,e.s=-e.s),(t=(n=p.length)-(r=h.length))>0)for(;t--;h[r++]=0);for(t=u-1;n>o;){if(h[--n]<p[n]){for(r=n;r&&!h[--r];h[r]=t);--h[r],h[n]+=u}h[n]-=p[n]}for(;0==h[0];h.splice(0,1),--l);return h[0]?K(e,h,l):(e.s=3==k?-1:1,e.c=[e.e=0],e)},A.modulo=A.mod=function(e,t){var n,i,s=this;return e=new F(e,t),!s.c||!e.s||e.c&&!e.c[0]?new F(NaN):!e.c||s.c&&!s.c[0]?new F(s):(9==D?(i=e.s,e.s=1,n=r(s,e,0,3),e.s=i,n.s*=i):n=r(s,e,0,D),(e=s.minus(n.times(e))).c[0]||1!=D||(e.s=s.s),e)},A.multipliedBy=A.times=function(e,t){var r,n,i,s,a,o,c,l,h,p,d,g,y,m,v=this,C=v.c,E=(e=new F(e,t)).c;if(!(C&&E&&C[0]&&E[0]))return!v.s||!e.s||C&&!C[0]&&!E||E&&!E[0]&&!C?e.c=e.e=e.s=null:(e.s*=v.s,C&&E?(e.c=[0],e.e=0):e.c=e.e=null),e;for(n=f(v.e/14)+f(e.e/14),e.s*=v.s,(c=C.length)<(p=E.length)&&(y=C,C=E,E=y,i=c,c=p,p=i),i=c+p,y=[];i--;y.push(0));for(m=u,1e7,i=p;--i>=0;){for(r=0,d=E[i]%1e7,g=E[i]/1e7|0,s=i+(a=c);s>i;)r=((l=d*(l=C[--a]%1e7)+(o=g*l+(h=C[a]/1e7|0)*d)%1e7*1e7+y[s]+r)/m|0)+(o/1e7|0)+g*h,y[s--]=l%m;y[s]=r}return r?++n:y.splice(0,1),K(e,y,n)},A.negated=function(){var e=new F(this);return e.s=-e.s||null,e},A.plus=function(e,t){var r,n=this,i=n.s;if(t=(e=new F(e,t)).s,!i||!t)return new F(NaN);if(i!=t)return e.s=-t,n.minus(e);var s=n.e/14,a=e.e/14,o=n.c,c=e.c;if(!s||!a){if(!o||!c)return new F(i/0);if(!o[0]||!c[0])return c[0]?e:new F(o[0]?n:0*i)}if(s=f(s),a=f(a),o=o.slice(),i=s-a){for(i>0?(a=s,r=c):(i=-i,r=o),r.reverse();i--;r.push(0));r.reverse()}for((i=o.length)-(t=c.length)<0&&(r=c,c=o,o=r,t=i),i=0;t;)i=(o[--t]=o[t]+c[t]+i)/u|0,o[t]=u===o[t]?0:o[t]%u;return i&&(o=[i].concat(o),++a),K(e,o,a)},A.precision=A.sd=function(e,t){var r,n,i,s=this;if(null!=e&&e!==!!e)return d(e,1,l),null==t?t=k:d(t,0,8),q(new F(s),e,t);if(!(r=s.c))return null;if(n=14*(i=r.length-1)+1,i=r[i]){for(;i%10==0;i/=10,n--);for(i=r[0];i>=10;i/=10,n++);}return e&&s.e+1>n&&(n=s.e+1),n},A.shiftedBy=function(e){return d(e,-9007199254740991,9007199254740991),this.times("1e"+e)},A.squareRoot=A.sqrt=function(){var e,t,n,i,s,a=this,o=a.c,u=a.s,c=a.e,l=B+4,p=new F("0.5");if(1!==u||!o||!o[0])return new F(!u||u<0&&(!o||o[0])?NaN:o?a:1/0);if(0==(u=Math.sqrt(+G(a)))||u==1/0?(((t=h(o)).length+c)%2==0&&(t+="0"),u=Math.sqrt(+t),c=f((c+1)/2)-(c<0||c%2),n=new F(t=u==1/0?"5e"+c:(t=u.toExponential()).slice(0,t.indexOf("e")+1)+c)):n=new F(u+""),n.c[0])for((u=(c=n.e)+l)<3&&(u=0);;)if(s=n,n=p.times(s.plus(r(a,s,l,1))),h(s.c).slice(0,u)===(t=h(n.c)).slice(0,u)){if(n.e<c&&--u,"9999"!=(t=t.slice(u-3,u+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(q(n,n.e+B+2,1),e=!n.times(n).eq(a));break}if(!i&&(q(s,s.e+B+2,0),s.times(s).eq(a))){n=s;break}l+=4,u+=4,i=1}return q(n,n.e+B+1,k,e)},A.toExponential=function(e,t){return null!=e&&(d(e,0,l),e++),V(this,e,t,1)},A.toFixed=function(e,t){return null!=e&&(d(e,0,l),e=e+this.e+1),V(this,e,t)},A.toFormat=function(e,t,r){var n,i=this;if(null==r)null!=e&&t&&"object"==typeof t?(r=t,t=null):e&&"object"==typeof e?(r=e,e=t=null):r=U;else if("object"!=typeof r)throw Error(a+"Argument not an object: "+r);if(n=i.toFixed(e,t),i.c){var s,o=n.split("."),u=+r.groupSize,c=+r.secondaryGroupSize,l=r.groupSeparator||"",f=o[0],h=o[1],p=i.s<0,d=p?f.slice(1):f,g=d.length;if(c&&(s=u,u=c,c=s,g-=s),u>0&&g>0){for(s=g%u||u,f=d.substr(0,s);s<g;s+=u)f+=l+d.substr(s,u);c>0&&(f+=l+d.slice(s)),p&&(f="-"+f)}n=h?f+(r.decimalSeparator||"")+((c=+r.fractionGroupSize)?h.replace(new RegExp("\\d{"+c+"}\\B","g"),"$&"+(r.fractionGroupSeparator||"")):h):f}return(r.prefix||"")+n+(r.suffix||"")},A.toFraction=function(e){var t,n,i,s,o,u,l,f,p,d,g,y,m=this,v=m.c;if(null!=e&&(!(l=new F(e)).isInteger()&&(l.c||1!==l.s)||l.lt(I)))throw Error(a+"Argument "+(l.isInteger()?"out of range: ":"not an integer: ")+G(l));if(!v)return new F(m);for(t=new F(I),p=n=new F(I),i=f=new F(I),y=h(v),o=t.e=y.length-m.e-1,t.c[0]=c[(u=o%14)<0?14+u:u],e=!e||l.comparedTo(t)>0?o>0?t:p:l,u=x,x=1/0,l=new F(y),f.c[0]=0;d=r(l,t,0,1),1!=(s=n.plus(d.times(i))).comparedTo(e);)n=i,i=s,p=f.plus(d.times(s=p)),f=s,t=l.minus(d.times(s=t)),l=s;return s=r(e.minus(n),i,0,1),f=f.plus(s.times(p)),n=n.plus(s.times(i)),f.s=p.s=m.s,g=r(p,i,o*=2,k).minus(m).abs().comparedTo(r(f,n,o,k).minus(m).abs())<1?[p,i]:[f,n],x=u,g},A.toNumber=function(){return+G(this)},A.toPrecision=function(e,t){return null!=e&&d(e,1,l),V(this,e,t,2)},A.toString=function(e){var t,r=this,n=r.s,i=r.e;return null===i?n?(t="Infinity",n<0&&(t="-"+t)):t="NaN":(null==e?t=i<=R||i>=N?y(h(r.c),i):m(h(r.c),i,"0"):10===e?t=m(h((r=q(new F(r),B+i+1,k)).c),r.e,"0"):(d(e,2,j.length,"Base"),t=v(m(h(r.c),i,"0"),10,e,n,!0)),n<0&&r.c[0]&&(t="-"+t)),t},A.valueOf=A.toJSON=function(){return G(this)},A._isBigNumber=!0,A[Symbol.toStringTag]="BigNumber",A[Symbol.for("nodejs.util.inspect.custom")]=A.valueOf,null!=t&&F.set(t),F}();t.default=v},function(e,t){e.exports=require("path")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasBrowserCrypto=t.createCrypto=void 0;const n=r(119),i=r(122);function s(){return"undefined"!=typeof window&&void 0!==window.crypto&&void 0!==window.crypto.subtle}t.createCrypto=function(){return s()?new n.BrowserCrypto:new i.NodeCrypto},t.hasBrowserCrypto=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Compute=void 0;const n=r(125),i=r(27),s=r(14);class a extends s.OAuth2Client{constructor(e={}){super(e),this.credentials={expiry_date:1,refresh_token:"compute-placeholder"},this.serviceAccountEmail=e.serviceAccountEmail||"default",this.scopes=n(e.scopes)}async refreshTokenNoCache(e){const t=`service-accounts/${this.serviceAccountEmail}/token`;let r;try{const e={property:t};this.scopes.length>0&&(e.params={scopes:this.scopes.join(",")}),r=await i.instance(e)}catch(e){throw e.message="Could not refresh access token: "+e.message,this.wrapError(e),e}const n=r;return r&&r.expires_in&&(n.expiry_date=(new Date).getTime()+1e3*r.expires_in,delete n.expires_in),this.emit("tokens",n),{tokens:n,res:null}}async fetchIdToken(e){const t=`service-accounts/${this.serviceAccountEmail}/identity?format=full&audience=`+e;let r;try{const e={property:t};r=await i.instance(e)}catch(e){throw e.message="Could not fetch ID token: "+e.message,e}return r}wrapError(e){const t=e.response;t&&t.status&&(e.code=t.status.toString(),403===t.status?e.message="A Forbidden error was returned while attempting to retrieve an access token for the Compute Engine built-in service account. This may be because the Compute Engine instance does not have the correct permission scopes specified: "+e.message:404===t.status&&(e.message="A Not Found error was returned while attempting to retrieve an accesstoken for the Compute Engine built-in service account. This may be because the Compute Engine instance does not have any permission scopes specified: "+e.message))}}t.Compute=a},function(e,t,r){"use strict";var n=r(15).Buffer,i=r(126);function s(e){if(n.isBuffer(e))return e;if("string"==typeof e)return n.from(e,"base64");throw new TypeError("ECDSA signature must be a Base64 string or a Buffer")}function a(e,t,r){for(var n=0;t+n<r&&0===e[t+n];)++n;return e[t+n]>=128&&--n,n}e.exports={derToJose:function(e,t){e=s(e);var r=i(t),a=r+1,o=e.length,u=0;if(48!==e[u++])throw new Error('Could not find expected "seq"');var c=e[u++];if(129===c&&(c=e[u++]),o-u<c)throw new Error('"seq" specified length of "'+c+'", only "'+(o-u)+'" remaining');if(2!==e[u++])throw new Error('Could not find expected "int" for "r"');var l=e[u++];if(o-u-2<l)throw new Error('"r" specified length of "'+l+'", only "'+(o-u-2)+'" available');if(a<l)throw new Error('"r" specified length of "'+l+'", max of "'+a+'" is acceptable');var f=u;if(u+=l,2!==e[u++])throw new Error('Could not find expected "int" for "s"');var h=e[u++];if(o-u!==h)throw new Error('"s" specified length of "'+h+'", expected "'+(o-u)+'"');if(a<h)throw new Error('"s" specified length of "'+h+'", max of "'+a+'" is acceptable');var p=u;if((u+=h)!==o)throw new Error('Expected to consume entire buffer, but "'+(o-u)+'" bytes remain');var d=r-l,g=r-h,y=n.allocUnsafe(d+l+g+h);for(u=0;u<d;++u)y[u]=0;e.copy(y,u,f+Math.max(-d,0),f+l);for(var m=u=r;u<m+g;++u)y[u]=0;return e.copy(y,u,p+Math.max(-g,0),p+h),y=(y=y.toString("base64")).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},joseToDer:function(e,t){e=s(e);var r=i(t),o=e.length;if(o!==2*r)throw new TypeError('"'+t+'" signatures must be "'+2*r+'" bytes, saw "'+o+'"');var u=a(e,0,r),c=a(e,r,e.length),l=r-u,f=r-c,h=2+l+1+1+f,p=h<128,d=n.allocUnsafe((p?2:3)+h),g=0;return d[g++]=48,p?d[g++]=h:(d[g++]=129,d[g++]=255&h),d[g++]=2,d[g++]=l,u<0?(d[g++]=0,g+=e.copy(d,g,0,r)):g+=e.copy(d,g,u,r),d[g++]=2,d[g++]=f,c<0?(d[g++]=0,e.copy(d,g,r)):e.copy(d,g,r+c),d}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoginTicket=void 0;t.LoginTicket=class{constructor(e,t){this.envelope=e,this.payload=t}getEnvelope(){return this.envelope}getPayload(){return this.payload}getUserId(){const e=this.getPayload();return e&&e.sub?e.sub:null}getAttributes(){return{envelope:this.getEnvelope(),payload:this.getPayload()}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IdTokenClient=void 0;const n=r(14);class i extends n.OAuth2Client{constructor(e){super(),this.targetAudience=e.targetAudience,this.idTokenProvider=e.idTokenProvider}async getRequestMetadataAsync(e){if(!this.credentials.id_token||(this.credentials.expiry_date||0)<Date.now()){const e=await this.idTokenProvider.fetchIdToken(this.targetAudience);this.credentials={id_token:e,expiry_date:this.getIdTokenExpiryDate(e)}}return{headers:{Authorization:"Bearer "+this.credentials.id_token}}}getIdTokenExpiryDate(e){const t=e.split(".")[1];if(t){return 1e3*JSON.parse(Buffer.from(t,"base64").toString("ascii")).exp}}}t.IdTokenClient=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getEnv=t.clear=t.GCPEnv=void 0;const n=r(27);var i;let s;!function(e){e.APP_ENGINE="APP_ENGINE",e.KUBERNETES_ENGINE="KUBERNETES_ENGINE",e.CLOUD_FUNCTIONS="CLOUD_FUNCTIONS",e.COMPUTE_ENGINE="COMPUTE_ENGINE",e.NONE="NONE"}(i=t.GCPEnv||(t.GCPEnv={})),t.clear=function(){s=void 0},t.getEnv=async function(){return s||(s=async function(){let e=i.NONE;e=process.env.GAE_SERVICE||process.env.GAE_MODULE_NAME?i.APP_ENGINE:process.env.FUNCTION_NAME||process.env.FUNCTION_TARGET?i.CLOUD_FUNCTIONS:await async function(){return n.isAvailable()}()?await async function(){try{return await n.instance("attributes/cluster-name"),!0}catch(e){return!1}}()?i.KUBERNETES_ENGINE:i.COMPUTE_ENGINE:i.NONE;return e}(),s)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JWT=void 0;const n=r(128),i=r(76),s=r(14);class a extends s.OAuth2Client{constructor(e,t,r,n,i,s){const a=e&&"object"==typeof e?e:{email:e,keyFile:t,key:r,keyId:s,scopes:n,subject:i};super({eagerRefreshThresholdMillis:a.eagerRefreshThresholdMillis,forceRefreshOnFailure:a.forceRefreshOnFailure}),this.email=a.email,this.keyFile=a.keyFile,this.key=a.key,this.keyId=a.keyId,this.scopes=a.scopes,this.subject=a.subject,this.additionalClaims=a.additionalClaims,this.credentials={refresh_token:"jwt-placeholder",expiry_date:1}}createScoped(e){return new a({email:this.email,keyFile:this.keyFile,key:this.key,keyId:this.keyId,scopes:e,subject:this.subject,additionalClaims:this.additionalClaims})}async getRequestMetadataAsync(e){if(this.apiKey||this.hasUserScopes()||!e)return this.hasAnyScopes()||this.apiKey?super.getRequestMetadataAsync(e):{headers:{}};if(this.additionalClaims&&this.additionalClaims.target_audience){const{tokens:e}=await this.refreshToken();return{headers:this.addSharedMetadataHeaders({Authorization:"Bearer "+e.id_token})}}{this.access||(this.access=new i.JWTAccess(this.email,this.key,this.keyId,this.eagerRefreshThresholdMillis));const t=await this.access.getRequestHeaders(e,this.additionalClaims);return{headers:this.addSharedMetadataHeaders(t)}}}async fetchIdToken(e){const t=new n.GoogleToken({iss:this.email,sub:this.subject,scope:this.scopes||this.defaultScopes,keyFile:this.keyFile,key:this.key,additionalClaims:{target_audience:e}});if(await t.getToken({forceRefresh:!0}),!t.idToken)throw new Error("Unknown error: Failed to fetch ID token");return t.idToken}hasUserScopes(){return!!this.scopes&&this.scopes.length>0}hasAnyScopes(){return!!(this.scopes&&this.scopes.length>0)||!!(this.defaultScopes&&this.defaultScopes.length>0)}authorize(e){if(!e)return this.authorizeAsync();this.authorizeAsync().then(t=>e(null,t),e)}async authorizeAsync(){const e=await this.refreshToken();if(!e)throw new Error("No result returned");return this.credentials=e.tokens,this.credentials.refresh_token="jwt-placeholder",this.key=this.gtoken.key,this.email=this.gtoken.iss,e.tokens}async refreshTokenNoCache(e){const t=this.createGToken(),r={access_token:(await t.getToken({forceRefresh:this.isTokenExpiring()})).access_token,token_type:"Bearer",expiry_date:t.expiresAt,id_token:t.idToken};return this.emit("tokens",r),{res:null,tokens:r}}createGToken(){return this.gtoken||(this.gtoken=new n.GoogleToken({iss:this.email,sub:this.subject,scope:this.scopes||this.defaultScopes,keyFile:this.keyFile,key:this.key,additionalClaims:this.additionalClaims})),this.gtoken}fromJSON(e){if(!e)throw new Error("Must pass in a JSON object containing the service account auth settings.");if(!e.client_email)throw new Error("The incoming JSON object does not contain a client_email field");if(!e.private_key)throw new Error("The incoming JSON object does not contain a private_key field");this.email=e.client_email,this.key=e.private_key,this.keyId=e.private_key_id,this.projectId=e.project_id,this.quotaProjectId=e.quota_project_id}fromStream(e,t){if(!t)return this.fromStreamAsync(e);this.fromStreamAsync(e).then(()=>t(),t)}fromStreamAsync(e){return new Promise((t,r)=>{if(!e)throw new Error("Must pass in a stream containing the service account auth settings.");let n="";e.setEncoding("utf8").on("error",r).on("data",e=>n+=e).on("end",()=>{try{const e=JSON.parse(n);this.fromJSON(e),t()}catch(e){r(e)}})})}fromAPIKey(e){if("string"!=typeof e)throw new Error("Must provide an API Key string.");this.apiKey=e}async getCredentials(){if(this.key)return{private_key:this.key,client_email:this.email};if(this.keyFile){const e=this.createGToken(),t=await e.getCredentials(this.keyFile);return{private_key:t.privateKey,client_email:t.clientEmail}}throw new Error("A key or a keyFile must be provided to getCredentials.")}}t.JWT=a},function(e,t,r){var n=r(129),i=r(131);t.ALGORITHMS=["HS256","HS384","HS512","RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"],t.sign=n.sign,t.verify=i.verify,t.decode=i.decode,t.isValid=i.isValid,t.createSign=function(e){return new n(e)},t.createVerify=function(e){return new i(e)}},function(e,t,r){var n=r(15).Buffer,i=r(2);function s(e){if(this.buffer=null,this.writable=!0,this.readable=!0,!e)return this.buffer=n.alloc(0),this;if("function"==typeof e.pipe)return this.buffer=n.alloc(0),e.pipe(this),this;if(e.length||"object"==typeof e)return this.buffer=e,this.writable=!1,process.nextTick(function(){this.emit("end",e),this.readable=!1,this.emit("close")}.bind(this)),this;throw new TypeError("Unexpected data type ("+typeof e+")")}r(6).inherits(s,i),s.prototype.write=function(e){this.buffer=n.concat([this.buffer,n.from(e)]),this.emit("data",e)},s.prototype.end=function(e){e&&this.write(e),this.emit("end",e),this.emit("close"),this.writable=!1,this.readable=!1},e.exports=s},function(e,t,r){var n=r(130),i=r(15).Buffer,s=r(13),a=r(52),o=r(6),u="secret must be a string or buffer",c="key must be a string or a buffer",l="function"==typeof s.createPublicKey;function f(e){if(!i.isBuffer(e)&&"string"!=typeof e){if(!l)throw g(c);if("object"!=typeof e)throw g(c);if("string"!=typeof e.type)throw g(c);if("string"!=typeof e.asymmetricKeyType)throw g(c);if("function"!=typeof e.export)throw g(c)}}function h(e){if(!i.isBuffer(e)&&"string"!=typeof e&&"object"!=typeof e)throw g("key must be a string, a buffer or an object")}function p(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function d(e){var t=4-(e=e.toString()).length%4;if(4!==t)for(var r=0;r<t;++r)e+="=";return e.replace(/\-/g,"+").replace(/_/g,"/")}function g(e){var t=[].slice.call(arguments,1),r=o.format.bind(o,e).apply(null,t);return new TypeError(r)}function y(e){var t;return t=e,i.isBuffer(t)||"string"==typeof t||(e=JSON.stringify(e)),e}function m(e){return function(t,r){!function(e){if(!i.isBuffer(e)){if("string"==typeof e)return e;if(!l)throw g(u);if("object"!=typeof e)throw g(u);if("secret"!==e.type)throw g(u);if("function"!=typeof e.export)throw g(u)}}(r),t=y(t);var n=s.createHmac("sha"+e,r);return p((n.update(t),n.digest("base64")))}}function v(e){return function(t,r,s){var a=m(e)(t,s);return n(i.from(r),i.from(a))}}function C(e){return function(t,r){h(r),t=y(t);var n=s.createSign("RSA-SHA"+e);return p((n.update(t),n.sign(r,"base64")))}}function E(e){return function(t,r,n){f(n),t=y(t),r=d(r);var i=s.createVerify("RSA-SHA"+e);return i.update(t),i.verify(n,r,"base64")}}function b(e){return function(t,r){h(r),t=y(t);var n=s.createSign("RSA-SHA"+e);return p((n.update(t),n.sign({key:r,padding:s.constants.RSA_PKCS1_PSS_PADDING,saltLength:s.constants.RSA_PSS_SALTLEN_DIGEST},"base64")))}}function S(e){return function(t,r,n){f(n),t=y(t),r=d(r);var i=s.createVerify("RSA-SHA"+e);return i.update(t),i.verify({key:n,padding:s.constants.RSA_PKCS1_PSS_PADDING,saltLength:s.constants.RSA_PSS_SALTLEN_DIGEST},r,"base64")}}function w(e){var t=C(e);return function(){var r=t.apply(null,arguments);return r=a.derToJose(r,"ES"+e)}}function _(e){var t=E(e);return function(r,n,i){return n=a.joseToDer(n,"ES"+e).toString("base64"),t(r,n,i)}}function T(){return function(){return""}}function A(){return function(e,t){return""===t}}l&&(c+=" or a KeyObject",u+="or a KeyObject"),e.exports=function(e){var t={hs:m,rs:C,ps:b,es:w,none:T},r={hs:v,rs:E,ps:S,es:_,none:A},n=e.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/);if(!n)throw g('"%s" is not a valid algorithm.\n  Supported algorithms are:\n  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".',e);var i=(n[1]||n[3]).toLowerCase(),s=n[2];return{sign:t[i](s),verify:r[i](s)}}},function(e,t,r){var n=r(20).Buffer;e.exports=function(e){return"string"==typeof e?e:"number"==typeof e||n.isBuffer(e)?e.toString():JSON.stringify(e)}},function(e,t,r){var n=r(0);r(1),n.cipher=n.cipher||{};var i=e.exports=n.cipher.modes=n.cipher.modes||{};function s(e,t){if("string"==typeof e&&(e=n.util.createBuffer(e)),n.util.isArray(e)&&e.length>4){var r=e;e=n.util.createBuffer();for(var i=0;i<r.length;++i)e.putByte(r[i])}if(e.length()<t)throw new Error("Invalid IV length; got "+e.length()+" bytes and expected "+t+" bytes.");if(!n.util.isArray(e)){var s=[],a=t/4;for(i=0;i<a;++i)s.push(e.getInt32());e=s}return e}function a(e){e[e.length-1]=e[e.length-1]+1&4294967295}function o(e){return[e/4294967296|0,4294967295&e]}i.ecb=function(e){e=e||{},this.name="ECB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},i.ecb.prototype.start=function(e){},i.ecb.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])},i.ecb.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])},i.ecb.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0},i.ecb.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return!(n>this.blockSize<<2)&&(e.truncate(n),!0)},i.cbc=function(e){e=e||{},this.name="CBC",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},i.cbc.prototype.start=function(e){if(null===e.iv){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else{if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=s(e.iv,this.blockSize),this._prev=this._iv.slice(0)}},i.cbc.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=this._prev[n]^e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(n=0;n<this._ints;++n)t.putInt32(this._outBlock[n]);this._prev=this._outBlock},i.cbc.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(n=0;n<this._ints;++n)t.putInt32(this._prev[n]^this._outBlock[n]);this._prev=this._inBlock.slice(0)},i.cbc.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0},i.cbc.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return!(n>this.blockSize<<2)&&(e.truncate(n),!0)},i.cfb=function(e){e=e||{},this.name="CFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=n.util.createBuffer(),this._partialBytes=0},i.cfb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=s(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},i.cfb.prototype.encrypt=function(e,t,r){var n=e.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var i=0;i<this._ints;++i)this._inBlock[i]=e.getInt32()^this._outBlock[i],t.putInt32(this._inBlock[i]);else{var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(i=0;i<this._ints;++i)this._partialBlock[i]=e.getInt32()^this._outBlock[i],this._partialOutput.putInt32(this._partialBlock[i]);if(s>0)e.read-=this.blockSize;else for(i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}},i.cfb.prototype.decrypt=function(e,t,r){var n=e.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var i=0;i<this._ints;++i)this._inBlock[i]=e.getInt32(),t.putInt32(this._inBlock[i]^this._outBlock[i]);else{var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(i=0;i<this._ints;++i)this._partialBlock[i]=e.getInt32(),this._partialOutput.putInt32(this._partialBlock[i]^this._outBlock[i]);if(s>0)e.read-=this.blockSize;else for(i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}},i.ofb=function(e){e=e||{},this.name="OFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=n.util.createBuffer(),this._partialBytes=0},i.ofb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=s(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},i.ofb.prototype.encrypt=function(e,t,r){var n=e.length();if(0===e.length())return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var i=0;i<this._ints;++i)t.putInt32(e.getInt32()^this._outBlock[i]),this._inBlock[i]=this._outBlock[i];else{var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(s>0)e.read-=this.blockSize;else for(i=0;i<this._ints;++i)this._inBlock[i]=this._outBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}},i.ofb.prototype.decrypt=i.ofb.prototype.encrypt,i.ctr=function(e){e=e||{},this.name="CTR",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=n.util.createBuffer(),this._partialBytes=0},i.ctr.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=s(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},i.ctr.prototype.encrypt=function(e,t,r){var n=e.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var i=0;i<this._ints;++i)t.putInt32(e.getInt32()^this._outBlock[i]);else{var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(s>0&&(e.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}a(this._inBlock)},i.ctr.prototype.decrypt=i.ctr.prototype.encrypt,i.gcm=function(e){e=e||{},this.name="GCM",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=n.util.createBuffer(),this._partialBytes=0,this._R=3774873600},i.gcm.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");var t,r=n.util.createBuffer(e.iv);if(this._cipherLength=0,t="additionalData"in e?n.util.createBuffer(e.additionalData):n.util.createBuffer(),this._tagLength="tagLength"in e?e.tagLength:128,this._tag=null,e.decrypt&&(this._tag=n.util.createBuffer(e.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var i=r.length();if(12===i)this._j0=[r.getInt32(),r.getInt32(),r.getInt32(),1];else{for(this._j0=[0,0,0,0];r.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(o(8*i)))}this._inBlock=this._j0.slice(0),a(this._inBlock),this._partialBytes=0,t=n.util.createBuffer(t),this._aDataLength=o(8*t.length());var s=t.length()%this.blockSize;for(s&&t.fillWithByte(0,this.blockSize-s),this._s=[0,0,0,0];t.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[t.getInt32(),t.getInt32(),t.getInt32(),t.getInt32()])},i.gcm.prototype.encrypt=function(e,t,r){var n=e.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize){for(var i=0;i<this._ints;++i)t.putInt32(this._outBlock[i]^=e.getInt32());this._cipherLength+=this.blockSize}else{var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(s<=0||r){if(r){var o=n%this.blockSize;this._cipherLength+=o,this._partialOutput.truncate(this.blockSize-o)}else this._cipherLength+=this.blockSize;for(i=0;i<this._ints;++i)this._outBlock[i]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return e.read-=this.blockSize,t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),a(this._inBlock)},i.gcm.prototype.decrypt=function(e,t,r){var n=e.length();if(n<this.blockSize&&!(r&&n>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),a(this._inBlock),this._hashBlock[0]=e.getInt32(),this._hashBlock[1]=e.getInt32(),this._hashBlock[2]=e.getInt32(),this._hashBlock[3]=e.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var i=0;i<this._ints;++i)t.putInt32(this._outBlock[i]^this._hashBlock[i]);n<this.blockSize?this._cipherLength+=n%this.blockSize:this._cipherLength+=this.blockSize},i.gcm.prototype.afterFinish=function(e,t){var r=!0;t.decrypt&&t.overflow&&e.truncate(this.blockSize-t.overflow),this.tag=n.util.createBuffer();var i=this._aDataLength.concat(o(8*this._cipherLength));this._s=this.ghash(this._hashSubkey,this._s,i);var s=[];this.cipher.encrypt(this._j0,s);for(var a=0;a<this._ints;++a)this.tag.putInt32(this._s[a]^s[a]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),t.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r},i.gcm.prototype.multiply=function(e,t){for(var r=[0,0,0,0],n=t.slice(0),i=0;i<128;++i){e[i/32|0]&1<<31-i%32&&(r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]),this.pow(n,n)}return r},i.gcm.prototype.pow=function(e,t){for(var r=1&e[3],n=3;n>0;--n)t[n]=e[n]>>>1|(1&e[n-1])<<31;t[0]=e[0]>>>1,r&&(t[0]^=this._R)},i.gcm.prototype.tableMultiply=function(e){for(var t=[0,0,0,0],r=0;r<32;++r){var n=e[r/8|0]>>>4*(7-r%8)&15,i=this._m[r][n];t[0]^=i[0],t[1]^=i[1],t[2]^=i[2],t[3]^=i[3]}return t},i.gcm.prototype.ghash=function(e,t,r){return t[0]^=r[0],t[1]^=r[1],t[2]^=r[2],t[3]^=r[3],this.tableMultiply(t)},i.gcm.prototype.generateHashTable=function(e,t){for(var r=8/t,n=4*r,i=16*r,s=new Array(i),a=0;a<i;++a){var o=[0,0,0,0],u=(n-1-a%n)*t;o[a/n|0]=1<<t-1<<u,s[a]=this.generateSubHashTable(this.multiply(o,e),t)}return s},i.gcm.prototype.generateSubHashTable=function(e,t){var r=1<<t,n=r>>>1,i=new Array(r);i[n]=e.slice(0);for(var s=n>>>1;s>0;)this.pow(i[2*s],i[s]=[]),s>>=1;for(s=2;s<n;){for(var a=1;a<s;++a){var o=i[s],u=i[a];i[s+a]=[o[0]^u[0],o[1]^u[1],o[2]^u[2],o[3]^u[3]]}s*=2}for(i[0]=[0,0,0,0],s=n+1;s<r;++s){var c=i[s^n];i[s]=[e[0]^c[0],e[1]^c[1],e[2]^c[2],e[3]^c[3]]}return i}},function(e,t,r){var n=r(0);r(5),r(16),r(34),r(12),r(63),r(4),r(17),r(1);var i=function(e,t,r,i){var s=n.util.createBuffer(),a=e.length>>1,o=a+(1&e.length),u=e.substr(0,o),c=e.substr(a,o),l=n.util.createBuffer(),f=n.hmac.create();r=t+r;var h=Math.ceil(i/16),p=Math.ceil(i/20);f.start("MD5",u);var d=n.util.createBuffer();l.putBytes(r);for(var g=0;g<h;++g)f.start(null,null),f.update(l.getBytes()),l.putBuffer(f.digest()),f.start(null,null),f.update(l.bytes()+r),d.putBuffer(f.digest());f.start("SHA1",c);var y=n.util.createBuffer();l.clear(),l.putBytes(r);for(g=0;g<p;++g)f.start(null,null),f.update(l.getBytes()),l.putBuffer(f.digest()),f.start(null,null),f.update(l.bytes()+r),y.putBuffer(f.digest());return s.putBytes(n.util.xorBytes(d.getBytes(),y.getBytes(),i)),s},s=function(e,t,r){var i=!1;try{var s=e.deflate(t.fragment.getBytes());t.fragment=n.util.createBuffer(s),t.length=s.length,i=!0}catch(e){}return i},a=function(e,t,r){var i=!1;try{var s=e.inflate(t.fragment.getBytes());t.fragment=n.util.createBuffer(s),t.length=s.length,i=!0}catch(e){}return i},o=function(e,t){var r=0;switch(t){case 1:r=e.getByte();break;case 2:r=e.getInt16();break;case 3:r=e.getInt24();break;case 4:r=e.getInt32()}return n.util.createBuffer(e.getBytes(r))},u=function(e,t,r){e.putInt(r.length(),t<<3),e.putBuffer(r)},c={Versions:{TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}}};c.SupportedVersions=[c.Versions.TLS_1_1,c.Versions.TLS_1_0],c.Version=c.SupportedVersions[0],c.MaxFragment=15360,c.ConnectionEnd={server:0,client:1},c.PRFAlgorithm={tls_prf_sha256:0},c.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2},c.CipherType={stream:0,block:1,aead:2},c.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4},c.CompressionMethod={none:0,deflate:1},c.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24},c.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20},c.Alert={},c.Alert.Level={warning:1,fatal:2},c.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100},c.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2},c.CipherSuites={},c.getCipherSuite=function(e){var t=null;for(var r in c.CipherSuites){var n=c.CipherSuites[r];if(n.id[0]===e.charCodeAt(0)&&n.id[1]===e.charCodeAt(1)){t=n;break}}return t},c.handleUnexpected=function(e,t){!e.open&&e.entity===c.ConnectionEnd.client||e.error(e,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.unexpected_message}})},c.handleHelloRequest=function(e,t,r){!e.handshaking&&e.handshakes>0&&(c.queue(e,c.createAlert(e,{level:c.Alert.Level.warning,description:c.Alert.Description.no_renegotiation})),c.flush(e)),e.process()},c.parseHelloMessage=function(e,t,r){var i=null,s=e.entity===c.ConnectionEnd.client;if(r<38)e.error(e,{message:s?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.illegal_parameter}});else{var a=t.fragment,u=a.length();if(i={version:{major:a.getByte(),minor:a.getByte()},random:n.util.createBuffer(a.getBytes(32)),session_id:o(a,1),extensions:[]},s?(i.cipher_suite=a.getBytes(2),i.compression_method=a.getByte()):(i.cipher_suites=o(a,2),i.compression_methods=o(a,1)),(u=r-(u-a.length()))>0){for(var l=o(a,2);l.length()>0;)i.extensions.push({type:[l.getByte(),l.getByte()],data:o(l,2)});if(!s)for(var f=0;f<i.extensions.length;++f){var h=i.extensions[f];if(0===h.type[0]&&0===h.type[1])for(var p=o(h.data,2);p.length()>0;){if(0!==p.getByte())break;e.session.extensions.server_name.serverNameList.push(o(p,2).getBytes())}}}if(e.session.version&&(i.version.major!==e.session.version.major||i.version.minor!==e.session.version.minor))return e.error(e,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.protocol_version}});if(s)e.session.cipherSuite=c.getCipherSuite(i.cipher_suite);else for(var d=n.util.createBuffer(i.cipher_suites.bytes());d.length()>0&&(e.session.cipherSuite=c.getCipherSuite(d.getBytes(2)),null===e.session.cipherSuite););if(null===e.session.cipherSuite)return e.error(e,{message:"No cipher suites in common.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.handshake_failure},cipherSuite:n.util.bytesToHex(i.cipher_suite)});e.session.compressionMethod=s?i.compression_method:c.CompressionMethod.none}return i},c.createSecurityParameters=function(e,t){var r=e.entity===c.ConnectionEnd.client,n=t.random.bytes(),i=r?e.session.sp.client_random:n,s=r?n:c.createRandom().getBytes();e.session.sp={entity:e.entity,prf_algorithm:c.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:e.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:i,server_random:s}},c.handleServerHello=function(e,t,r){var n=c.parseHelloMessage(e,t,r);if(!e.fail){if(!(n.version.minor<=e.version.minor))return e.error(e,{message:"Incompatible TLS version.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.protocol_version}});e.version.minor=n.version.minor,e.session.version=e.version;var i=n.session_id.bytes();i.length>0&&i===e.session.id?(e.expect=d,e.session.resuming=!0,e.session.sp.server_random=n.random.bytes()):(e.expect=l,e.session.resuming=!1,c.createSecurityParameters(e,n)),e.session.id=i,e.process()}},c.handleClientHello=function(e,t,r){var i=c.parseHelloMessage(e,t,r);if(!e.fail){var s=i.session_id.bytes(),a=null;if(e.sessionCache&&(null===(a=e.sessionCache.getSession(s))?s="":(a.version.major!==i.version.major||a.version.minor>i.version.minor)&&(a=null,s="")),0===s.length&&(s=n.random.getBytes(32)),e.session.id=s,e.session.clientHelloVersion=i.version,e.session.sp={},a)e.version=e.session.version=a.version,e.session.sp=a.sp;else{for(var o,u=1;u<c.SupportedVersions.length&&!((o=c.SupportedVersions[u]).minor<=i.version.minor);++u);e.version={major:o.major,minor:o.minor},e.session.version=e.version}null!==a?(e.expect=b,e.session.resuming=!0,e.session.sp.client_random=i.random.bytes()):(e.expect=!1!==e.verifyClient?v:C,e.session.resuming=!1,c.createSecurityParameters(e,i)),e.open=!0,c.queue(e,c.createRecord(e,{type:c.ContentType.handshake,data:c.createServerHello(e)})),e.session.resuming?(c.queue(e,c.createRecord(e,{type:c.ContentType.change_cipher_spec,data:c.createChangeCipherSpec()})),e.state.pending=c.createConnectionState(e),e.state.current.write=e.state.pending.write,c.queue(e,c.createRecord(e,{type:c.ContentType.handshake,data:c.createFinished(e)}))):(c.queue(e,c.createRecord(e,{type:c.ContentType.handshake,data:c.createCertificate(e)})),e.fail||(c.queue(e,c.createRecord(e,{type:c.ContentType.handshake,data:c.createServerKeyExchange(e)})),!1!==e.verifyClient&&c.queue(e,c.createRecord(e,{type:c.ContentType.handshake,data:c.createCertificateRequest(e)})),c.queue(e,c.createRecord(e,{type:c.ContentType.handshake,data:c.createServerHelloDone(e)})))),c.flush(e),e.process()}},c.handleCertificate=function(e,t,r){if(r<3)return e.error(e,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.illegal_parameter}});var i,s,a=t.fragment,u={certificate_list:o(a,3)},l=[];try{for(;u.certificate_list.length()>0;)i=o(u.certificate_list,3),s=n.asn1.fromDer(i),i=n.pki.certificateFromAsn1(s,!0),l.push(i)}catch(t){return e.error(e,{message:"Could not parse certificate list.",cause:t,send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.bad_certificate}})}var h=e.entity===c.ConnectionEnd.client;!h&&!0!==e.verifyClient||0!==l.length?0===l.length?e.expect=h?f:C:(h?e.session.serverCertificate=l[0]:e.session.clientCertificate=l[0],c.verifyCertificateChain(e,l)&&(e.expect=h?f:C)):e.error(e,{message:h?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.illegal_parameter}}),e.process()},c.handleServerKeyExchange=function(e,t,r){if(r>0)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.unsupported_certificate}});e.expect=h,e.process()},c.handleClientKeyExchange=function(e,t,r){if(r<48)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.unsupported_certificate}});var i=t.fragment,s={enc_pre_master_secret:o(i,2).getBytes()},a=null;if(e.getPrivateKey)try{a=e.getPrivateKey(e,e.session.serverCertificate),a=n.pki.privateKeyFromPem(a)}catch(t){e.error(e,{message:"Could not get private key.",cause:t,send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.internal_error}})}if(null===a)return e.error(e,{message:"No private key set.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.internal_error}});try{var u=e.session.sp;u.pre_master_secret=a.decrypt(s.enc_pre_master_secret);var l=e.session.clientHelloVersion;if(l.major!==u.pre_master_secret.charCodeAt(0)||l.minor!==u.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch(e){u.pre_master_secret=n.random.getBytes(48)}e.expect=b,null!==e.session.clientCertificate&&(e.expect=E),e.process()},c.handleCertificateRequest=function(e,t,r){if(r<3)return e.error(e,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.illegal_parameter}});var n=t.fragment,i={certificate_types:o(n,1),certificate_authorities:o(n,2)};e.session.certificateRequest=i,e.expect=p,e.process()},c.handleCertificateVerify=function(e,t,r){if(r<2)return e.error(e,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.illegal_parameter}});var i=t.fragment;i.read-=4;var s=i.bytes();i.read+=4;var a={signature:o(i,2).getBytes()},u=n.util.createBuffer();u.putBuffer(e.session.md5.digest()),u.putBuffer(e.session.sha1.digest()),u=u.getBytes();try{if(!e.session.clientCertificate.publicKey.verify(u,a.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");e.session.md5.update(s),e.session.sha1.update(s)}catch(t){return e.error(e,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.handshake_failure}})}e.expect=b,e.process()},c.handleServerHelloDone=function(e,t,r){if(r>0)return e.error(e,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.record_overflow}});if(null===e.serverCertificate){var i={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.insufficient_security}},s=e.verify(e,i.alert.description,0,[]);if(!0!==s)return(s||0===s)&&("object"!=typeof s||n.util.isArray(s)?"number"==typeof s&&(i.alert.description=s):(s.message&&(i.message=s.message),s.alert&&(i.alert.description=s.alert))),e.error(e,i)}null!==e.session.certificateRequest&&(t=c.createRecord(e,{type:c.ContentType.handshake,data:c.createCertificate(e)}),c.queue(e,t)),t=c.createRecord(e,{type:c.ContentType.handshake,data:c.createClientKeyExchange(e)}),c.queue(e,t),e.expect=m;var a=function(e,t){null!==e.session.certificateRequest&&null!==e.session.clientCertificate&&c.queue(e,c.createRecord(e,{type:c.ContentType.handshake,data:c.createCertificateVerify(e,t)})),c.queue(e,c.createRecord(e,{type:c.ContentType.change_cipher_spec,data:c.createChangeCipherSpec()})),e.state.pending=c.createConnectionState(e),e.state.current.write=e.state.pending.write,c.queue(e,c.createRecord(e,{type:c.ContentType.handshake,data:c.createFinished(e)})),e.expect=d,c.flush(e),e.process()};if(null===e.session.certificateRequest||null===e.session.clientCertificate)return a(e,null);c.getClientSignature(e,a)},c.handleChangeCipherSpec=function(e,t){if(1!==t.fragment.getByte())return e.error(e,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.illegal_parameter}});var r=e.entity===c.ConnectionEnd.client;(e.session.resuming&&r||!e.session.resuming&&!r)&&(e.state.pending=c.createConnectionState(e)),e.state.current.read=e.state.pending.read,(!e.session.resuming&&r||e.session.resuming&&!r)&&(e.state.pending=null),e.expect=r?g:S,e.process()},c.handleFinished=function(e,t,r){var s=t.fragment;s.read-=4;var a=s.bytes();s.read+=4;var o=t.fragment.getBytes();(s=n.util.createBuffer()).putBuffer(e.session.md5.digest()),s.putBuffer(e.session.sha1.digest());var u=e.entity===c.ConnectionEnd.client,l=u?"server finished":"client finished",f=e.session.sp;if((s=i(f.master_secret,l,s.getBytes(),12)).getBytes()!==o)return e.error(e,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.decrypt_error}});e.session.md5.update(a),e.session.sha1.update(a),(e.session.resuming&&u||!e.session.resuming&&!u)&&(c.queue(e,c.createRecord(e,{type:c.ContentType.change_cipher_spec,data:c.createChangeCipherSpec()})),e.state.current.write=e.state.pending.write,e.state.pending=null,c.queue(e,c.createRecord(e,{type:c.ContentType.handshake,data:c.createFinished(e)}))),e.expect=u?y:w,e.handshaking=!1,++e.handshakes,e.peerCertificate=u?e.session.serverCertificate:e.session.clientCertificate,c.flush(e),e.isConnected=!0,e.connected(e),e.process()},c.handleAlert=function(e,t){var r,n=t.fragment,i={level:n.getByte(),description:n.getByte()};switch(i.description){case c.Alert.Description.close_notify:r="Connection closed.";break;case c.Alert.Description.unexpected_message:r="Unexpected message.";break;case c.Alert.Description.bad_record_mac:r="Bad record MAC.";break;case c.Alert.Description.decryption_failed:r="Decryption failed.";break;case c.Alert.Description.record_overflow:r="Record overflow.";break;case c.Alert.Description.decompression_failure:r="Decompression failed.";break;case c.Alert.Description.handshake_failure:r="Handshake failure.";break;case c.Alert.Description.bad_certificate:r="Bad certificate.";break;case c.Alert.Description.unsupported_certificate:r="Unsupported certificate.";break;case c.Alert.Description.certificate_revoked:r="Certificate revoked.";break;case c.Alert.Description.certificate_expired:r="Certificate expired.";break;case c.Alert.Description.certificate_unknown:r="Certificate unknown.";break;case c.Alert.Description.illegal_parameter:r="Illegal parameter.";break;case c.Alert.Description.unknown_ca:r="Unknown certificate authority.";break;case c.Alert.Description.access_denied:r="Access denied.";break;case c.Alert.Description.decode_error:r="Decode error.";break;case c.Alert.Description.decrypt_error:r="Decrypt error.";break;case c.Alert.Description.export_restriction:r="Export restriction.";break;case c.Alert.Description.protocol_version:r="Unsupported protocol version.";break;case c.Alert.Description.insufficient_security:r="Insufficient security.";break;case c.Alert.Description.internal_error:r="Internal error.";break;case c.Alert.Description.user_canceled:r="User canceled.";break;case c.Alert.Description.no_renegotiation:r="Renegotiation not supported.";break;default:r="Unknown error."}if(i.description===c.Alert.Description.close_notify)return e.close();e.error(e,{message:r,send:!1,origin:e.entity===c.ConnectionEnd.client?"server":"client",alert:i}),e.process()},c.handleHandshake=function(e,t){var r=t.fragment,i=r.getByte(),s=r.getInt24();if(s>r.length())return e.fragmented=t,t.fragment=n.util.createBuffer(),r.read-=4,e.process();e.fragmented=null,r.read-=4;var a=r.bytes(s+4);r.read+=4,i in j[e.entity][e.expect]?(e.entity!==c.ConnectionEnd.server||e.open||e.fail||(e.handshaking=!0,e.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:n.md.md5.create(),sha1:n.md.sha1.create()}),i!==c.HandshakeType.hello_request&&i!==c.HandshakeType.certificate_verify&&i!==c.HandshakeType.finished&&(e.session.md5.update(a),e.session.sha1.update(a)),j[e.entity][e.expect][i](e,t,s)):c.handleUnexpected(e,t)},c.handleApplicationData=function(e,t){e.data.putBuffer(t.fragment),e.dataReady(e),e.process()},c.handleHeartbeat=function(e,t){var r=t.fragment,i=r.getByte(),s=r.getInt16(),a=r.getBytes(s);if(i===c.HeartbeatMessageType.heartbeat_request){if(e.handshaking||s>a.length)return e.process();c.queue(e,c.createRecord(e,{type:c.ContentType.heartbeat,data:c.createHeartbeat(c.HeartbeatMessageType.heartbeat_response,a)})),c.flush(e)}else if(i===c.HeartbeatMessageType.heartbeat_response){if(a!==e.expectedHeartbeatPayload)return e.process();e.heartbeatReceived&&e.heartbeatReceived(e,n.util.createBuffer(a))}e.process()};var l=1,f=2,h=3,p=4,d=5,g=6,y=7,m=8,v=1,C=2,E=3,b=4,S=5,w=6,_=c.handleUnexpected,T=c.handleChangeCipherSpec,A=c.handleAlert,I=c.handleHandshake,B=c.handleApplicationData,k=c.handleHeartbeat,R=[];R[c.ConnectionEnd.client]=[[_,A,I,_,k],[_,A,I,_,k],[_,A,I,_,k],[_,A,I,_,k],[_,A,I,_,k],[T,A,_,_,k],[_,A,I,_,k],[_,A,I,B,k],[_,A,I,_,k]],R[c.ConnectionEnd.server]=[[_,A,I,_,k],[_,A,I,_,k],[_,A,I,_,k],[_,A,I,_,k],[T,A,_,_,k],[_,A,I,_,k],[_,A,I,B,k],[_,A,I,_,k]];var N=c.handleHelloRequest,O=c.handleServerHello,x=c.handleCertificate,L=c.handleServerKeyExchange,D=c.handleCertificateRequest,P=c.handleServerHelloDone,U=c.handleFinished,j=[];j[c.ConnectionEnd.client]=[[_,_,O,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_],[N,_,_,_,_,_,_,_,_,_,_,x,L,D,P,_,_,_,_,_,_],[N,_,_,_,_,_,_,_,_,_,_,_,L,D,P,_,_,_,_,_,_],[N,_,_,_,_,_,_,_,_,_,_,_,_,D,P,_,_,_,_,_,_],[N,_,_,_,_,_,_,_,_,_,_,_,_,_,P,_,_,_,_,_,_],[N,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_],[N,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,U],[N,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_],[N,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_]];var F=c.handleClientHello,V=c.handleClientKeyExchange,M=c.handleCertificateVerify;j[c.ConnectionEnd.server]=[[_,F,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_],[_,_,_,_,_,_,_,_,_,_,_,x,_,_,_,_,_,_,_,_,_],[_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,V,_,_,_,_],[_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,M,_,_,_,_,_],[_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_],[_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,U],[_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_],[_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_]],c.generateKeys=function(e,t){var r=i,n=t.client_random+t.server_random;e.session.resuming||(t.master_secret=r(t.pre_master_secret,"master secret",n,48).bytes(),t.pre_master_secret=null),n=t.server_random+t.client_random;var s=2*t.mac_key_length+2*t.enc_key_length,a=e.version.major===c.Versions.TLS_1_0.major&&e.version.minor===c.Versions.TLS_1_0.minor;a&&(s+=2*t.fixed_iv_length);var o=r(t.master_secret,"key expansion",n,s),u={client_write_MAC_key:o.getBytes(t.mac_key_length),server_write_MAC_key:o.getBytes(t.mac_key_length),client_write_key:o.getBytes(t.enc_key_length),server_write_key:o.getBytes(t.enc_key_length)};return a&&(u.client_write_IV=o.getBytes(t.fixed_iv_length),u.server_write_IV=o.getBytes(t.fixed_iv_length)),u},c.createConnectionState=function(e){var t=e.entity===c.ConnectionEnd.client,r=function(){var e={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:function(e){return!0},compressionState:null,compressFunction:function(e){return!0},updateSequenceNumber:function(){4294967295===e.sequenceNumber[1]?(e.sequenceNumber[1]=0,++e.sequenceNumber[0]):++e.sequenceNumber[1]}};return e},n={read:r(),write:r()};if(n.read.update=function(e,t){return n.read.cipherFunction(t,n.read)?n.read.compressFunction(e,t,n.read)||e.error(e,{message:"Could not decompress record.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.decompression_failure}}):e.error(e,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.bad_record_mac}}),!e.fail},n.write.update=function(e,t){return n.write.compressFunction(e,t,n.write)?n.write.cipherFunction(t,n.write)||e.error(e,{message:"Could not encrypt record.",send:!1,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.internal_error}}):e.error(e,{message:"Could not compress record.",send:!1,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.internal_error}}),!e.fail},e.session){var i=e.session.sp;switch(e.session.cipherSuite.initSecurityParameters(i),i.keys=c.generateKeys(e,i),n.read.macKey=t?i.keys.server_write_MAC_key:i.keys.client_write_MAC_key,n.write.macKey=t?i.keys.client_write_MAC_key:i.keys.server_write_MAC_key,e.session.cipherSuite.initConnectionState(n,e,i),i.compression_algorithm){case c.CompressionMethod.none:break;case c.CompressionMethod.deflate:n.read.compressFunction=a,n.write.compressFunction=s;break;default:throw new Error("Unsupported compression algorithm.")}}return n},c.createRandom=function(){var e=new Date,t=+e+6e4*e.getTimezoneOffset(),r=n.util.createBuffer();return r.putInt32(t),r.putBytes(n.random.getBytes(28)),r},c.createRecord=function(e,t){return t.data?{type:t.type,version:{major:e.version.major,minor:e.version.minor},length:t.data.length(),fragment:t.data}:null},c.createAlert=function(e,t){var r=n.util.createBuffer();return r.putByte(t.level),r.putByte(t.description),c.createRecord(e,{type:c.ContentType.alert,data:r})},c.createClientHello=function(e){e.session.clientHelloVersion={major:e.version.major,minor:e.version.minor};for(var t=n.util.createBuffer(),r=0;r<e.cipherSuites.length;++r){var i=e.cipherSuites[r];t.putByte(i.id[0]),t.putByte(i.id[1])}var s=t.length(),a=n.util.createBuffer();a.putByte(c.CompressionMethod.none);var o=a.length(),l=n.util.createBuffer();if(e.virtualHost){var f=n.util.createBuffer();f.putByte(0),f.putByte(0);var h=n.util.createBuffer();h.putByte(0),u(h,2,n.util.createBuffer(e.virtualHost));var p=n.util.createBuffer();u(p,2,h),u(f,2,p),l.putBuffer(f)}var d=l.length();d>0&&(d+=2);var g=e.session.id,y=g.length+1+2+4+28+2+s+1+o+d,m=n.util.createBuffer();return m.putByte(c.HandshakeType.client_hello),m.putInt24(y),m.putByte(e.version.major),m.putByte(e.version.minor),m.putBytes(e.session.sp.client_random),u(m,1,n.util.createBuffer(g)),u(m,2,t),u(m,1,a),d>0&&u(m,2,l),m},c.createServerHello=function(e){var t=e.session.id,r=t.length+1+2+4+28+2+1,i=n.util.createBuffer();return i.putByte(c.HandshakeType.server_hello),i.putInt24(r),i.putByte(e.version.major),i.putByte(e.version.minor),i.putBytes(e.session.sp.server_random),u(i,1,n.util.createBuffer(t)),i.putByte(e.session.cipherSuite.id[0]),i.putByte(e.session.cipherSuite.id[1]),i.putByte(e.session.compressionMethod),i},c.createCertificate=function(e){var t,r=e.entity===c.ConnectionEnd.client,i=null;e.getCertificate&&(t=r?e.session.certificateRequest:e.session.extensions.server_name.serverNameList,i=e.getCertificate(e,t));var s=n.util.createBuffer();if(null!==i)try{n.util.isArray(i)||(i=[i]);for(var a=null,o=0;o<i.length;++o){var l=n.pem.decode(i[o])[0];if("CERTIFICATE"!==l.type&&"X509 CERTIFICATE"!==l.type&&"TRUSTED CERTIFICATE"!==l.type){var f=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw f.headerType=l.type,f}if(l.procType&&"ENCRYPTED"===l.procType.type)throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var h=n.util.createBuffer(l.body);null===a&&(a=n.asn1.fromDer(h.bytes(),!1));var p=n.util.createBuffer();u(p,3,h),s.putBuffer(p)}i=n.pki.certificateFromAsn1(a),r?e.session.clientCertificate=i:e.session.serverCertificate=i}catch(t){return e.error(e,{message:"Could not send certificate list.",cause:t,send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.bad_certificate}})}var d=3+s.length(),g=n.util.createBuffer();return g.putByte(c.HandshakeType.certificate),g.putInt24(d),u(g,3,s),g},c.createClientKeyExchange=function(e){var t=n.util.createBuffer();t.putByte(e.session.clientHelloVersion.major),t.putByte(e.session.clientHelloVersion.minor),t.putBytes(n.random.getBytes(46));var r=e.session.sp;r.pre_master_secret=t.getBytes();var i=(t=e.session.serverCertificate.publicKey.encrypt(r.pre_master_secret)).length+2,s=n.util.createBuffer();return s.putByte(c.HandshakeType.client_key_exchange),s.putInt24(i),s.putInt16(t.length),s.putBytes(t),s},c.createServerKeyExchange=function(e){var t=n.util.createBuffer();return t},c.getClientSignature=function(e,t){var r=n.util.createBuffer();r.putBuffer(e.session.md5.digest()),r.putBuffer(e.session.sha1.digest()),r=r.getBytes(),e.getSignature=e.getSignature||function(e,t,r){var i=null;if(e.getPrivateKey)try{i=e.getPrivateKey(e,e.session.clientCertificate),i=n.pki.privateKeyFromPem(i)}catch(t){e.error(e,{message:"Could not get private key.",cause:t,send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.internal_error}})}null===i?e.error(e,{message:"No private key set.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.internal_error}}):t=i.sign(t,null),r(e,t)},e.getSignature(e,r,t)},c.createCertificateVerify=function(e,t){var r=t.length+2,i=n.util.createBuffer();return i.putByte(c.HandshakeType.certificate_verify),i.putInt24(r),i.putInt16(t.length),i.putBytes(t),i},c.createCertificateRequest=function(e){var t=n.util.createBuffer();t.putByte(1);var r=n.util.createBuffer();for(var i in e.caStore.certs){var s=e.caStore.certs[i],a=n.pki.distinguishedNameToAsn1(s.subject),o=n.asn1.toDer(a);r.putInt16(o.length()),r.putBuffer(o)}var l=1+t.length()+2+r.length(),f=n.util.createBuffer();return f.putByte(c.HandshakeType.certificate_request),f.putInt24(l),u(f,1,t),u(f,2,r),f},c.createServerHelloDone=function(e){var t=n.util.createBuffer();return t.putByte(c.HandshakeType.server_hello_done),t.putInt24(0),t},c.createChangeCipherSpec=function(){var e=n.util.createBuffer();return e.putByte(1),e},c.createFinished=function(e){var t=n.util.createBuffer();t.putBuffer(e.session.md5.digest()),t.putBuffer(e.session.sha1.digest());var r=e.entity===c.ConnectionEnd.client,s=e.session.sp,a=r?"client finished":"server finished";t=i(s.master_secret,a,t.getBytes(),12);var o=n.util.createBuffer();return o.putByte(c.HandshakeType.finished),o.putInt24(t.length()),o.putBuffer(t),o},c.createHeartbeat=function(e,t,r){void 0===r&&(r=t.length);var i=n.util.createBuffer();i.putByte(e),i.putInt16(r),i.putBytes(t);var s=i.length(),a=Math.max(16,s-r-3);return i.putBytes(n.random.getBytes(a)),i},c.queue=function(e,t){if(t&&(0!==t.fragment.length()||t.type!==c.ContentType.handshake&&t.type!==c.ContentType.alert&&t.type!==c.ContentType.change_cipher_spec)){if(t.type===c.ContentType.handshake){var r=t.fragment.bytes();e.session.md5.update(r),e.session.sha1.update(r),r=null}var i;if(t.fragment.length()<=c.MaxFragment)i=[t];else{i=[];for(var s=t.fragment.bytes();s.length>c.MaxFragment;)i.push(c.createRecord(e,{type:t.type,data:n.util.createBuffer(s.slice(0,c.MaxFragment))})),s=s.slice(c.MaxFragment);s.length>0&&i.push(c.createRecord(e,{type:t.type,data:n.util.createBuffer(s)}))}for(var a=0;a<i.length&&!e.fail;++a){var o=i[a];e.state.current.write.update(e,o)&&e.records.push(o)}}},c.flush=function(e){for(var t=0;t<e.records.length;++t){var r=e.records[t];e.tlsData.putByte(r.type),e.tlsData.putByte(r.version.major),e.tlsData.putByte(r.version.minor),e.tlsData.putInt16(r.fragment.length()),e.tlsData.putBuffer(e.records[t].fragment)}return e.records=[],e.tlsDataReady(e)};var K=function(e){switch(e){case!0:return!0;case n.pki.certificateError.bad_certificate:return c.Alert.Description.bad_certificate;case n.pki.certificateError.unsupported_certificate:return c.Alert.Description.unsupported_certificate;case n.pki.certificateError.certificate_revoked:return c.Alert.Description.certificate_revoked;case n.pki.certificateError.certificate_expired:return c.Alert.Description.certificate_expired;case n.pki.certificateError.certificate_unknown:return c.Alert.Description.certificate_unknown;case n.pki.certificateError.unknown_ca:return c.Alert.Description.unknown_ca;default:return c.Alert.Description.bad_certificate}};for(var q in c.verifyCertificateChain=function(e,t){try{var r={};for(var i in e.verifyOptions)r[i]=e.verifyOptions[i];r.verify=function(t,r,i){K(t);var s=e.verify(e,t,r,i);if(!0!==s){if("object"==typeof s&&!n.util.isArray(s)){var a=new Error("The application rejected the certificate.");throw a.send=!0,a.alert={level:c.Alert.Level.fatal,description:c.Alert.Description.bad_certificate},s.message&&(a.message=s.message),s.alert&&(a.alert.description=s.alert),a}s!==t&&(s=function(e){switch(e){case!0:return!0;case c.Alert.Description.bad_certificate:return n.pki.certificateError.bad_certificate;case c.Alert.Description.unsupported_certificate:return n.pki.certificateError.unsupported_certificate;case c.Alert.Description.certificate_revoked:return n.pki.certificateError.certificate_revoked;case c.Alert.Description.certificate_expired:return n.pki.certificateError.certificate_expired;case c.Alert.Description.certificate_unknown:return n.pki.certificateError.certificate_unknown;case c.Alert.Description.unknown_ca:return n.pki.certificateError.unknown_ca;default:return n.pki.certificateError.bad_certificate}}(s))}return s},n.pki.verifyCertificateChain(e.caStore,t,r)}catch(t){var s=t;("object"!=typeof s||n.util.isArray(s))&&(s={send:!0,alert:{level:c.Alert.Level.fatal,description:K(t)}}),"send"in s||(s.send=!0),"alert"in s||(s.alert={level:c.Alert.Level.fatal,description:K(s.error)}),e.error(e,s)}return!e.fail},c.createSessionCache=function(e,t){var r=null;if(e&&e.getSession&&e.setSession&&e.order)r=e;else{for(var i in(r={}).cache=e||{},r.capacity=Math.max(t||100,1),r.order=[],e)r.order.length<=t?r.order.push(i):delete e[i];r.getSession=function(e){var t=null,i=null;if(e?i=n.util.bytesToHex(e):r.order.length>0&&(i=r.order[0]),null!==i&&i in r.cache)for(var s in t=r.cache[i],delete r.cache[i],r.order)if(r.order[s]===i){r.order.splice(s,1);break}return t},r.setSession=function(e,t){if(r.order.length===r.capacity){var i=r.order.shift();delete r.cache[i]}i=n.util.bytesToHex(e);r.order.push(i),r.cache[i]=t}}return r},c.createConnection=function(e){var t=null;t=e.caStore?n.util.isArray(e.caStore)?n.pki.createCaStore(e.caStore):e.caStore:n.pki.createCaStore();var r=e.cipherSuites||null;if(null===r)for(var i in r=[],c.CipherSuites)r.push(c.CipherSuites[i]);var s=e.server?c.ConnectionEnd.server:c.ConnectionEnd.client,a=e.sessionCache?c.createSessionCache(e.sessionCache):null,o={version:{major:c.Version.major,minor:c.Version.minor},entity:s,sessionId:e.sessionId,caStore:t,sessionCache:a,cipherSuites:r,connected:e.connected,virtualHost:e.virtualHost||null,verifyClient:e.verifyClient||!1,verify:e.verify||function(e,t,r,n){return t},verifyOptions:e.verifyOptions||{},getCertificate:e.getCertificate||null,getPrivateKey:e.getPrivateKey||null,getSignature:e.getSignature||null,input:n.util.createBuffer(),tlsData:n.util.createBuffer(),data:n.util.createBuffer(),tlsDataReady:e.tlsDataReady,dataReady:e.dataReady,heartbeatReceived:e.heartbeatReceived,closed:e.closed,error:function(t,r){r.origin=r.origin||(t.entity===c.ConnectionEnd.client?"client":"server"),r.send&&(c.queue(t,c.createAlert(t,r.alert)),c.flush(t));var n=!1!==r.fatal;n&&(t.fail=!0),e.error(t,r),n&&t.close(!1)},deflate:e.deflate||null,inflate:e.inflate||null,reset:function(e){o.version={major:c.Version.major,minor:c.Version.minor},o.record=null,o.session=null,o.peerCertificate=null,o.state={pending:null,current:null},o.expect=(o.entity,c.ConnectionEnd.client,0),o.fragmented=null,o.records=[],o.open=!1,o.handshakes=0,o.handshaking=!1,o.isConnected=!1,o.fail=!(e||void 0===e),o.input.clear(),o.tlsData.clear(),o.data.clear(),o.state.current=c.createConnectionState(o)}};o.reset();return o.handshake=function(e){if(o.entity!==c.ConnectionEnd.client)o.error(o,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(o.handshaking)o.error(o,{message:"Handshake already in progress.",fatal:!1});else{o.fail&&!o.open&&0===o.handshakes&&(o.fail=!1),o.handshaking=!0;var t=null;(e=e||"").length>0&&(o.sessionCache&&(t=o.sessionCache.getSession(e)),null===t&&(e="")),0===e.length&&o.sessionCache&&null!==(t=o.sessionCache.getSession())&&(e=t.id),o.session={id:e,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:n.md.md5.create(),sha1:n.md.sha1.create()},t&&(o.version=t.version,o.session.sp=t.sp),o.session.sp.client_random=c.createRandom().getBytes(),o.open=!0,c.queue(o,c.createRecord(o,{type:c.ContentType.handshake,data:c.createClientHello(o)})),c.flush(o)}},o.process=function(e){var t=0;return e&&o.input.putBytes(e),o.fail||(null!==o.record&&o.record.ready&&o.record.fragment.isEmpty()&&(o.record=null),null===o.record&&(t=function(e){var t=0,r=e.input,i=r.length();if(i<5)t=5-i;else{e.record={type:r.getByte(),version:{major:r.getByte(),minor:r.getByte()},length:r.getInt16(),fragment:n.util.createBuffer(),ready:!1};var s=e.record.version.major===e.version.major;s&&e.session&&e.session.version&&(s=e.record.version.minor===e.version.minor),s||e.error(e,{message:"Incompatible TLS version.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.protocol_version}})}return t}(o)),o.fail||null===o.record||o.record.ready||(t=function(e){var t=0,r=e.input,n=r.length();n<e.record.length?t=e.record.length-n:(e.record.fragment.putBytes(r.getBytes(e.record.length)),r.compact(),e.state.current.read.update(e,e.record)&&(null!==e.fragmented&&(e.fragmented.type===e.record.type?(e.fragmented.fragment.putBuffer(e.record.fragment),e.record=e.fragmented):e.error(e,{message:"Invalid fragmented record.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.unexpected_message}})),e.record.ready=!0));return t}(o)),!o.fail&&null!==o.record&&o.record.ready&&function(e,t){var r=t.type-c.ContentType.change_cipher_spec,n=R[e.entity][e.expect];r in n?n[r](e,t):c.handleUnexpected(e,t)}(o,o.record)),t},o.prepare=function(e){return c.queue(o,c.createRecord(o,{type:c.ContentType.application_data,data:n.util.createBuffer(e)})),c.flush(o)},o.prepareHeartbeatRequest=function(e,t){return e instanceof n.util.ByteBuffer&&(e=e.bytes()),void 0===t&&(t=e.length),o.expectedHeartbeatPayload=e,c.queue(o,c.createRecord(o,{type:c.ContentType.heartbeat,data:c.createHeartbeat(c.HeartbeatMessageType.heartbeat_request,e,t)})),c.flush(o)},o.close=function(e){if(!o.fail&&o.sessionCache&&o.session){var t={id:o.session.id,version:o.session.version,sp:o.session.sp};t.sp.keys=null,o.sessionCache.setSession(t.id,t)}o.open&&(o.open=!1,o.input.clear(),(o.isConnected||o.handshaking)&&(o.isConnected=o.handshaking=!1,c.queue(o,c.createAlert(o,{level:c.Alert.Level.warning,description:c.Alert.Description.close_notify})),c.flush(o)),o.closed(o)),o.reset(e)},o},e.exports=n.tls=n.tls||{},c)"function"!=typeof c[q]&&(n.tls[q]=c[q]);n.tls.prf_tls1=i,n.tls.hmac_sha1=function(e,t,r){var i=n.hmac.create();i.start("SHA1",e);var s=n.util.createBuffer();return s.putInt32(t[0]),s.putInt32(t[1]),s.putByte(r.type),s.putByte(r.version.major),s.putByte(r.version.minor),s.putInt16(r.length),s.putBytes(r.fragment.bytes()),i.update(s.getBytes()),i.digest().getBytes()},n.tls.createSessionCache=c.createSessionCache,n.tls.createConnection=c.createConnection},function(e,t,r){var n=r(0);r(5),r(10),r(64),r(12),r(35),r(70),r(37),r(22),r(1),r(36);var i=n.asn1,s=e.exports=n.pki=n.pki||{};s.pemToDer=function(e){var t=n.pem.decode(e)[0];if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert PEM to DER; PEM is encrypted.");return n.util.createBuffer(t.body)},s.privateKeyFromPem=function(e){var t=n.pem.decode(e)[0];if("PRIVATE KEY"!==t.type&&"RSA PRIVATE KEY"!==t.type){var r=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw r.headerType=t.type,r}if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert private key from PEM; PEM is encrypted.");var a=i.fromDer(t.body);return s.privateKeyFromAsn1(a)},s.privateKeyToPem=function(e,t){var r={type:"RSA PRIVATE KEY",body:i.toDer(s.privateKeyToAsn1(e)).getBytes()};return n.pem.encode(r,{maxline:t})},s.privateKeyInfoToPem=function(e,t){var r={type:"PRIVATE KEY",body:i.toDer(e).getBytes()};return n.pem.encode(r,{maxline:t})}},function(e,t,r){var n=r(0);if(r(9),r(5),r(21),r(7),r(10),r(35),r(12),r(4),r(67),r(22),r(1),void 0===i)var i=n.jsbn.BigInteger;var s=n.asn1,a=n.pki=n.pki||{};e.exports=a.pbe=n.pbe=n.pbe||{};var o=a.oids,u={name:"EncryptedPrivateKeyInfo",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:s.Class.UNIVERSAL,type:s.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},c={name:"PBES2Algorithms",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:s.Class.UNIVERSAL,type:s.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:s.Class.UNIVERSAL,type:s.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},l={name:"pkcs-12PbeParams",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:s.Class.UNIVERSAL,type:s.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"iterations"}]};function f(e,t){return e.start().update(t).digest().getBytes()}function h(e){var t;if(e){if(!(t=a.oids[s.derToOid(e)])){var r=new Error("Unsupported PRF OID.");throw r.oid=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}}else t="hmacWithSHA1";return p(t)}function p(e){var t=n.md;switch(e){case"hmacWithSHA224":t=n.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":e=e.substr(8).toLowerCase();break;default:var r=new Error("Unsupported PRF algorithm.");throw r.algorithm=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}if(!t||!(e in t))throw new Error("Unknown hash algorithm: "+e);return t[e].create()}a.encryptPrivateKeyInfo=function(e,t,r){(r=r||{}).saltSize=r.saltSize||8,r.count=r.count||2048,r.algorithm=r.algorithm||"aes128",r.prfAlgorithm=r.prfAlgorithm||"sha1";var i,u,c,l=n.random.getBytesSync(r.saltSize),f=r.count,h=s.integerToDer(f);if(0===r.algorithm.indexOf("aes")||"des"===r.algorithm){var d,g,y;switch(r.algorithm){case"aes128":i=16,d=16,g=o["aes128-CBC"],y=n.aes.createEncryptionCipher;break;case"aes192":i=24,d=16,g=o["aes192-CBC"],y=n.aes.createEncryptionCipher;break;case"aes256":i=32,d=16,g=o["aes256-CBC"],y=n.aes.createEncryptionCipher;break;case"des":i=8,d=8,g=o.desCBC,y=n.des.createEncryptionCipher;break;default:throw(S=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=r.algorithm,S}var m="hmacWith"+r.prfAlgorithm.toUpperCase(),v=p(m),C=n.pkcs5.pbkdf2(t,l,f,i,v),E=n.random.getBytesSync(d);(w=y(C)).start(E),w.update(s.toDer(e)),w.finish(),c=w.output.getBytes();var b=function(e,t,r,i){var o=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OCTETSTRING,!1,e),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,t.getBytes())]);"hmacWithSHA1"!==i&&o.value.push(s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,n.util.hexToBytes(r.toString(16))),s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(a.oids[i]).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.NULL,!1,"")]));return o}(l,h,i,m);u=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(o.pkcs5PBES2).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(o.pkcs5PBKDF2).getBytes()),b]),s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(g).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.OCTETSTRING,!1,E)])])])}else{var S;if("3des"!==r.algorithm)throw(S=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=r.algorithm,S;i=24;var w,_=new n.util.ByteBuffer(l);C=a.pbe.generatePkcs12Key(t,_,1,f,i),E=a.pbe.generatePkcs12Key(t,_,2,f,i);(w=n.des.createEncryptionCipher(C)).start(E),w.update(s.toDer(e)),w.finish(),c=w.output.getBytes(),u=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(o["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OCTETSTRING,!1,l),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,h.getBytes())])])}return s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[u,s.create(s.Class.UNIVERSAL,s.Type.OCTETSTRING,!1,c)])},a.decryptPrivateKeyInfo=function(e,t){var r=null,i={},o=[];if(!s.validate(e,u,i,o)){var c=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw c.errors=o,c}var l=s.derToOid(i.encryptionOid),f=a.pbe.getCipher(l,i.encryptionParams,t),h=n.util.createBuffer(i.encryptedData);return f.update(h),f.finish()&&(r=s.fromDer(f.output)),r},a.encryptedPrivateKeyToPem=function(e,t){var r={type:"ENCRYPTED PRIVATE KEY",body:s.toDer(e).getBytes()};return n.pem.encode(r,{maxline:t})},a.encryptedPrivateKeyFromPem=function(e){var t=n.pem.decode(e)[0];if("ENCRYPTED PRIVATE KEY"!==t.type){var r=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw r.headerType=t.type,r}if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return s.fromDer(t.body)},a.encryptRsaPrivateKey=function(e,t,r){if(!(r=r||{}).legacy){var i=a.wrapRsaPrivateKey(a.privateKeyToAsn1(e));return i=a.encryptPrivateKeyInfo(i,t,r),a.encryptedPrivateKeyToPem(i)}var o,u,c,l;switch(r.algorithm){case"aes128":o="AES-128-CBC",c=16,u=n.random.getBytesSync(16),l=n.aes.createEncryptionCipher;break;case"aes192":o="AES-192-CBC",c=24,u=n.random.getBytesSync(16),l=n.aes.createEncryptionCipher;break;case"aes256":o="AES-256-CBC",c=32,u=n.random.getBytesSync(16),l=n.aes.createEncryptionCipher;break;case"3des":o="DES-EDE3-CBC",c=24,u=n.random.getBytesSync(8),l=n.des.createEncryptionCipher;break;case"des":o="DES-CBC",c=8,u=n.random.getBytesSync(8),l=n.des.createEncryptionCipher;break;default:var f=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+r.algorithm+'".');throw f.algorithm=r.algorithm,f}var h=l(n.pbe.opensslDeriveBytes(t,u.substr(0,8),c));h.start(u),h.update(s.toDer(a.privateKeyToAsn1(e))),h.finish();var p={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:o,parameters:n.util.bytesToHex(u).toUpperCase()},body:h.output.getBytes()};return n.pem.encode(p)},a.decryptRsaPrivateKey=function(e,t){var r=null,i=n.pem.decode(e)[0];if("ENCRYPTED PRIVATE KEY"!==i.type&&"PRIVATE KEY"!==i.type&&"RSA PRIVATE KEY"!==i.type)throw(c=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".')).headerType=c,c;if(i.procType&&"ENCRYPTED"===i.procType.type){var o,u;switch(i.dekInfo.algorithm){case"DES-CBC":o=8,u=n.des.createDecryptionCipher;break;case"DES-EDE3-CBC":o=24,u=n.des.createDecryptionCipher;break;case"AES-128-CBC":o=16,u=n.aes.createDecryptionCipher;break;case"AES-192-CBC":o=24,u=n.aes.createDecryptionCipher;break;case"AES-256-CBC":o=32,u=n.aes.createDecryptionCipher;break;case"RC2-40-CBC":o=5,u=function(e){return n.rc2.createDecryptionCipher(e,40)};break;case"RC2-64-CBC":o=8,u=function(e){return n.rc2.createDecryptionCipher(e,64)};break;case"RC2-128-CBC":o=16,u=function(e){return n.rc2.createDecryptionCipher(e,128)};break;default:var c;throw(c=new Error('Could not decrypt private key; unsupported encryption algorithm "'+i.dekInfo.algorithm+'".')).algorithm=i.dekInfo.algorithm,c}var l=n.util.hexToBytes(i.dekInfo.parameters),f=u(n.pbe.opensslDeriveBytes(t,l.substr(0,8),o));if(f.start(l),f.update(n.util.createBuffer(i.body)),!f.finish())return r;r=f.output.getBytes()}else r=i.body;return null!==(r="ENCRYPTED PRIVATE KEY"===i.type?a.decryptPrivateKeyInfo(s.fromDer(r),t):s.fromDer(r))&&(r=a.privateKeyFromAsn1(r)),r},a.pbe.generatePkcs12Key=function(e,t,r,i,s,a){var o,u;if(null==a){if(!("sha1"in n.md))throw new Error('"sha1" hash algorithm unavailable.');a=n.md.sha1.create()}var c=a.digestLength,l=a.blockLength,f=new n.util.ByteBuffer,h=new n.util.ByteBuffer;if(null!=e){for(u=0;u<e.length;u++)h.putInt16(e.charCodeAt(u));h.putInt16(0)}var p=h.length(),d=t.length(),g=new n.util.ByteBuffer;g.fillWithByte(r,l);var y=l*Math.ceil(d/l),m=new n.util.ByteBuffer;for(u=0;u<y;u++)m.putByte(t.at(u%d));var v=l*Math.ceil(p/l),C=new n.util.ByteBuffer;for(u=0;u<v;u++)C.putByte(h.at(u%p));var E=m;E.putBuffer(C);for(var b=Math.ceil(s/c),S=1;S<=b;S++){var w=new n.util.ByteBuffer;w.putBytes(g.bytes()),w.putBytes(E.bytes());for(var _=0;_<i;_++)a.start(),a.update(w.getBytes()),w=a.digest();var T=new n.util.ByteBuffer;for(u=0;u<l;u++)T.putByte(w.at(u%c));var A=Math.ceil(d/l)+Math.ceil(p/l),I=new n.util.ByteBuffer;for(o=0;o<A;o++){var B=new n.util.ByteBuffer(E.getBytes(l)),k=511;for(u=T.length()-1;u>=0;u--)k>>=8,k+=T.at(u)+B.at(u),B.setAt(u,255&k);I.putBuffer(B)}E=I,f.putBuffer(w)}return f.truncate(f.length()-s),f},a.pbe.getCipher=function(e,t,r){switch(e){case a.oids.pkcs5PBES2:return a.pbe.getCipherForPBES2(e,t,r);case a.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case a.oids["pbewithSHAAnd40BitRC2-CBC"]:return a.pbe.getCipherForPKCS12PBE(e,t,r);default:var n=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw n.oid=e,n.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],n}},a.pbe.getCipherForPBES2=function(e,t,r){var i,o={},u=[];if(!s.validate(t,c,o,u))throw(i=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=u,i;if((e=s.derToOid(o.kdfOid))!==a.oids.pkcs5PBKDF2)throw(i=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.")).oid=e,i.supportedOids=["pkcs5PBKDF2"],i;if((e=s.derToOid(o.encOid))!==a.oids["aes128-CBC"]&&e!==a.oids["aes192-CBC"]&&e!==a.oids["aes256-CBC"]&&e!==a.oids["des-EDE3-CBC"]&&e!==a.oids.desCBC)throw(i=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.")).oid=e,i.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],i;var l,f,p=o.kdfSalt,d=n.util.createBuffer(o.kdfIterationCount);switch(d=d.getInt(d.length()<<3),a.oids[e]){case"aes128-CBC":l=16,f=n.aes.createDecryptionCipher;break;case"aes192-CBC":l=24,f=n.aes.createDecryptionCipher;break;case"aes256-CBC":l=32,f=n.aes.createDecryptionCipher;break;case"des-EDE3-CBC":l=24,f=n.des.createDecryptionCipher;break;case"desCBC":l=8,f=n.des.createDecryptionCipher}var g=h(o.prfOid),y=n.pkcs5.pbkdf2(r,p,d,l,g),m=o.encIv,v=f(y);return v.start(m),v},a.pbe.getCipherForPKCS12PBE=function(e,t,r){var i={},o=[];if(!s.validate(t,l,i,o))throw(g=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=o,g;var u,c,f,p=n.util.createBuffer(i.salt),d=n.util.createBuffer(i.iterations);switch(d=d.getInt(d.length()<<3),e){case a.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:u=24,c=8,f=n.des.startDecrypting;break;case a.oids["pbewithSHAAnd40BitRC2-CBC"]:u=5,c=8,f=function(e,t){var r=n.rc2.createDecryptionCipher(e,40);return r.start(t,null),r};break;default:var g;throw(g=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.")).oid=e,g}var y=h(i.prfOid),m=a.pbe.generatePkcs12Key(r,p,1,d,u,y);return y.start(),f(m,a.pbe.generatePkcs12Key(r,p,2,d,c,y))},a.pbe.opensslDeriveBytes=function(e,t,r,i){if(null==i){if(!("md5"in n.md))throw new Error('"md5" hash algorithm unavailable.');i=n.md.md5.create()}null===t&&(t="");for(var s=[f(i,e+t)],a=16,o=1;a<r;++o,a+=16)s.push(f(i,s[o-1]+e+t));return s.join("").substr(0,r)}},function(e,t,r){var n=r(0);r(7),r(1);var i=e.exports=n.sha256=n.sha256||{};n.md.sha256=n.md.algorithms.sha256=i,i.create=function(){a||(s=String.fromCharCode(128),s+=n.util.fillString(String.fromCharCode(0),64),o=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=!0);var e=null,t=n.util.createBuffer(),r=new Array(64),i={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){i.messageLength=0,i.fullMessageLength=i.messageLength64=[];for(var r=i.messageLengthSize/4,s=0;s<r;++s)i.fullMessageLength.push(0);return t=n.util.createBuffer(),e={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},i}};return i.start(),i.update=function(s,a){"utf8"===a&&(s=n.util.encodeUtf8(s));var o=s.length;i.messageLength+=o,o=[o/4294967296>>>0,o>>>0];for(var c=i.fullMessageLength.length-1;c>=0;--c)i.fullMessageLength[c]+=o[1],o[1]=o[0]+(i.fullMessageLength[c]/4294967296>>>0),i.fullMessageLength[c]=i.fullMessageLength[c]>>>0,o[0]=o[1]/4294967296>>>0;return t.putBytes(s),u(e,r,t),(t.read>2048||0===t.length())&&t.compact(),i},i.digest=function(){var a=n.util.createBuffer();a.putBytes(t.bytes());var o,c=i.fullMessageLength[i.fullMessageLength.length-1]+i.messageLengthSize&i.blockLength-1;a.putBytes(s.substr(0,i.blockLength-c));for(var l=8*i.fullMessageLength[0],f=0;f<i.fullMessageLength.length-1;++f)l+=(o=8*i.fullMessageLength[f+1])/4294967296>>>0,a.putInt32(l>>>0),l=o>>>0;a.putInt32(l);var h={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4,h5:e.h5,h6:e.h6,h7:e.h7};u(h,r,a);var p=n.util.createBuffer();return p.putInt32(h.h0),p.putInt32(h.h1),p.putInt32(h.h2),p.putInt32(h.h3),p.putInt32(h.h4),p.putInt32(h.h5),p.putInt32(h.h6),p.putInt32(h.h7),p},i};var s=null,a=!1,o=null;function u(e,t,r){for(var n,i,s,a,u,c,l,f,h,p,d,g,y,m=r.length();m>=64;){for(u=0;u<16;++u)t[u]=r.getInt32();for(;u<64;++u)n=((n=t[u-2])>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,i=((i=t[u-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,t[u]=n+t[u-7]+i+t[u-16]|0;for(c=e.h0,l=e.h1,f=e.h2,h=e.h3,p=e.h4,d=e.h5,g=e.h6,y=e.h7,u=0;u<64;++u)s=(c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),a=c&l|f&(c^l),n=y+((p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+(g^p&(d^g))+o[u]+t[u],y=g,g=d,d=p,p=h+n>>>0,h=f,f=l,l=c,c=n+(i=s+a)>>>0;e.h0=e.h0+c|0,e.h1=e.h1+l|0,e.h2=e.h2+f|0,e.h3=e.h3+h|0,e.h4=e.h4+p|0,e.h5=e.h5+d|0,e.h6=e.h6+g|0,e.h7=e.h7+y|0,m-=64}}},function(e,t,r){var n=r(0);r(1);var i=null;!n.util.isNodejs||n.options.usePureJavaScript||process.versions["node-webkit"]||(i=r(13)),(e.exports=n.prng=n.prng||{}).create=function(e){for(var t={plugin:e,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},r=e.md,s=new Array(32),a=0;a<32;++a)s[a]=r.create();function o(){if(t.pools[0].messageLength>=32)return u();var e=32-t.pools[0].messageLength<<5;t.collect(t.seedFileSync(e)),u()}function u(){t.reseeds=4294967295===t.reseeds?0:t.reseeds+1;var e=t.plugin.md.create();e.update(t.keyBytes);for(var r=1,n=0;n<32;++n)t.reseeds%r==0&&(e.update(t.pools[n].digest().getBytes()),t.pools[n].start()),r<<=1;t.keyBytes=e.digest().getBytes(),e.start(),e.update(t.keyBytes);var i=e.digest().getBytes();t.key=t.plugin.formatKey(t.keyBytes),t.seed=t.plugin.formatSeed(i),t.generated=0}function c(e){var t=null,r=n.util.globalScope,i=r.crypto||r.msCrypto;i&&i.getRandomValues&&(t=function(e){return i.getRandomValues(e)});var s=n.util.createBuffer();if(t)for(;s.length()<e;){var a=Math.max(1,Math.min(e-s.length(),65536)/4),o=new Uint32Array(Math.floor(a));try{t(o);for(var u=0;u<o.length;++u)s.putInt32(o[u])}catch(e){if(!("undefined"!=typeof QuotaExceededError&&e instanceof QuotaExceededError))throw e}}if(s.length()<e)for(var c,l,f,h=Math.floor(65536*Math.random());s.length()<e;){l=16807*(65535&h),l+=(32767&(c=16807*(h>>16)))<<16,h=4294967295&(l=(2147483647&(l+=c>>15))+(l>>31));for(u=0;u<3;++u)f=h>>>(u<<3),f^=Math.floor(256*Math.random()),s.putByte(String.fromCharCode(255&f))}return s.getBytes(e)}return t.pools=s,t.pool=0,t.generate=function(e,r){if(!r)return t.generateSync(e);var i=t.plugin.cipher,s=t.plugin.increment,a=t.plugin.formatKey,o=t.plugin.formatSeed,c=n.util.createBuffer();t.key=null,function l(f){if(f)return r(f);if(c.length()>=e)return r(null,c.getBytes(e));t.generated>1048575&&(t.key=null);if(null===t.key)return n.util.nextTick((function(){!function(e){if(t.pools[0].messageLength>=32)return u(),e();var r=32-t.pools[0].messageLength<<5;t.seedFile(r,(function(r,n){if(r)return e(r);t.collect(n),u(),e()}))}(l)}));var h=i(t.key,t.seed);t.generated+=h.length,c.putBytes(h),t.key=a(i(t.key,s(t.seed))),t.seed=o(i(t.key,t.seed)),n.util.setImmediate(l)}()},t.generateSync=function(e){var r=t.plugin.cipher,i=t.plugin.increment,s=t.plugin.formatKey,a=t.plugin.formatSeed;t.key=null;for(var u=n.util.createBuffer();u.length()<e;){t.generated>1048575&&(t.key=null),null===t.key&&o();var c=r(t.key,t.seed);t.generated+=c.length,u.putBytes(c),t.key=s(r(t.key,i(t.seed))),t.seed=a(r(t.key,t.seed))}return u.getBytes(e)},i?(t.seedFile=function(e,t){i.randomBytes(e,(function(e,r){if(e)return t(e);t(null,r.toString())}))},t.seedFileSync=function(e){return i.randomBytes(e).toString()}):(t.seedFile=function(e,t){try{t(null,c(e))}catch(e){t(e)}},t.seedFileSync=c),t.collect=function(e){for(var r=e.length,n=0;n<r;++n)t.pools[t.pool].update(e.substr(n,1)),t.pool=31===t.pool?0:t.pool+1},t.collectInt=function(e,r){for(var n="",i=0;i<r;i+=8)n+=String.fromCharCode(e>>i&255);t.collect(n)},t.registerWorker=function(e){if(e===self)t.seedFile=function(e,t){self.addEventListener("message",(function e(r){var n=r.data;n.forge&&n.forge.prng&&(self.removeEventListener("message",e),t(n.forge.prng.err,n.forge.prng.bytes))})),self.postMessage({forge:{prng:{needed:e}}})};else{e.addEventListener("message",(function(r){var n=r.data;n.forge&&n.forge.prng&&t.seedFile(n.forge.prng.needed,(function(t,r){e.postMessage({forge:{prng:{err:t,bytes:r}}})}))}))}},t}},function(e,t,r){var n=r(0);r(1);var i=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],s=[1,2,3,5],a=function(e,t){return e<<t&65535|(65535&e)>>16-t},o=function(e,t){return(65535&e)>>t|e<<16-t&65535};e.exports=n.rc2=n.rc2||{},n.rc2.expandKey=function(e,t){"string"==typeof e&&(e=n.util.createBuffer(e)),t=t||128;var r,s=e,a=e.length(),o=t,u=Math.ceil(o/8),c=255>>(7&o);for(r=a;r<128;r++)s.putByte(i[s.at(r-1)+s.at(r-a)&255]);for(s.setAt(128-u,i[s.at(128-u)&c]),r=127-u;r>=0;r--)s.setAt(r,i[s.at(r+1)^s.at(r+u)]);return s};var u=function(e,t,r){var i,u,c,l,f=!1,h=null,p=null,d=null,g=[];for(e=n.rc2.expandKey(e,t),c=0;c<64;c++)g.push(e.getInt16Le());r?(i=function(e){for(c=0;c<4;c++)e[c]+=g[l]+(e[(c+3)%4]&e[(c+2)%4])+(~e[(c+3)%4]&e[(c+1)%4]),e[c]=a(e[c],s[c]),l++},u=function(e){for(c=0;c<4;c++)e[c]+=g[63&e[(c+3)%4]]}):(i=function(e){for(c=3;c>=0;c--)e[c]=o(e[c],s[c]),e[c]-=g[l]+(e[(c+3)%4]&e[(c+2)%4])+(~e[(c+3)%4]&e[(c+1)%4]),l--},u=function(e){for(c=3;c>=0;c--)e[c]-=g[63&e[(c+3)%4]]});var y=function(e){var t=[];for(c=0;c<4;c++){var n=h.getInt16Le();null!==d&&(r?n^=d.getInt16Le():d.putInt16Le(n)),t.push(65535&n)}l=r?0:63;for(var i=0;i<e.length;i++)for(var s=0;s<e[i][0];s++)e[i][1](t);for(c=0;c<4;c++)null!==d&&(r?d.putInt16Le(t[c]):t[c]^=d.getInt16Le()),p.putInt16Le(t[c])},m=null;return m={start:function(e,t){e&&"string"==typeof e&&(e=n.util.createBuffer(e)),f=!1,h=n.util.createBuffer(),p=t||new n.util.createBuffer,d=e,m.output=p},update:function(e){for(f||h.putBuffer(e);h.length()>=8;)y([[5,i],[1,u],[6,i],[1,u],[5,i]])},finish:function(e){var t=!0;if(r)if(e)t=e(8,h,!r);else{var n=8===h.length()?8:8-h.length();h.fillWithByte(n,n)}if(t&&(f=!0,m.update()),!r&&(t=0===h.length()))if(e)t=e(8,p,!r);else{var i=p.length(),s=p.at(i-1);s>i?t=!1:p.truncate(s)}return t}}};n.rc2.startEncrypting=function(e,t,r){var i=n.rc2.createEncryptionCipher(e,128);return i.start(t,r),i},n.rc2.createEncryptionCipher=function(e,t){return u(e,t,!0)},n.rc2.startDecrypting=function(e,t,r){var i=n.rc2.createDecryptionCipher(e,128);return i.start(t,r),i},n.rc2.createDecryptionCipher=function(e,t){return u(e,t,!1)}},function(e,t,r){var n=r(0);r(1),r(4),r(17);var i=e.exports=n.pkcs1=n.pkcs1||{};function s(e,t,r){r||(r=n.md.sha1.create());for(var i="",s=Math.ceil(t/r.digestLength),a=0;a<s;++a){var o=String.fromCharCode(a>>24&255,a>>16&255,a>>8&255,255&a);r.start(),r.update(e+o),i+=r.digest().getBytes()}return i.substring(0,t)}i.encode_rsa_oaep=function(e,t,r){var i,a,o,u;"string"==typeof r?(i=r,a=arguments[3]||void 0,o=arguments[4]||void 0):r&&(i=r.label||void 0,a=r.seed||void 0,o=r.md||void 0,r.mgf1&&r.mgf1.md&&(u=r.mgf1.md)),o?o.start():o=n.md.sha1.create(),u||(u=o);var c=Math.ceil(e.n.bitLength()/8),l=c-2*o.digestLength-2;if(t.length>l)throw(y=new Error("RSAES-OAEP input message length is too long.")).length=t.length,y.maxLength=l,y;i||(i=""),o.update(i,"raw");for(var f=o.digest(),h="",p=l-t.length,d=0;d<p;d++)h+="\0";var g=f.getBytes()+h+""+t;if(a){if(a.length!==o.digestLength){var y;throw(y=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.")).seedLength=a.length,y.digestLength=o.digestLength,y}}else a=n.random.getBytes(o.digestLength);var m=s(a,c-o.digestLength-1,u),v=n.util.xorBytes(g,m,g.length),C=s(v,o.digestLength,u),E=n.util.xorBytes(a,C,a.length);return"\0"+E+v},i.decode_rsa_oaep=function(e,t,r){var i,a,o;"string"==typeof r?(i=r,a=arguments[3]||void 0):r&&(i=r.label||void 0,a=r.md||void 0,r.mgf1&&r.mgf1.md&&(o=r.mgf1.md));var u=Math.ceil(e.n.bitLength()/8);if(t.length!==u)throw(v=new Error("RSAES-OAEP encoded message length is invalid.")).length=t.length,v.expectedLength=u,v;if(void 0===a?a=n.md.sha1.create():a.start(),o||(o=a),u<2*a.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");i||(i=""),a.update(i,"raw");for(var c=a.digest().getBytes(),l=t.charAt(0),f=t.substring(1,a.digestLength+1),h=t.substring(1+a.digestLength),p=s(h,a.digestLength,o),d=n.util.xorBytes(f,p,f.length),g=s(d,u-a.digestLength-1,o),y=n.util.xorBytes(h,g,h.length),m=y.substring(0,a.digestLength),v="\0"!==l,C=0;C<a.digestLength;++C)v|=c.charAt(C)!==m.charAt(C);for(var E=1,b=a.digestLength,S=a.digestLength;S<y.length;S++){var w=y.charCodeAt(S),_=1&w^1,T=E?65534:0;v|=w&T,b+=E&=_}if(v||1!==y.charCodeAt(b))throw new Error("Invalid RSAES-OAEP padding.");return y.substring(b+1)}},function(e,t,r){var n=r(0);r(1),r(23),r(4),function(){if(n.prime)e.exports=n.prime;else{var t=e.exports=n.prime=n.prime||{},r=n.jsbn.BigInteger,i=[6,4,2,4,2,4,6,2],s=new r(null);s.fromInt(30);var a=function(e,t){return e|t};t.generateProbablePrime=function(e,t,i){"function"==typeof t&&(i=t,t={});var s=(t=t||{}).algorithm||"PRIMEINC";"string"==typeof s&&(s={name:s}),s.options=s.options||{};var a=t.prng||n.random,c={nextBytes:function(e){for(var t=a.getBytesSync(e.length),r=0;r<e.length;++r)e[r]=t.charCodeAt(r)}};if("PRIMEINC"===s.name)return function(e,t,i,s){if("workers"in i)return function(e,t,i,s){if("undefined"==typeof Worker)return o(e,t,i,s);var a=u(e,t),c=i.workers,l=i.workLoad||100,f=30*l/8,h=i.workerScript||"forge/prime.worker.js";if(-1===c)return n.util.estimateCores((function(e,t){e&&(t=2),c=t-1,p()}));function p(){c=Math.max(1,c);for(var n=[],i=0;i<c;++i)n[i]=new Worker(h);for(i=0;i<c;++i)n[i].addEventListener("message",p);var o=!1;function p(i){if(!o){0;var c=i.data;if(c.found){for(var h=0;h<n.length;++h)n[h].terminate();return o=!0,s(null,new r(c.prime,16))}a.bitLength()>e&&(a=u(e,t));var p=a.toString(16);i.target.postMessage({hex:p,workLoad:l}),a.dAddOffset(f,0)}}}p()}(e,t,i,s);return o(e,t,i,s)}(e,c,s.options,i);throw new Error("Invalid prime generation algorithm: "+s.name)}}function o(e,t,r,s){var a=u(e,t),o=function(e){return e<=100?27:e<=150?18:e<=200?15:e<=250?12:e<=300?9:e<=350?8:e<=400?7:e<=500?6:e<=600?5:e<=800?4:e<=1250?3:2}(a.bitLength());"millerRabinTests"in r&&(o=r.millerRabinTests);var c=10;"maxBlockTime"in r&&(c=r.maxBlockTime),function e(t,r,s,a,o,c,l){var f=+new Date;do{if(t.bitLength()>r&&(t=u(r,s)),t.isProbablePrime(o))return l(null,t);t.dAddOffset(i[a++%8],0)}while(c<0||+new Date-f<c);n.util.setImmediate((function(){e(t,r,s,a,o,c,l)}))}(a,e,t,0,o,c,s)}function u(e,t){var n=new r(e,t),i=e-1;return n.testBit(i)||n.bitwiseTo(r.ONE.shiftLeft(i),a,n),n.dAddOffset(31-n.mod(s).byteValue(),0),n}}()},function(e,t,r){var n=r(0);r(5),r(16),r(10),r(71),r(64),r(4),r(22),r(17),r(1),r(36);var i=n.asn1,s=n.pki,a=e.exports=n.pkcs12=n.pkcs12||{},o={name:"ContentInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:i.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},u={name:"PFX",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"},o,{name:"PFX.macData",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:i.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},c={name:"SafeBag",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:i.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},l={name:"Attribute",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,constructed:!0,capture:"values"}]},f={name:"CertBag",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:i.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:i.Class.UNIVERSAL,type:i.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function h(e,t,r,n){for(var i=[],s=0;s<e.length;s++)for(var a=0;a<e[s].safeBags.length;a++){var o=e[s].safeBags[a];void 0!==n&&o.type!==n||(null!==t?void 0!==o.attributes[t]&&o.attributes[t].indexOf(r)>=0&&i.push(o):i.push(o))}return i}function p(e){if(e.composed||e.constructed){for(var t=n.util.createBuffer(),r=0;r<e.value.length;++r)t.putBytes(e.value[r].value);e.composed=e.constructed=!1,e.value=t.getBytes()}return e}function d(e,t){var r={},a=[];if(!i.validate(e,n.pkcs7.asn1.encryptedDataValidator,r,a))throw(o=new Error("Cannot read EncryptedContentInfo.")).errors=a,o;var o,u=i.derToOid(r.contentType);if(u!==s.oids.data)throw(o=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.")).oid=u,o;u=i.derToOid(r.encAlgorithm);var c=s.pbe.getCipher(u,r.encParameter,t),l=p(r.encryptedContentAsn1),f=n.util.createBuffer(l.value);if(c.update(f),!c.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return c.output.getBytes()}function g(e,t,r){if(!t&&0===e.length)return[];if((e=i.fromDer(e,t)).tagClass!==i.Class.UNIVERSAL||e.type!==i.Type.SEQUENCE||!0!==e.constructed)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var n=[],a=0;a<e.value.length;a++){var o=e.value[a],u={},l=[];if(!i.validate(o,c,u,l))throw(m=new Error("Cannot read SafeBag.")).errors=l,m;var h,p,d={type:i.derToOid(u.bagId),attributes:y(u.bagAttributes)};n.push(d);var g=u.bagValue.value[0];switch(d.type){case s.oids.pkcs8ShroudedKeyBag:if(null===(g=s.decryptPrivateKeyInfo(g,r)))throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case s.oids.keyBag:try{d.key=s.privateKeyFromAsn1(g)}catch(e){d.key=null,d.asn1=g}continue;case s.oids.certBag:h=f,p=function(){if(i.derToOid(u.certId)!==s.oids.x509Certificate){var e=new Error("Unsupported certificate type, only X.509 supported.");throw e.oid=i.derToOid(u.certId),e}var r=i.fromDer(u.cert,t);try{d.cert=s.certificateFromAsn1(r,!0)}catch(e){d.cert=null,d.asn1=r}};break;default:var m;throw(m=new Error("Unsupported PKCS#12 SafeBag type.")).oid=d.type,m}if(void 0!==h&&!i.validate(g,h,u,l))throw(m=new Error("Cannot read PKCS#12 "+h.name)).errors=l,m;p()}return n}function y(e){var t={};if(void 0!==e)for(var r=0;r<e.length;++r){var n={},a=[];if(!i.validate(e[r],l,n,a)){var o=new Error("Cannot read PKCS#12 BagAttribute.");throw o.errors=a,o}var u=i.derToOid(n.oid);if(void 0!==s.oids[u]){t[s.oids[u]]=[];for(var c=0;c<n.values.length;++c)t[s.oids[u]].push(n.values[c].value)}}return t}a.pkcs12FromAsn1=function(e,t,r){"string"==typeof t?(r=t,t=!0):void 0===t&&(t=!0);var c={};if(!i.validate(e,u,c,[]))throw(l=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.")).errors=l,l;var l,f={version:c.version.charCodeAt(0),safeContents:[],getBags:function(e){var t,r={};return"localKeyId"in e?t=e.localKeyId:"localKeyIdHex"in e&&(t=n.util.hexToBytes(e.localKeyIdHex)),void 0===t&&!("friendlyName"in e)&&"bagType"in e&&(r[e.bagType]=h(f.safeContents,null,null,e.bagType)),void 0!==t&&(r.localKeyId=h(f.safeContents,"localKeyId",t,e.bagType)),"friendlyName"in e&&(r.friendlyName=h(f.safeContents,"friendlyName",e.friendlyName,e.bagType)),r},getBagsByFriendlyName:function(e,t){return h(f.safeContents,"friendlyName",e,t)},getBagsByLocalKeyId:function(e,t){return h(f.safeContents,"localKeyId",e,t)}};if(3!==c.version.charCodeAt(0))throw(l=new Error("PKCS#12 PFX of version other than 3 not supported.")).version=c.version.charCodeAt(0),l;if(i.derToOid(c.contentType)!==s.oids.data)throw(l=new Error("Only PKCS#12 PFX in password integrity mode supported.")).oid=i.derToOid(c.contentType),l;var y=c.content.value[0];if(y.tagClass!==i.Class.UNIVERSAL||y.type!==i.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(y=p(y),c.mac){var m=null,v=0,C=i.derToOid(c.macAlgorithm);switch(C){case s.oids.sha1:m=n.md.sha1.create(),v=20;break;case s.oids.sha256:m=n.md.sha256.create(),v=32;break;case s.oids.sha384:m=n.md.sha384.create(),v=48;break;case s.oids.sha512:m=n.md.sha512.create(),v=64;break;case s.oids.md5:m=n.md.md5.create(),v=16}if(null===m)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+C);var E=new n.util.ByteBuffer(c.macSalt),b="macIterations"in c?parseInt(n.util.bytesToHex(c.macIterations),16):1,S=a.generateKey(r,E,3,b,v,m),w=n.hmac.create();if(w.start(m,S),w.update(y.value),w.getMac().getBytes()!==c.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return function(e,t,r,n){if((t=i.fromDer(t,r)).tagClass!==i.Class.UNIVERSAL||t.type!==i.Type.SEQUENCE||!0!==t.constructed)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var a=0;a<t.value.length;a++){var u=t.value[a],c={},l=[];if(!i.validate(u,o,c,l))throw(m=new Error("Cannot read ContentInfo.")).errors=l,m;var f={encrypted:!1},h=null,y=c.content.value[0];switch(i.derToOid(c.contentType)){case s.oids.data:if(y.tagClass!==i.Class.UNIVERSAL||y.type!==i.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");h=p(y).value;break;case s.oids.encryptedData:h=d(y,n),f.encrypted=!0;break;default:var m;throw(m=new Error("Unsupported PKCS#12 contentType.")).contentType=i.derToOid(c.contentType),m}f.safeBags=g(h,r,n),e.safeContents.push(f)}}(f,y.value,t,r),f},a.toPkcs12Asn1=function(e,t,r,o){(o=o||{}).saltSize=o.saltSize||8,o.count=o.count||2048,o.algorithm=o.algorithm||o.encAlgorithm||"aes128","useMac"in o||(o.useMac=!0),"localKeyId"in o||(o.localKeyId=null),"generateLocalKeyId"in o||(o.generateLocalKeyId=!0);var u,c=o.localKeyId;if(null!==c)c=n.util.hexToBytes(c);else if(o.generateLocalKeyId)if(t){var l=n.util.isArray(t)?t[0]:t;"string"==typeof l&&(l=s.certificateFromPem(l)),(I=n.md.sha1.create()).update(i.toDer(s.certificateToAsn1(l)).getBytes()),c=I.digest().getBytes()}else c=n.random.getBytes(20);var f=[];null!==c&&f.push(i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(s.oids.localKeyId).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,c)])])),"friendlyName"in o&&f.push(i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(s.oids.friendlyName).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[i.create(i.Class.UNIVERSAL,i.Type.BMPSTRING,!1,o.friendlyName)])])),f.length>0&&(u=i.create(i.Class.UNIVERSAL,i.Type.SET,!0,f));var h=[],p=[];null!==t&&(p=n.util.isArray(t)?t:[t]);for(var d=[],g=0;g<p.length;++g){"string"==typeof(t=p[g])&&(t=s.certificateFromPem(t));var y=0===g?u:void 0,m=s.certificateToAsn1(t),v=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(s.oids.certBag).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(s.oids.x509Certificate).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,i.toDer(m).getBytes())])])]),y]);d.push(v)}if(d.length>0){var C=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,d),E=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(s.oids.data).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,i.toDer(C).getBytes())])]);h.push(E)}var b=null;if(null!==e){var S=s.wrapRsaPrivateKey(s.privateKeyToAsn1(e));b=null===r?i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(s.oids.keyBag).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[S]),u]):i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(s.oids.pkcs8ShroudedKeyBag).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[s.encryptPrivateKeyInfo(S,r,o)]),u]);var w=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[b]),_=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(s.oids.data).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,i.toDer(w).getBytes())])]);h.push(_)}var T,A=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,h);if(o.useMac){var I=n.md.sha1.create(),B=new n.util.ByteBuffer(n.random.getBytes(o.saltSize)),k=o.count,R=(e=a.generateKey(r,B,3,k,20),n.hmac.create());R.start(I,e),R.update(i.toDer(A).getBytes());var N=R.getMac();T=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(s.oids.sha1).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")]),i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,N.getBytes())]),i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,B.getBytes()),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(k).getBytes())])}return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(3).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(s.oids.data).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,i.toDer(A).getBytes())])]),T])},a.generateKey=n.pbe.generatePkcs12Key},function(e,t,r){var n=r(0);r(5),r(1);var i=n.asn1,s=e.exports=n.pkcs7asn1=n.pkcs7asn1||{};n.pkcs7=n.pkcs7||{},n.pkcs7.asn1=s;var a={name:"ContentInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};s.contentInfoValidator=a;var o={name:"EncryptedContentInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:i.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};s.envelopedDataValidator={name:"EnvelopedData",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(o)},s.encryptedDataValidator={name:"EncryptedData",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"}].concat(o)};var u={name:"SignerInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:i.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:i.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};s.signedDataValidator={name:"SignedData",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},a,{name:"SignedData.Certificates",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:i.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,capture:"signerInfos",optional:!0,value:[u]}]},s.recipientInfoValidator={name:"RecipientInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:i.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter"}]},{name:"RecipientInfo.encryptedKey",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}},function(e,t,r){var n=r(0);r(1),n.mgf=n.mgf||{},(e.exports=n.mgf.mgf1=n.mgf1=n.mgf1||{}).create=function(e){return{generate:function(t,r){for(var i=new n.util.ByteBuffer,s=Math.ceil(r/e.digestLength),a=0;a<s;a++){var o=new n.util.ByteBuffer;o.putInt32(a),e.start(),e.update(t+o.getBytes()),i.putBuffer(e.digest())}return i.truncate(i.length()-r),i.getBytes()}}}},function(e,t,r){var n=r(0);e.exports=n.debug=n.debug||{},n.debug.storage={},n.debug.get=function(e,t){var r;return void 0===e?r=n.debug.storage:e in n.debug.storage&&(r=void 0===t?n.debug.storage[e]:n.debug.storage[e][t]),r},n.debug.set=function(e,t,r){e in n.debug.storage||(n.debug.storage[e]={}),n.debug.storage[e][t]=r},n.debug.clear=function(e,t){void 0===e?n.debug.storage={}:e in n.debug.storage&&(void 0===t?delete n.debug.storage[e]:delete n.debug.storage[e][t])}},function(e,t,r){var n=r(0);r(7),r(1);var i=e.exports=n.sha512=n.sha512||{};n.md.sha512=n.md.algorithms.sha512=i;var s=n.sha384=n.sha512.sha384=n.sha512.sha384||{};s.create=function(){return i.create("SHA-384")},n.md.sha384=n.md.algorithms.sha384=s,n.sha512.sha256=n.sha512.sha256||{create:function(){return i.create("SHA-512/256")}},n.md["sha512/256"]=n.md.algorithms["sha512/256"]=n.sha512.sha256,n.sha512.sha224=n.sha512.sha224||{create:function(){return i.create("SHA-512/224")}},n.md["sha512/224"]=n.md.algorithms["sha512/224"]=n.sha512.sha224,i.create=function(e){if(o||(a=String.fromCharCode(128),a+=n.util.fillString(String.fromCharCode(0),128),u=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],(c={})["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],c["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],c["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],c["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],o=!0),void 0===e&&(e="SHA-512"),!(e in c))throw new Error("Invalid SHA-512 algorithm: "+e);for(var t=c[e],r=null,i=n.util.createBuffer(),s=new Array(80),f=0;f<80;++f)s[f]=new Array(2);var h=64;switch(e){case"SHA-384":h=48;break;case"SHA-512/256":h=32;break;case"SHA-512/224":h=28}var p={algorithm:e.replace("-","").toLowerCase(),blockLength:128,digestLength:h,messageLength:0,fullMessageLength:null,messageLengthSize:16,start:function(){p.messageLength=0,p.fullMessageLength=p.messageLength128=[];for(var e=p.messageLengthSize/4,s=0;s<e;++s)p.fullMessageLength.push(0);i=n.util.createBuffer(),r=new Array(t.length);for(s=0;s<t.length;++s)r[s]=t[s].slice(0);return p}};return p.start(),p.update=function(e,t){"utf8"===t&&(e=n.util.encodeUtf8(e));var a=e.length;p.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var o=p.fullMessageLength.length-1;o>=0;--o)p.fullMessageLength[o]+=a[1],a[1]=a[0]+(p.fullMessageLength[o]/4294967296>>>0),p.fullMessageLength[o]=p.fullMessageLength[o]>>>0,a[0]=a[1]/4294967296>>>0;return i.putBytes(e),l(r,s,i),(i.read>2048||0===i.length())&&i.compact(),p},p.digest=function(){var t=n.util.createBuffer();t.putBytes(i.bytes());var o,u=p.fullMessageLength[p.fullMessageLength.length-1]+p.messageLengthSize&p.blockLength-1;t.putBytes(a.substr(0,p.blockLength-u));for(var c=8*p.fullMessageLength[0],f=0;f<p.fullMessageLength.length-1;++f)c+=(o=8*p.fullMessageLength[f+1])/4294967296>>>0,t.putInt32(c>>>0),c=o>>>0;t.putInt32(c);var h=new Array(r.length);for(f=0;f<r.length;++f)h[f]=r[f].slice(0);l(h,s,t);var d,g=n.util.createBuffer();d="SHA-512"===e?h.length:"SHA-384"===e?h.length-2:h.length-4;for(f=0;f<d;++f)g.putInt32(h[f][0]),f===d-1&&"SHA-512/224"===e||g.putInt32(h[f][1]);return g},p};var a=null,o=!1,u=null,c=null;function l(e,t,r){for(var n,i,s,a,o,c,l,f,h,p,d,g,y,m,v,C,E,b,S,w,_,T,A,I,B,k,R,N,O,x,L,D,P,U=r.length();U>=128;){for(R=0;R<16;++R)t[R][0]=r.getInt32()>>>0,t[R][1]=r.getInt32()>>>0;for(;R<80;++R)n=(((N=(x=t[R-2])[0])>>>19|(O=x[1])<<13)^(O>>>29|N<<3)^N>>>6)>>>0,i=((N<<13|O>>>19)^(O<<3|N>>>29)^(N<<26|O>>>6))>>>0,s=(((N=(D=t[R-15])[0])>>>1|(O=D[1])<<31)^(N>>>8|O<<24)^N>>>7)>>>0,a=((N<<31|O>>>1)^(N<<24|O>>>8)^(N<<25|O>>>7))>>>0,L=t[R-7],P=t[R-16],O=i+L[1]+a+P[1],t[R][0]=n+L[0]+s+P[0]+(O/4294967296>>>0)>>>0,t[R][1]=O>>>0;for(d=e[0][0],g=e[0][1],y=e[1][0],m=e[1][1],v=e[2][0],C=e[2][1],E=e[3][0],b=e[3][1],S=e[4][0],w=e[4][1],_=e[5][0],T=e[5][1],A=e[6][0],I=e[6][1],B=e[7][0],k=e[7][1],R=0;R<80;++R)l=((S>>>14|w<<18)^(S>>>18|w<<14)^(w>>>9|S<<23))>>>0,f=(A^S&(_^A))>>>0,o=((d>>>28|g<<4)^(g>>>2|d<<30)^(g>>>7|d<<25))>>>0,c=((d<<4|g>>>28)^(g<<30|d>>>2)^(g<<25|d>>>7))>>>0,h=(d&y|v&(d^y))>>>0,p=(g&m|C&(g^m))>>>0,O=k+(((S<<18|w>>>14)^(S<<14|w>>>18)^(w<<23|S>>>9))>>>0)+((I^w&(T^I))>>>0)+u[R][1]+t[R][1],n=B+l+f+u[R][0]+t[R][0]+(O/4294967296>>>0)>>>0,i=O>>>0,s=o+h+((O=c+p)/4294967296>>>0)>>>0,a=O>>>0,B=A,k=I,A=_,I=T,_=S,T=w,S=E+n+((O=b+i)/4294967296>>>0)>>>0,w=O>>>0,E=v,b=C,v=y,C=m,y=d,m=g,d=n+s+((O=i+a)/4294967296>>>0)>>>0,g=O>>>0;O=e[0][1]+g,e[0][0]=e[0][0]+d+(O/4294967296>>>0)>>>0,e[0][1]=O>>>0,O=e[1][1]+m,e[1][0]=e[1][0]+y+(O/4294967296>>>0)>>>0,e[1][1]=O>>>0,O=e[2][1]+C,e[2][0]=e[2][0]+v+(O/4294967296>>>0)>>>0,e[2][1]=O>>>0,O=e[3][1]+b,e[3][0]=e[3][0]+E+(O/4294967296>>>0)>>>0,e[3][1]=O>>>0,O=e[4][1]+w,e[4][0]=e[4][0]+S+(O/4294967296>>>0)>>>0,e[4][1]=O>>>0,O=e[5][1]+T,e[5][0]=e[5][0]+_+(O/4294967296>>>0)>>>0,e[5][1]=O>>>0,O=e[6][1]+I,e[6][0]=e[6][0]+A+(O/4294967296>>>0)>>>0,e[6][1]=O>>>0,O=e[7][1]+k,e[7][0]=e[7][0]+B+(O/4294967296>>>0)>>>0,e[7][1]=O>>>0,U-=128}}},function(e,t,r){var n=r(0);r(1),e.exports=n.log=n.log||{},n.log.levels=["none","error","warning","info","debug","verbose","max"];var i={},s=[],a=null;n.log.LEVEL_LOCKED=2,n.log.NO_LEVEL_CHECK=4,n.log.INTERPOLATE=8;for(var o=0;o<n.log.levels.length;++o){var u=n.log.levels[o];i[u]={index:o,name:u.toUpperCase()}}n.log.logMessage=function(e){for(var t=i[e.level].index,r=0;r<s.length;++r){var a=s[r];if(a.flags&n.log.NO_LEVEL_CHECK)a.f(e);else t<=i[a.level].index&&a.f(a,e)}},n.log.prepareStandard=function(e){"standard"in e||(e.standard=i[e.level].name+" ["+e.category+"] "+e.message)},n.log.prepareFull=function(e){if(!("full"in e)){var t=[e.message];t=t.concat([]||!1),e.full=n.util.format.apply(this,t)}},n.log.prepareStandardFull=function(e){"standardFull"in e||(n.log.prepareStandard(e),e.standardFull=e.standard)};var c=["error","warning","info","debug","verbose"];for(o=0;o<c.length;++o)!function(e){n.log[e]=function(t,r){var i=Array.prototype.slice.call(arguments).slice(2),s={timestamp:new Date,level:e,category:t,message:r,arguments:i};n.log.logMessage(s)}}(c[o]);if(n.log.makeLogger=function(e){var t={flags:0,f:e};return n.log.setLevel(t,"none"),t},n.log.setLevel=function(e,t){var r=!1;if(e&&!(e.flags&n.log.LEVEL_LOCKED))for(var i=0;i<n.log.levels.length;++i){if(t==n.log.levels[i]){e.level=t,r=!0;break}}return r},n.log.lock=function(e,t){void 0===t||t?e.flags|=n.log.LEVEL_LOCKED:e.flags&=~n.log.LEVEL_LOCKED},n.log.addLogger=function(e){s.push(e)},"undefined"!=typeof console&&"log"in console){var l;if(console.error&&console.warn&&console.info&&console.debug){var f={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},h=function(e,t){n.log.prepareStandard(t);var r=f[t.level],i=[t.standard];i=i.concat(t.arguments.slice()),r.apply(console,i)};l=n.log.makeLogger(h)}else{h=function(e,t){n.log.prepareStandardFull(t),console.log(t.standardFull)};l=n.log.makeLogger(h)}n.log.setLevel(l,"debug"),n.log.addLogger(l),a=l}else console={log:function(){}};if(null!==a){var p=n.util.getQueryVariables();if("console.level"in p&&n.log.setLevel(a,p["console.level"].slice(-1)[0]),"console.lock"in p)"true"==p["console.lock"].slice(-1)[0]&&n.log.lock(a)}n.log.consoleLogger=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JWTAccess=void 0;const n=r(57),i=r(144),s={alg:"RS256",typ:"JWT"};class a{constructor(e,t,r,n){this.cache=new i({max:500,maxAge:36e5}),this.email=e,this.key=t,this.keyId=r,this.eagerRefreshThresholdMillis=null!=n?n:3e5}getRequestHeaders(e,t){const r=this.cache.get(e),i=Date.now();if(r&&r.expiration-i>this.eagerRefreshThresholdMillis)return r.headers;const o=Math.floor(Date.now()/1e3),u=a.getExpirationTime(o),c={iss:this.email,sub:this.email,aud:e,exp:u,iat:o};if(t)for(const e in c)if(t[e])throw new Error(`The '${e}' property is not allowed when passing additionalClaims. This claim is included in the JWT by default.`);const l=this.keyId?{...s,kid:this.keyId}:s,f=Object.assign(c,t),h={Authorization:"Bearer "+n.sign({header:l,payload:f,secret:this.key})};return this.cache.set(e,{expiration:1e3*u,headers:h}),h}static getExpirationTime(e){return e+3600}fromJSON(e){if(!e)throw new Error("Must pass in a JSON object containing the service account auth settings.");if(!e.client_email)throw new Error("The incoming JSON object does not contain a client_email field");if(!e.private_key)throw new Error("The incoming JSON object does not contain a private_key field");this.email=e.client_email,this.key=e.private_key,this.keyId=e.private_key_id,this.projectId=e.project_id}fromStream(e,t){if(!t)return this.fromStreamAsync(e);this.fromStreamAsync(e).then(()=>t(),t)}fromStreamAsync(e){return new Promise((t,r)=>{e||r(new Error("Must pass in a stream containing the service account auth settings."));let n="";e.setEncoding("utf8").on("data",e=>n+=e).on("error",r).on("end",()=>{try{const e=JSON.parse(n);this.fromJSON(e),t()}catch(e){r(e)}})})}}t.JWTAccess=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserRefreshClient=void 0;const n=r(14);class i extends n.OAuth2Client{constructor(e,t,r,n,i){const s=e&&"object"==typeof e?e:{clientId:e,clientSecret:t,refreshToken:r,eagerRefreshThresholdMillis:n,forceRefreshOnFailure:i};super({clientId:s.clientId,clientSecret:s.clientSecret,eagerRefreshThresholdMillis:s.eagerRefreshThresholdMillis,forceRefreshOnFailure:s.forceRefreshOnFailure}),this._refreshToken=s.refreshToken,this.credentials.refresh_token=s.refreshToken}async refreshTokenNoCache(e){return super.refreshTokenNoCache(this._refreshToken)}fromJSON(e){if(!e)throw new Error("Must pass in a JSON object containing the user refresh token");if("authorized_user"!==e.type)throw new Error('The incoming JSON object does not have the "authorized_user" type');if(!e.client_id)throw new Error("The incoming JSON object does not contain a client_id field");if(!e.client_secret)throw new Error("The incoming JSON object does not contain a client_secret field");if(!e.refresh_token)throw new Error("The incoming JSON object does not contain a refresh_token field");this._clientId=e.client_id,this._clientSecret=e.client_secret,this._refreshToken=e.refresh_token,this.credentials.refresh_token=e.refresh_token,this.quotaProjectId=e.quota_project_id}fromStream(e,t){if(!t)return this.fromStreamAsync(e);this.fromStreamAsync(e).then(()=>t(),t)}async fromStreamAsync(e){return new Promise((t,r)=>{if(!e)return r(new Error("Must pass in a stream containing the user refresh token."));let n="";e.setEncoding("utf8").on("error",r).on("data",e=>n+=e).on("end",()=>{try{const e=JSON.parse(n);return this.fromJSON(e),t()}catch(e){return r(e)}})})}}t.UserRefreshClient=i},function(e,t,r){"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},function(e,t,r){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,r){"use strict";var n=r(3),i=r(154),s={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var o,u={adapter:("undefined"!=typeof XMLHttpRequest?o=r(155):"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process)&&(o=r(161)),o),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)?e:n.isArrayBufferView(e)?e.buffer:n.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):n.isObject(e)?(a(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},n.forEach(["delete","get","head"],(function(e){u.headers[e]={}})),n.forEach(["post","put","patch"],(function(e){u.headers[e]=n.merge(s)})),e.exports=u},function(e,t,r){"use strict";var n=r(39);e.exports=function(e,t,r){var i=r.config.validateStatus;r.status&&i&&!i(r.status)?t(n("Request failed with status code "+r.status,r.config,null,r.request,r)):e(r)}},function(e,t,r){"use strict";e.exports=function(e,t,r,n,i){return e.config=t,r&&(e.code=r),e.request=n,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,r){"use strict";var n=r(157),i=r(158);e.exports=function(e,t){return e&&!n(t)?i(e,t):t}},function(e,t,r){var n=r(11),i=n.URL,s=r(18),a=r(25),o=r(2).Writable,u=r(42),c=r(162),l=Object.create(null);["abort","aborted","connect","error","socket","timeout"].forEach((function(e){l[e]=function(t,r,n){this._redirectable.emit(e,t,r,n)}}));var f=E("ERR_FR_REDIRECTION_FAILURE",""),h=E("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded"),p=E("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),d=E("ERR_STREAM_WRITE_AFTER_END","write after end");function g(e,t){o.call(this),this._sanitizeOptions(e),this._options=e,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],t&&this.on("response",t);var r=this;this._onNativeResponse=function(e){r._processResponse(e)},this._performRequest()}function y(e){var t={maxRedirects:21,maxBodyLength:10485760},r={};return Object.keys(e).forEach((function(s){var a=s+":",o=r[a]=e[s],l=t[s]=Object.create(o);Object.defineProperties(l,{request:{value:function(e,s,o){if("string"==typeof e){var l=e;try{e=v(new i(l))}catch(t){e=n.parse(l)}}else i&&e instanceof i?e=v(e):(o=s,s=e,e={protocol:a});return"function"==typeof s&&(o=s,s=null),(s=Object.assign({maxRedirects:t.maxRedirects,maxBodyLength:t.maxBodyLength},e,s)).nativeProtocols=r,u.equal(s.protocol,a,"protocol mismatch"),c("options",s),new g(s,o)},configurable:!0,enumerable:!0,writable:!0},get:{value:function(e,t,r){var n=l.request(e,t,r);return n.end(),n},configurable:!0,enumerable:!0,writable:!0}})})),t}function m(){}function v(e){var t={protocol:e.protocol,hostname:e.hostname.startsWith("[")?e.hostname.slice(1,-1):e.hostname,hash:e.hash,search:e.search,pathname:e.pathname,path:e.pathname+e.search,href:e.href};return""!==e.port&&(t.port=Number(e.port)),t}function C(e,t){var r;for(var n in t)e.test(n)&&(r=t[n],delete t[n]);return r}function E(e,t){function r(e){Error.captureStackTrace(this,this.constructor),this.message=e||t}return r.prototype=new Error,r.prototype.constructor=r,r.prototype.name="Error ["+e+"]",r.prototype.code=e,r}g.prototype=Object.create(o.prototype),g.prototype.abort=function(){this._currentRequest.removeAllListeners(),this._currentRequest.on("error",m),this._currentRequest.abort(),this.emit("abort"),this.removeAllListeners()},g.prototype.write=function(e,t,r){if(this._ending)throw new d;if(!("string"==typeof e||"object"==typeof e&&"length"in e))throw new TypeError("data should be a string, Buffer or Uint8Array");"function"==typeof t&&(r=t,t=null),0!==e.length?this._requestBodyLength+e.length<=this._options.maxBodyLength?(this._requestBodyLength+=e.length,this._requestBodyBuffers.push({data:e,encoding:t}),this._currentRequest.write(e,t,r)):(this.emit("error",new p),this.abort()):r&&r()},g.prototype.end=function(e,t,r){if("function"==typeof e?(r=e,e=t=null):"function"==typeof t&&(r=t,t=null),e){var n=this,i=this._currentRequest;this.write(e,t,(function(){n._ended=!0,i.end(null,null,r)})),this._ending=!0}else this._ended=this._ending=!0,this._currentRequest.end(null,null,r)},g.prototype.setHeader=function(e,t){this._options.headers[e]=t,this._currentRequest.setHeader(e,t)},g.prototype.removeHeader=function(e){delete this._options.headers[e],this._currentRequest.removeHeader(e)},g.prototype.setTimeout=function(e,t){var r=this;function n(){r._timeout&&clearTimeout(r._timeout),r._timeout=setTimeout((function(){r.emit("timeout"),i()}),e)}function i(){clearTimeout(this._timeout),t&&r.removeListener("timeout",t),this.socket||r._currentRequest.removeListener("socket",n)}return t&&this.on("timeout",t),this.socket?n():this._currentRequest.once("socket",n),this.once("response",i),this.once("error",i),this},["flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach((function(e){g.prototype[e]=function(t,r){return this._currentRequest[e](t,r)}})),["aborted","connection","socket"].forEach((function(e){Object.defineProperty(g.prototype,e,{get:function(){return this._currentRequest[e]}})})),g.prototype._sanitizeOptions=function(e){if(e.headers||(e.headers={}),e.host&&(e.hostname||(e.hostname=e.host),delete e.host),!e.pathname&&e.path){var t=e.path.indexOf("?");t<0?e.pathname=e.path:(e.pathname=e.path.substring(0,t),e.search=e.path.substring(t))}},g.prototype._performRequest=function(){var e=this._options.protocol,t=this._options.nativeProtocols[e];if(t){if(this._options.agents){var r=e.substr(0,e.length-1);this._options.agent=this._options.agents[r]}var i=this._currentRequest=t.request(this._options,this._onNativeResponse);for(var s in this._currentUrl=n.format(this._options),i._redirectable=this,l)s&&i.on(s,l[s]);if(this._isRedirect){var a=0,o=this,u=this._requestBodyBuffers;!function e(t){if(i===o._currentRequest)if(t)o.emit("error",t);else if(a<u.length){var r=u[a++];i.finished||i.write(r.data,r.encoding,e)}else o._ended&&i.end()}()}}else this.emit("error",new TypeError("Unsupported protocol "+e))},g.prototype._processResponse=function(e){var t=e.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:e.headers,statusCode:t});var r=e.headers.location;if(r&&!1!==this._options.followRedirects&&t>=300&&t<400){if(this._currentRequest.removeAllListeners(),this._currentRequest.on("error",m),this._currentRequest.abort(),e.destroy(),++this._redirectCount>this._options.maxRedirects)return void this.emit("error",new h);((301===t||302===t)&&"POST"===this._options.method||303===t&&!/^(?:GET|HEAD)$/.test(this._options.method))&&(this._options.method="GET",this._requestBodyBuffers=[],C(/^content-/i,this._options.headers));var i=C(/^host$/i,this._options.headers)||n.parse(this._currentUrl).hostname,s=n.resolve(this._currentUrl,r);c("redirecting to",s),this._isRedirect=!0;var a=n.parse(s);if(Object.assign(this._options,a),a.hostname!==i&&C(/^authorization$/i,this._options.headers),"function"==typeof this._options.beforeRedirect){var o={headers:e.headers};try{this._options.beforeRedirect.call(null,this._options,o)}catch(e){return void this.emit("error",e)}this._sanitizeOptions(this._options)}try{this._performRequest()}catch(e){var u=new f("Redirected request failed: "+e.message);u.cause=e,this.emit("error",u)}}else e.responseUrl=this._currentUrl,e.redirects=this._redirects,this.emit("response",e),this._requestBodyBuffers=[]},e.exports=y({http:s,https:a}),e.exports.wrap=y},function(e,t,r){"use strict";e.exports=function(e){function t(e){for(var t=0,r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return n.colors[Math.abs(t)%n.colors.length]}function n(e){var r;function a(){if(a.enabled){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var s=a,o=Number(new Date),u=o-(r||o);s.diff=u,s.prev=r,s.curr=o,r=o,t[0]=n.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");var c=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,(function(e,r){if("%%"===e)return e;c++;var i=n.formatters[r];if("function"==typeof i){var a=t[c];e=i.call(s,a),t.splice(c,1),c--}return e})),n.formatArgs.call(s,t);var l=s.log||n.log;l.apply(s,t)}}return a.namespace=e,a.enabled=n.enabled(e),a.useColors=n.useColors(),a.color=t(e),a.destroy=i,a.extend=s,"function"==typeof n.init&&n.init(a),n.instances.push(a),a}function i(){var e=n.instances.indexOf(this);return-1!==e&&(n.instances.splice(e,1),!0)}function s(e,t){return n(this.namespace+(void 0===t?":":t)+e)}return n.debug=n,n.default=n,n.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},n.disable=function(){n.enable("")},n.enable=function(e){var t;n.save(e),n.names=[],n.skips=[];var r=("string"==typeof e?e:"").split(/[\s,]+/),i=r.length;for(t=0;t<i;t++)r[t]&&("-"===(e=r[t].replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")));for(t=0;t<n.instances.length;t++){var s=n.instances[t];s.enabled=n.enabled(s.namespace)}},n.enabled=function(e){if("*"===e[e.length-1])return!0;var t,r;for(t=0,r=n.skips.length;t<r;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;t<r;t++)if(n.names[t].test(e))return!0;return!1},n.humanize=r(29),Object.keys(e).forEach((function(t){n[t]=e[t]})),n.instances=[],n.names=[],n.skips=[],n.formatters={},n.selectColor=t,n.enable(n.load()),n}},function(e,t,r){"use strict";var n=r(3);e.exports=function(e,t){t=t||{};var r={},i=["url","method","data"],s=["headers","auth","proxy","params"],a=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],o=["validateStatus"];function u(e,t){return n.isPlainObject(e)&&n.isPlainObject(t)?n.merge(e,t):n.isPlainObject(t)?n.merge({},t):n.isArray(t)?t.slice():t}function c(i){n.isUndefined(t[i])?n.isUndefined(e[i])||(r[i]=u(void 0,e[i])):r[i]=u(e[i],t[i])}n.forEach(i,(function(e){n.isUndefined(t[e])||(r[e]=u(void 0,t[e]))})),n.forEach(s,c),n.forEach(a,(function(i){n.isUndefined(t[i])?n.isUndefined(e[i])||(r[i]=u(void 0,e[i])):r[i]=u(void 0,t[i])})),n.forEach(o,(function(n){n in t?r[n]=u(e[n],t[n]):n in e&&(r[n]=u(void 0,e[n]))}));var l=i.concat(s).concat(a).concat(o),f=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===l.indexOf(e)}));return n.forEach(f,c),r}},function(e,t,r){"use strict";function n(e){this.message=e}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,e.exports=n},function(e,t,r){const n=r(19),i=r(89),s=r(170),{getFieldMask:a,columnToLetter:o,letterToColumn:u}=r(24);function c(e){const t=n.groupBy(e);n.each(t,(e,t)=>{if(t&&e.length>1)throw new Error(`Duplicate header detected: "${t}". Please make sure all non-empty headers are unique`)})}e.exports=class{constructor(e,{properties:t,data:r}){return this._spreadsheet=e,this._rawProperties=t,this._cells=[],this._rowMetadata=[],this._columnMetadata=[],r&&this._fillCellData(r),this}async _makeSingleUpdateRequest(e,t){return this._spreadsheet._makeSingleUpdateRequest(e,{...t})}_ensureInfoLoaded(){if(!this._rawProperties)throw new Error("You must call `doc.loadInfo()` again before accessing this property")}resetLocalCache(e){e||(this._rawProperties=null),this.headerValues=null,this._cells=[]}_fillCellData(e){n.each(e,e=>{const t=e.startRow||0,r=e.startColumn||0,i=e.rowMetadata.length,a=e.columnMetadata.length;for(let o=0;o<i;o++){const i=t+o;for(let t=0;t<a;t++){const a=r+t;this._cells[i]||(this._cells[i]=[]);const u=n.get(e,`rowData[${o}].values[${t}]`);this._cells[i][a]?this._cells[i][a]._updateRawData(u):this._cells[i][a]=new s(this,i,a,u)}}for(let r=0;r<e.rowMetadata.length;r++)this._rowMetadata[t+r]=e.rowMetadata[r];for(let t=0;t<e.columnMetadata.length;t++)this._columnMetadata[r+t]=e.columnMetadata[t]})}_getProp(e){return this._ensureInfoLoaded(),this._rawProperties[e]}_setProp(e,t){throw new Error("Do not update directly - use `updateProperties()`")}get sheetId(){return this._getProp("sheetId")}get title(){return this._getProp("title")}get index(){return this._getProp("index")}get sheetType(){return this._getProp("sheetType")}get gridProperties(){return this._getProp("gridProperties")}get hidden(){return this._getProp("hidden")}get tabColor(){return this._getProp("tabColor")}get rightToLeft(){return this._getProp("rightToLeft")}set sheetId(e){return this._setProp("sheetId",e)}set title(e){return this._setProp("title",e)}set index(e){return this._setProp("index",e)}set sheetType(e){return this._setProp("sheetType",e)}set gridProperties(e){return this._setProp("gridProperties",e)}set hidden(e){return this._setProp("hidden",e)}set tabColor(e){return this._setProp("tabColor",e)}set rightToLeft(e){return this._setProp("rightToLeft",e)}get rowCount(){return this._ensureInfoLoaded(),this.gridProperties.rowCount}get columnCount(){return this._ensureInfoLoaded(),this.gridProperties.columnCount}get colCount(){throw new Error("`colCount` is deprecated - please use `columnCount` instead.")}set rowCount(e){throw new Error("Do not update directly. Use resize()")}set columnCount(e){throw new Error("Do not update directly. Use resize()")}get a1SheetName(){return`'${this.title.replace(/'/g,"''")}'`}get encodedA1SheetName(){return encodeURIComponent(this.a1SheetName)}get lastColumnLetter(){return o(this.columnCount)}get cellStats(){let e=n.flatten(this._cells);return e=n.compact(e),{nonEmpty:n.filter(e,e=>e.value).length,loaded:e.length,total:this.rowCount*this.columnCount}}getCellByA1(e){const t=e.match(/([A-Z]+)([0-9]+)/),r=u(t[1]),n=parseInt(t[2]);return this.getCell(n-1,r-1)}getCell(e,t){if(e<0||t<0)throw new Error("Min coordinate is 0, 0");if(e>=this.rowCount||t>=this.columnCount)throw new Error(`Out of bounds, sheet is ${this.rowCount} by ${this.columnCount}`);if(!n.get(this._cells,`[${e}][${t}]`))throw new Error("This cell has not been loaded yet");return this._cells[e][t]}async loadCells(e){if(!e)return this._spreadsheet.loadCells(this.a1SheetName);let t=n.isArray(e)?e:[e];return t=n.map(t,e=>{if(n.isString(e))return e.startsWith(this.a1SheetName)?e:`${this.a1SheetName}!${e}`;if(n.isObject(e)){if(!e.sheetId)return{sheetId:this.sheetId,...e};if(e.sheetId!==this.sheetId)throw new Error("Leave sheet ID blank or set to matching ID of this sheet");return e}throw new Error("Each filter must be a A1 range string or gridrange object")}),this._spreadsheet.loadCells(t)}async saveUpdatedCells(){const e=n.filter(n.flatten(this._cells),{_isDirty:!0});e.length&&await this.saveCells(e)}async saveCells(e){const t=n.map(e,e=>e._getUpdateRequest()),r=n.map(e,e=>`${this.a1SheetName}!${e.a1Address}`);if(!n.compact(t).length)throw new Error("At least one cell must have something to update");await this._spreadsheet._makeBatchUpdateRequest(t,r)}async loadHeaderRow(){const e=await this.getCellsInRange(`A1:${this.lastColumnLetter}1`);if(!e)throw new Error("No values in the header row - fill the first row with header values before trying to interact with rows");if(this.headerValues=n.map(e[0],e=>e.trim()),!n.compact(this.headerValues).length)throw new Error("All your header cells are blank - fill the first row with header values before trying to interact with rows");c(this.headerValues)}async setHeaderRow(e){if(!e)return;if(e.length>this.columnCount)throw new Error(`Sheet is not large enough to fit ${e.length} columns. Resize the sheet first.`);const t=n.map(e,e=>e.trim());if(c(t),!n.compact(t).length)throw new Error("All your header cells are blank -");const r=await this._spreadsheet.axios.request({method:"put",url:`/values/${this.encodedA1SheetName}!1:1`,params:{valueInputOption:"USER_ENTERED",includeValuesInResponse:!0},data:{range:this.a1SheetName+"!1:1",majorDimension:"ROWS",values:[[...t,...n.times(this.columnCount-t.length,()=>"")]]}});this.headerValues=r.data.updatedData.values[0]}async addRows(e,t={}){if(this.title.includes(":"))throw new Error('Please remove the ":" from your sheet title. There is a bug with the google API which breaks appending rows if any colons are in the sheet title.');if(!n.isArray(e))throw new Error("You must pass in an array of row values to append");this.headerValues||await this.loadHeaderRow();const r=[];n.each(e,e=>{let t;if(n.isArray(e))t=e;else{if(!n.isObject(e))throw new Error("Each row must be an object or an array");t=[];for(let r=0;r<this.headerValues.length;r++){const n=this.headerValues[r];t[r]=e[n]}}r.push(t)});const s=await this._spreadsheet.axios.request({method:"post",url:`/values/${this.encodedA1SheetName}!A1:append`,params:{valueInputOption:t.raw?"RAW":"USER_ENTERED",insertDataOption:t.insert?"INSERT_ROWS":"OVERWRITE",includeValuesInResponse:!0},data:{values:r}}),{updatedRange:a}=s.data.updates;let o=a.match(/![A-Z]+([0-9]+):?/)[1];return o=parseInt(o),t.insert?this._rawProperties.gridProperties.rowCount+=e.length:o+e.length>this.rowCount&&(this._rawProperties.gridProperties.rowCount=o+e.length-1),n.map(s.data.updates.updatedData.values,e=>new i(this,o++,e))}async addRow(e,t){return(await this.addRows([e],t))[0]}async getRows(e={}){e.offset=e.offset||0,e.limit=e.limit||this.rowCount-1,this.headerValues||await this.loadHeaderRow();const t=2+e.offset,r=t+e.limit-1,n=o(this.headerValues.length),s=await this.getCellsInRange(`A${t}:${n}${r}`);if(!s)return[];const a=[];let u=t;for(let e=0;e<s.length;e++)a.push(new i(this,u++,s[e]));return a}async updateProperties(e){return this._makeSingleUpdateRequest("updateSheetProperties",{properties:{sheetId:this.sheetId,...e},fields:a(e)})}async updateGridProperties(e){return this.updateProperties({gridProperties:e})}async resize(e){return this.updateGridProperties(e)}async updateDimensionProperties(e,t,r){return this._makeSingleUpdateRequest("updateDimensionProperties",{range:{sheetId:this.sheetId,dimension:e,...r&&{startIndex:r.startIndex,endIndex:r.endIndex}},properties:t,fields:a(t)})}async getCellsInRange(e,t){return(await this._spreadsheet.axios.get(`/values/${this.encodedA1SheetName}!${e}`,{params:t})).data.values}async updateNamedRange(){}async addNamedRange(){}async deleteNamedRange(){}async repeatCell(){}async autoFill(){}async cutPaste(){}async copyPaste(){}async mergeCells(e,t="MERGE_ALL"){if(e.sheetId&&e.sheetId!==this.sheetId)throw new Error("Leave sheet ID blank or set to matching ID of this sheet");await this._makeSingleUpdateRequest("mergeCells",{mergeType:t,range:{...e,sheetId:this.sheetId}})}async unmergeCells(e){if(e.sheetId&&e.sheetId!==this.sheetId)throw new Error("Leave sheet ID blank or set to matching ID of this sheet");await this._makeSingleUpdateRequest("unmergeCells",{range:{...e,sheetId:this.sheetId}})}async updateBorders(){}async addFilterView(){}async appendCells(){}async clearBasicFilter(){}async deleteDimension(){}async deleteEmbeddedObject(){}async deleteFilterView(){}async duplicateFilterView(){}async duplicateSheet(){}async findReplace(){}async insertDimension(){}async insertRange(){}async moveDimension(){}async updateEmbeddedObjectPosition(){}async pasteData(){}async textToColumns(){}async updateFilterView(){}async deleteRange(){}async appendDimension(){}async addConditionalFormatRule(){}async updateConditionalFormatRule(){}async deleteConditionalFormatRule(){}async sortRange(){}async setDataValidation(){}async setBasicFilter(){}async addProtectedRange(){}async updateProtectedRange(){}async deleteProtectedRange(){}async autoResizeDimensions(){}async addChart(){}async updateChartSpec(){}async updateBanding(){}async addBanding(){}async deleteBanding(){}async createDeveloperMetadata(){}async updateDeveloperMetadata(){}async deleteDeveloperMetadata(){}async randomizeRange(){}async addDimensionGroup(){}async deleteDimensionGroup(){}async updateDimensionGroup(){}async trimWhitespace(){}async deleteDuplicates(){}async addSlicer(){}async updateSlicerSpec(){}async delete(){return this._spreadsheet.deleteSheet(this.sheetId)}async del(){return this.delete()}async copyToSpreadsheet(e){return this._spreadsheet.axios.post(`/sheets/${this.sheetId}:copyTo`,{destinationSpreadsheetId:e})}async clear(){await this._spreadsheet.axios.post(`/values/${this.encodedA1SheetName}:clear`),this.resetLocalCache(!0)}}},function(e,t,r){const{columnToLetter:n}=r(24);e.exports=class{constructor(e,t,r){this._sheet=e,this._rowNumber=t,this._rawData=r;for(let e=0;e<this._sheet.headerValues.length;e++){const t=this._sheet.headerValues[e];t&&Object.defineProperty(this,t,{get:()=>this._rawData[e],set:t=>{this._rawData[e]=t},enumerable:!0})}return this}get rowNumber(){return this._rowNumber}get rowIndex(){return this._rowNumber}get a1Range(){return[this._sheet.a1SheetName,"!","A"+this._rowNumber,":",`${n(this._sheet.headerValues.length)}${this._rowNumber}`].join("")}async save(e={}){if(this._deleted)throw new Error("This row has been deleted - call getRows again before making updates.");const t=await this._sheet._spreadsheet.axios.request({method:"put",url:"/values/"+encodeURIComponent(this.a1Range),params:{valueInputOption:e.raw?"RAW":"USER_ENTERED",includeValuesInResponse:!0},data:{range:this.a1Range,majorDimension:"ROWS",values:[this._rawData]}});this._rawData=t.data.updatedData.values[0]}async delete(){if(this._deleted)throw new Error("This row has been deleted - call getRows again before making updates.");const e=await this._sheet._makeSingleUpdateRequest("deleteRange",{range:{sheetId:this._sheet.sheetId,startRowIndex:this._rowNumber-1,endRowIndex:this._rowNumber},shiftDimension:"ROWS"});return this._deleted=!0,e}async del(){return this.delete()}}},function(e,t){e.exports={GoogleSpreadsheetFormulaError:class{constructor(e){this.type=e.type,this.message=e.message}}}},function(e,t,r){const{GoogleSpreadsheet:n}=r(92),i=process.env.REACT_APP_SPREADSHEET_ID,s=process.env.REACT_APP_SHEET_ID,a=process.env.REACT_APP_GOOGLE_CLIENT_EMAIL,o=process.env.REACT_APP_GOOGLE_SERVICE_PRIVATE_KEY;t.handler=async(e,t,r)=>{try{const t=new n(i);await t.useServiceAccountAuth({client_email:a,private_key:o.replace(/\\n/g,"\n")}),await t.loadInfo();const u=t.sheetsByIndex[s],c=JSON.parse(e.body);await u.addRow(c),r(null,{statusCode:200,body:JSON.stringify({message:"row added"})})}catch(e){r(null,{statusCode:500,body:e.toString()})}}},function(e,t,r){const n=r(93),i=r(88),s=r(89),{GoogleSpreadsheetFormulaError:a}=r(90);e.exports={GoogleSpreadsheet:n,GoogleSpreadsheetWorksheet:i,GoogleSpreadsheetRow:s,GoogleSpreadsheetFormulaError:a}},function(e,t,r){const n=r(19),{JWT:i}=r(95),s=r(148),a=r(88),{getFieldMask:o}=r(24),u=["https://www.googleapis.com/auth/spreadsheets"],c="JWT",l="API_KEY",f="RAW_ACCESS_TOKEN",h="OAUTH";e.exports=class{constructor(e){return this.spreadsheetId=e,this.authMode=null,this._rawSheets={},this._rawProperties=null,this.axios=s.create({baseURL:"https://sheets.googleapis.com/v4/spreadsheets/"+(e||""),paramsSerializer(e){let t="";return n.keys(e).forEach(r=>{const i="object"==typeof e[r],s=i&&e[r].length>=0;i||(t+=`${r}=${encodeURIComponent(e[r])}&`),i&&s&&n.each(e[r],e=>{t+=`${r}=${encodeURIComponent(e)}&`})}),t?t.slice(0,-1):t}}),this.axios.interceptors.request.use(this._setAxiosRequestAuth.bind(this)),this.axios.interceptors.response.use(this._handleAxiosResponse.bind(this),this._handleAxiosErrors.bind(this)),this}async createNewSpreadsheetDocument(e){if(this.spreadsheetId)throw new Error("Only call `createNewSpreadsheetDocument()` on a GoogleSpreadsheet object that has no spreadsheetId set");const t=await this.axios.post(this.url,{properties:e});this.spreadsheetId=t.data.spreadsheetId,this.axios.defaults.baseURL+=this.spreadsheetId,this._rawProperties=t.data.properties,n.each(t.data.sheets,e=>this._updateOrCreateSheet(e))}async useApiKey(e){this.authMode=l,this.apiKey=e}async useRawAccessToken(e){this.authMode=f,this.accessToken=e}async useOAuth2Client(e){this.authMode=h,this.oAuth2Client=e}async useServiceAccountAuth(e,t=null){this.jwtClient=new i({email:e.client_email,key:e.private_key,scopes:u,subject:t}),await this.renewJwtAuth()}async renewJwtAuth(){this.authMode=c,await this.jwtClient.authorize()}async _setAxiosRequestAuth(e){if(this.authMode===c){if(!this.jwtClient)throw new Error("JWT auth is not set up properly");await this.jwtClient.authorize(),e.headers.Authorization="Bearer "+this.jwtClient.credentials.access_token}else if(this.authMode===f){if(!this.accessToken)throw new Error("Invalid access token");e.headers.Authorization="Bearer "+this.accessToken}else if(this.authMode===l){if(!this.apiKey)throw new Error("Please set API key");e.params=e.params||{},e.params.key=this.apiKey}else{if(this.authMode!==h)throw new Error("You must initialize some kind of auth before making any requests");{const t=await this.oAuth2Client.getAccessToken();e.headers.Authorization="Bearer "+t.token}}return e}async _handleAxiosResponse(e){return e}async _handleAxiosErrors(e){if(e.response&&e.response.data){if(!e.response.data.error)throw e;const{code:t,message:r}=e.response.data.error;throw e.message=`Google API error - [${t}] ${r}`,e}if(403===n.get(e,"response.status")&&this.authMode===l)throw new Error("Sheet is private. Use authentication or make public. (see https://github.com/theoephraim/node-google-spreadsheet#a-note-on-authentication for details)");throw e}async _makeSingleUpdateRequest(e,t){const r=await this.axios.post(":batchUpdate",{requests:[{[e]:t}],includeSpreadsheetInResponse:!0});return this._updateRawProperties(r.data.updatedSpreadsheet.properties),n.each(r.data.updatedSpreadsheet.sheets,e=>this._updateOrCreateSheet(e)),r.data.replies[0][e]}async _makeBatchUpdateRequest(e,t){const r=await this.axios.post(":batchUpdate",{requests:e,includeSpreadsheetInResponse:!0,...t&&{responseIncludeGridData:!0,..."*"!==t&&{responseRanges:t}}});this._updateRawProperties(r.data.updatedSpreadsheet.properties),n.each(r.data.updatedSpreadsheet.sheets,e=>this._updateOrCreateSheet(e))}_ensureInfoLoaded(){if(!this._rawProperties)throw new Error("You must call `doc.loadInfo()` before accessing this property")}_updateRawProperties(e){this._rawProperties=e}_updateOrCreateSheet({properties:e,data:t}){const{sheetId:r}=e;this._rawSheets[r]?(this._rawSheets[r]._rawProperties=e,this._rawSheets[r]._fillCellData(t)):this._rawSheets[r]=new a(this,{properties:e,data:t})}_getProp(e){return this._ensureInfoLoaded(),this._rawProperties[e]}_setProp(e,t){throw new Error("Do not update directly - use `updateProperties()`")}get title(){return this._getProp("title")}get locale(){return this._getProp("locale")}get timeZone(){return this._getProp("timeZone")}get autoRecalc(){return this._getProp("autoRecalc")}get defaultFormat(){return this._getProp("defaultFormat")}get spreadsheetTheme(){return this._getProp("spreadsheetTheme")}get iterativeCalculationSettings(){return this._getProp("iterativeCalculationSettings")}set title(e){this._setProp("title",e)}set locale(e){this._setProp("locale",e)}set timeZone(e){this._setProp("timeZone",e)}set autoRecalc(e){this._setProp("autoRecalc",e)}set defaultFormat(e){this._setProp("defaultFormat",e)}set spreadsheetTheme(e){this._setProp("spreadsheetTheme",e)}set iterativeCalculationSettings(e){this._setProp("iterativeCalculationSettings",e)}async updateProperties(e){await this._makeSingleUpdateRequest("updateSpreadsheetProperties",{properties:e,fields:o(e)})}async loadInfo(e){const t=await this.axios.get("/",{params:{...e&&{includeGridData:!0}}});this._rawProperties=t.data.properties,n.each(t.data.sheets,e=>this._updateOrCreateSheet(e))}async getInfo(){return this.loadInfo()}resetLocalCache(){this._rawProperties=null,this._rawSheets={}}get sheetCount(){return this._ensureInfoLoaded(),n.values(this._rawSheets).length}get sheetsById(){return this._ensureInfoLoaded(),this._rawSheets}get sheetsByIndex(){return this._ensureInfoLoaded(),n.sortBy(this._rawSheets,"index")}get sheetsByTitle(){return this._ensureInfoLoaded(),n.keyBy(this._rawSheets,"title")}async addSheet(e={}){const t=(await this._makeSingleUpdateRequest("addSheet",{properties:n.omit(e,"headers","headerValues")})).properties.sheetId,r=this.sheetsById[t];return(e.headerValues||e.headers)&&await r.setHeaderRow(e.headerValues||e.headers),r}async addWorksheet(e){return this.addSheet(e)}async deleteSheet(e){await this._makeSingleUpdateRequest("deleteSheet",{sheetId:e}),delete this._rawSheets[e]}async addNamedRange(e,t,r){return this._makeSingleUpdateRequest("addNamedRange",{name:e,range:t,namedRangeId:r})}async deleteNamedRange(e){return this._makeSingleUpdateRequest("deleteNamedRange",{namedRangeId:e})}async loadCells(e){const t=this.authMode===l,r=n.isArray(e)?e:[e],i=n.map(r,e=>{if(n.isString(e))return t?e:{a1Range:e};if(n.isObject(e)){if(t)throw new Error("Only A1 ranges are supported when fetching cells with read-only access (using only an API key)");return{gridRange:e}}throw new Error("Each filter must be an A1 range string or a gridrange object")});let s;s=this.authMode===l?await this.axios.get("/",{params:{includeGridData:!0,ranges:i}}):await this.axios.post(":getByDataFilter",{includeGridData:!0,dataFilters:i});const{sheets:a}=s.data;n.each(a,e=>{this._updateOrCreateSheet(e)})}}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GoogleAuth=t.auth=void 0;const n=r(96);Object.defineProperty(t,"GoogleAuth",{enumerable:!0,get:function(){return n.GoogleAuth}});var i=r(51);Object.defineProperty(t,"Compute",{enumerable:!0,get:function(){return i.Compute}});var s=r(55);Object.defineProperty(t,"GCPEnv",{enumerable:!0,get:function(){return s.GCPEnv}});var a=r(147);Object.defineProperty(t,"IAMAuth",{enumerable:!0,get:function(){return a.IAMAuth}});var o=r(54);Object.defineProperty(t,"IdTokenClient",{enumerable:!0,get:function(){return o.IdTokenClient}});var u=r(76);Object.defineProperty(t,"JWTAccess",{enumerable:!0,get:function(){return u.JWTAccess}});var c=r(56);Object.defineProperty(t,"JWT",{enumerable:!0,get:function(){return c.JWT}});var l=r(14);Object.defineProperty(t,"CodeChallengeMethod",{enumerable:!0,get:function(){return l.CodeChallengeMethod}}),Object.defineProperty(t,"OAuth2Client",{enumerable:!0,get:function(){return l.OAuth2Client}});var f=r(53);Object.defineProperty(t,"LoginTicket",{enumerable:!0,get:function(){return f.LoginTicket}});var h=r(77);Object.defineProperty(t,"UserRefreshClient",{enumerable:!0,get:function(){return h.UserRefreshClient}});var p=r(32);Object.defineProperty(t,"DefaultTransporter",{enumerable:!0,get:function(){return p.DefaultTransporter}});const d=new n.GoogleAuth;t.auth=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GoogleAuth=t.CLOUD_SDK_CLIENT_ID=void 0;const n=r(97),i=r(26),s=r(27),a=r(45),o=r(49),u=r(50),c=r(32),l=r(51),f=r(54),h=r(55),p=r(56),d=r(77);t.CLOUD_SDK_CLIENT_ID="764086051850-6qr4p6gpi6hn506pt8ejuq83di341hur.apps.googleusercontent.com";class g{constructor(e){this.checkIsGCE=void 0,this.jsonContent=null,this.cachedCredential=null,e=e||{},this._cachedProjectId=e.projectId||null,this.keyFilename=e.keyFilename||e.keyFile,this.scopes=e.scopes,this.jsonContent=e.credentials||null,this.clientOptions=e.clientOptions}get isGCE(){return this.checkIsGCE}getProjectId(e){if(!e)return this.getProjectIdAsync();this.getProjectIdAsync().then(t=>e(null,t),e)}getProjectIdAsync(){return this._cachedProjectId?Promise.resolve(this._cachedProjectId):(this._getDefaultProjectIdPromise||(this._getDefaultProjectIdPromise=new Promise(async(e,t)=>{try{const t=this.getProductionProjectId()||await this.getFileProjectId()||await this.getDefaultServiceProjectId()||await this.getGCEProjectId();if(this._cachedProjectId=t,!t)throw new Error("Unable to detect a Project Id in the current environment. \nTo learn more about authentication and Google APIs, visit: \nhttps://cloud.google.com/docs/authentication/getting-started");e(t)}catch(e){t(e)}})),this._getDefaultProjectIdPromise)}getApplicationDefault(e={},t){let r;if("function"==typeof e?t=e:r=e,!t)return this.getApplicationDefaultAsync(r);this.getApplicationDefaultAsync(r).then(e=>t(null,e.credential,e.projectId),t)}async getApplicationDefaultAsync(e={}){if(this.cachedCredential)return{credential:this.cachedCredential,projectId:await this.getProjectIdAsync()};let t,r,n;if(t=await this._tryGetApplicationCredentialsFromEnvironmentVariable(e),t)return t instanceof p.JWT&&(t.defaultScopes=this.defaultScopes,t.scopes=this.scopes),this.cachedCredential=t,r=await this.getProjectId(),{credential:t,projectId:r};if(t=await this._tryGetApplicationCredentialsFromWellKnownFile(e),t)return t instanceof p.JWT&&(t.defaultScopes=this.defaultScopes,t.scopes=this.scopes),this.cachedCredential=t,r=await this.getProjectId(),{credential:t,projectId:r};try{n=await this._checkIsGCE()}catch(e){throw e.message="Unexpected error determining execution environment: "+e.message,e}if(!n)throw new Error("Could not load the default credentials. Browse to https://cloud.google.com/docs/authentication/getting-started for more information.");return e.scopes=this.scopes||this.defaultScopes,this.cachedCredential=new l.Compute(e),r=await this.getProjectId(),{projectId:r,credential:this.cachedCredential}}async _checkIsGCE(){return void 0===this.checkIsGCE&&(this.checkIsGCE=await s.isAvailable()),this.checkIsGCE}async _tryGetApplicationCredentialsFromEnvironmentVariable(e){const t=process.env.GOOGLE_APPLICATION_CREDENTIALS||process.env.google_application_credentials;if(!t||0===t.length)return null;try{return this._getApplicationCredentialsFromFilePath(t,e)}catch(e){throw e.message="Unable to read the credential file specified by the GOOGLE_APPLICATION_CREDENTIALS environment variable: "+e.message,e}}async _tryGetApplicationCredentialsFromWellKnownFile(e){let t=null;if(this._isWindows())t=process.env.APPDATA;else{const e=process.env.HOME;e&&(t=o.join(e,".config"))}if(t&&(t=o.join(t,"gcloud","application_default_credentials.json"),i.existsSync(t)||(t=null)),!t)return null;return await this._getApplicationCredentialsFromFilePath(t,e)}async _getApplicationCredentialsFromFilePath(e,t={}){if(!e||0===e.length)throw new Error("The file path is invalid.");try{if(e=i.realpathSync(e),!i.lstatSync(e).isFile())throw new Error}catch(t){throw t.message=`The file at ${e} does not exist, or it is not a file. ${t.message}`,t}const r=i.createReadStream(e);return this.fromStream(r,t)}fromJSON(e,t){let r;if(!e)throw new Error("Must pass in a JSON object containing the Google auth settings.");return t=t||{},"authorized_user"===e.type?r=new d.UserRefreshClient(t):(t.scopes=this.scopes,r=new p.JWT(t),r.defaultScopes=this.defaultScopes),r.fromJSON(e),r}_cacheClientFromJSON(e,t){let r;return t=t||{},"authorized_user"===e.type?r=new d.UserRefreshClient(t):(t.scopes=this.scopes,r=new p.JWT(t),r.defaultScopes=this.defaultScopes),r.fromJSON(e),this.jsonContent=e,this.cachedCredential=r,this.cachedCredential}fromStream(e,t={},r){let n={};if("function"==typeof t?r=t:n=t,!r)return this.fromStreamAsync(e,n);this.fromStreamAsync(e,n).then(e=>r(null,e),r)}fromStreamAsync(e,t){return new Promise((r,n)=>{if(!e)throw new Error("Must pass in a stream containing the Google auth settings.");let i="";e.setEncoding("utf8").on("error",n).on("data",e=>i+=e).on("end",()=>{try{try{const e=JSON.parse(i),n=this._cacheClientFromJSON(e,t);return r(n)}catch(e){if(!this.keyFilename)throw e;const t=new p.JWT({...this.clientOptions,keyFile:this.keyFilename});return this.cachedCredential=t,r(t)}}catch(e){return n(e)}})})}fromAPIKey(e,t){t=t||{};const r=new p.JWT(t);return r.fromAPIKey(e),r}_isWindows(){const e=a.platform();return!!(e&&e.length>=3&&"win"===e.substring(0,3).toLowerCase())}async getDefaultServiceProjectId(){return new Promise(e=>{n.exec("gcloud config config-helper --format json",(t,r)=>{if(!t&&r)try{const t=JSON.parse(r).configuration.properties.core.project;return void e(t)}catch(e){}e(null)})})}getProductionProjectId(){return process.env.GCLOUD_PROJECT||process.env.GOOGLE_CLOUD_PROJECT||process.env.gcloud_project||process.env.google_cloud_project}async getFileProjectId(){if(this.cachedCredential)return this.cachedCredential.projectId;if(this.keyFilename){const e=await this.getClient();if(e&&e.projectId)return e.projectId}const e=await this._tryGetApplicationCredentialsFromEnvironmentVariable();return e?e.projectId:null}async getGCEProjectId(){try{return await s.project("project-id")}catch(e){return null}}getCredentials(e){if(!e)return this.getCredentialsAsync();this.getCredentialsAsync().then(t=>e(null,t),e)}async getCredentialsAsync(){if(await this.getClient(),this.jsonContent){return{client_email:this.jsonContent.client_email,private_key:this.jsonContent.private_key}}if(!await this._checkIsGCE())throw new Error("Unknown error.");const e=await s.instance({property:"service-accounts/",params:{recursive:"true"}});if(!e||!e.default||!e.default.email)throw new Error("Failure from metadata server.");return{client_email:e.default.email}}async getClient(e){if(e)throw new Error("Passing options to getClient is forbidden in v5.0.0. Use new GoogleAuth(opts) instead.");if(!this.cachedCredential)if(this.jsonContent)this._cacheClientFromJSON(this.jsonContent,this.clientOptions);else if(this.keyFilename){const e=o.resolve(this.keyFilename),t=i.createReadStream(e);await this.fromStreamAsync(t,this.clientOptions)}else await this.getApplicationDefaultAsync(this.clientOptions);return this.cachedCredential}async getIdTokenClient(e){const t=await this.getClient();if(!("fetchIdToken"in t))throw new Error("Cannot fetch ID token in this environment, use GCE or set the GOOGLE_APPLICATION_CREDENTIALS environment variable to a service account credentials JSON file.");return new f.IdTokenClient({targetAudience:e,idTokenProvider:t})}async getAccessToken(){const e=await this.getClient();return(await e.getAccessToken()).token}async getRequestHeaders(e){return(await this.getClient()).getRequestHeaders(e)}async authorizeRequest(e){const t=(e=e||{}).url||e.uri,r=await this.getClient(),n=await r.getRequestHeaders(t);return e.headers=Object.assign(e.headers||{},n),e}async request(e){return(await this.getClient()).request(e)}getEnv(){return h.getEnv()}async sign(e){const t=await this.getClient(),r=u.createCrypto();if(t instanceof p.JWT&&t.key){return await r.sign(t.key,e)}if(!await this.getProjectId())throw new Error("Cannot sign data without a project ID.");const n=await this.getCredentials();if(!n.client_email)throw new Error("Cannot sign data without `client_email`.");const i=`https://iamcredentials.googleapis.com/v1/projects/-/serviceAccounts/${n.client_email}:signBlob`;return(await this.request({method:"POST",url:i,data:{payload:r.encodeBase64StringUtf8(e)}})).data.signedBlob}}t.GoogleAuth=g,g.DefaultTransporter=c.DefaultTransporter},function(e,t){e.exports=require("child_process")},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Gaxios=void 0;const i=n(r(99)),s=n(r(100)),a=n(r(40)),o=n(r(101)),u=r(41),c=r(102),l="undefined"!=typeof window&&window&&window.fetch?window.fetch:s.default;function f(e,t){return!!h(e,t)}function h(e,t){t=t.toLowerCase();for(const r of Object.keys((null==e?void 0:e.headers)||{}))if(t===r.toLowerCase())return e.headers[r]}let p;function d(){const e=process.env.HTTPS_PROXY||process.env.https_proxy||process.env.HTTP_PROXY||process.env.http_proxy;return e&&(p=r(103)),e}function g(e){return function(e){var t;const r=null!==(t=process.env.NO_PROXY)&&void 0!==t?t:process.env.no_proxy;if(!r)return!1;const n=r.split(","),i=new URL(e);return!!n.find(e=>e.startsWith("*.")||e.startsWith(".")?(e=e.replace("*",""),i.hostname.endsWith(e)):e===i.origin||e===i.hostname)}(e)?void 0:d()}d();t.Gaxios=class{constructor(e){this.agentCache=new Map,this.defaults=e||{}}async request(e={}){return e=this.validateOpts(e),this._request(e)}async _defaultAdapter(e){const t=e.fetchImplementation||l,r=await t(e.url,e),n=await this.getResponseData(e,r);return this.translateResponse(e,r,n)}async _request(e={}){try{let t;if(t=e.adapter?await e.adapter(e,this._defaultAdapter.bind(this)):await this._defaultAdapter(e),!e.validateStatus(t.status))throw new u.GaxiosError("Request failed with status code "+t.status,e,t);return t}catch(t){const r=t;r.config=e;const{shouldRetry:n,config:i}=await c.getRetryConfig(t);if(n&&i)return r.config.retryConfig.currentRetryAttempt=i.retryConfig.currentRetryAttempt,this._request(r.config);throw r}}async getResponseData(e,t){switch(e.responseType){case"stream":return t.body;case"json":{let e=await t.text();try{e=JSON.parse(e)}catch(e){}return e}case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();default:return t.text()}}validateOpts(e){const t=i.default(!0,{},this.defaults,e);if(!t.url)throw new Error("URL is required.");const r=t.baseUrl||t.baseURL;if(r&&(t.url=r+t.url),t.paramsSerializer=t.paramsSerializer||this.paramsSerializer,t.params&&Object.keys(t.params).length>0){let e=t.paramsSerializer(t.params);e.startsWith("?")&&(e=e.slice(1));const r=t.url.includes("?")?"&":"?";t.url=t.url+r+e}"number"==typeof e.maxContentLength&&(t.size=e.maxContentLength),"number"==typeof e.maxRedirects&&(t.follow=e.maxRedirects),t.headers=t.headers||{},t.data&&(o.default.readable(t.data)?t.body=t.data:"undefined"!=typeof Buffer&&Buffer.isBuffer(t.data)?(t.body=t.data,f(t,"Content-Type")||(t.headers["Content-Type"]="application/json")):"object"==typeof t.data?"application/x-www-form-urlencoded"===h(t,"content-type")?t.body=t.paramsSerializer(t.data):(f(t,"Content-Type")||(t.headers["Content-Type"]="application/json"),t.body=JSON.stringify(t.data)):t.body=t.data),t.validateStatus=t.validateStatus||this.validateStatus,t.responseType=t.responseType||"json",t.headers.Accept||"json"!==t.responseType||(t.headers.Accept="application/json"),t.method=t.method||"GET";const n=g(t.url);return n&&(this.agentCache.has(n)?t.agent=this.agentCache.get(n):(t.agent=new p(n),this.agentCache.set(n,t.agent))),t}validateStatus(e){return e>=200&&e<300}paramsSerializer(e){return a.default.stringify(e)}translateResponse(e,t,r){const n={};return t.headers.forEach((e,t)=>{n[t]=e}),{config:e,data:r,headers:n,status:t.status,statusText:t.statusText,request:{responseURL:t.url}}}}},function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty,i=Object.prototype.toString,s=Object.defineProperty,a=Object.getOwnPropertyDescriptor,o=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===i.call(e)},u=function(e){if(!e||"[object Object]"!==i.call(e))return!1;var t,r=n.call(e,"constructor"),s=e.constructor&&e.constructor.prototype&&n.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!r&&!s)return!1;for(t in e);return void 0===t||n.call(e,t)},c=function(e,t){s&&"__proto__"===t.name?s(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},l=function(e,t){if("__proto__"===t){if(!n.call(e,t))return;if(a)return a(e,t).value}return e[t]};e.exports=function e(){var t,r,n,i,s,a,f=arguments[0],h=1,p=arguments.length,d=!1;for("boolean"==typeof f&&(d=f,f=arguments[1]||{},h=2),(null==f||"object"!=typeof f&&"function"!=typeof f)&&(f={});h<p;++h)if(null!=(t=arguments[h]))for(r in t)n=l(f,r),f!==(i=l(t,r))&&(d&&i&&(u(i)||(s=o(i)))?(s?(s=!1,a=n&&o(n)?n:[]):a=n&&u(n)?n:{},c(f,{name:r,newValue:e(d,a,i)})):void 0!==i&&c(f,{name:r,newValue:i}));return f}},function(e,t,r){"use strict";r.r(t),r.d(t,"Headers",(function(){return k})),r.d(t,"Request",(function(){return q})),r.d(t,"Response",(function(){return U})),r.d(t,"FetchError",(function(){return h}));var n=r(2),i=r(18),s=r(11),a=r(25),o=r(8);const u=n.Readable,c=Symbol("buffer"),l=Symbol("type");class f{constructor(){this[l]="";const e=arguments[0],t=arguments[1],r=[];let n=0;if(e){const t=e,i=Number(t.length);for(let e=0;e<i;e++){const i=t[e];let s;s=i instanceof Buffer?i:ArrayBuffer.isView(i)?Buffer.from(i.buffer,i.byteOffset,i.byteLength):i instanceof ArrayBuffer?Buffer.from(i):i instanceof f?i[c]:Buffer.from("string"==typeof i?i:String(i)),n+=s.length,r.push(s)}}this[c]=Buffer.concat(r);let i=t&&void 0!==t.type&&String(t.type).toLowerCase();i&&!/[^\u0020-\u007E]/.test(i)&&(this[l]=i)}get size(){return this[c].length}get type(){return this[l]}text(){return Promise.resolve(this[c].toString())}arrayBuffer(){const e=this[c],t=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);return Promise.resolve(t)}stream(){const e=new u;return e._read=function(){},e.push(this[c]),e.push(null),e}toString(){return"[object Blob]"}slice(){const e=this.size,t=arguments[0],r=arguments[1];let n,i;n=void 0===t?0:t<0?Math.max(e+t,0):Math.min(t,e),i=void 0===r?e:r<0?Math.max(e+r,0):Math.min(r,e);const s=Math.max(i-n,0),a=this[c].slice(n,n+s),o=new f([],{type:arguments[2]});return o[c]=a,o}}function h(e,t,r){Error.call(this,e),this.message=e,this.type=t,r&&(this.code=this.errno=r.code),Error.captureStackTrace(this,this.constructor)}let p;Object.defineProperties(f.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}}),Object.defineProperty(f.prototype,Symbol.toStringTag,{value:"Blob",writable:!1,enumerable:!1,configurable:!0}),h.prototype=Object.create(Error.prototype),h.prototype.constructor=h,h.prototype.name="FetchError";try{p=require("encoding").convert}catch(e){}const d=Symbol("Body internals"),g=n.PassThrough;function y(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.size;let s=void 0===i?0:i;var a=r.timeout;let o=void 0===a?0:a;null==e?e=null:v(e)?e=Buffer.from(e.toString()):C(e)||Buffer.isBuffer(e)||("[object ArrayBuffer]"===Object.prototype.toString.call(e)?e=Buffer.from(e):ArrayBuffer.isView(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):e instanceof n||(e=Buffer.from(String(e)))),this[d]={body:e,disturbed:!1,error:null},this.size=s,this.timeout=o,e instanceof n&&e.on("error",(function(e){const r="AbortError"===e.name?e:new h(`Invalid response body while trying to fetch ${t.url}: ${e.message}`,"system",e);t[d].error=r}))}function m(){var e=this;if(this[d].disturbed)return y.Promise.reject(new TypeError("body used already for: "+this.url));if(this[d].disturbed=!0,this[d].error)return y.Promise.reject(this[d].error);let t=this.body;if(null===t)return y.Promise.resolve(Buffer.alloc(0));if(C(t)&&(t=t.stream()),Buffer.isBuffer(t))return y.Promise.resolve(t);if(!(t instanceof n))return y.Promise.resolve(Buffer.alloc(0));let r=[],i=0,s=!1;return new y.Promise((function(n,a){let o;e.timeout&&(o=setTimeout((function(){s=!0,a(new h(`Response timeout while trying to fetch ${e.url} (over ${e.timeout}ms)`,"body-timeout"))}),e.timeout)),t.on("error",(function(t){"AbortError"===t.name?(s=!0,a(t)):a(new h(`Invalid response body while trying to fetch ${e.url}: ${t.message}`,"system",t))})),t.on("data",(function(t){if(!s&&null!==t){if(e.size&&i+t.length>e.size)return s=!0,void a(new h(`content size at ${e.url} over limit: ${e.size}`,"max-size"));i+=t.length,r.push(t)}})),t.on("end",(function(){if(!s){clearTimeout(o);try{n(Buffer.concat(r,i))}catch(t){a(new h(`Could not create Buffer from response body for ${e.url}: ${t.message}`,"system",t))}}}))}))}function v(e){return"object"==typeof e&&"function"==typeof e.append&&"function"==typeof e.delete&&"function"==typeof e.get&&"function"==typeof e.getAll&&"function"==typeof e.has&&"function"==typeof e.set&&("URLSearchParams"===e.constructor.name||"[object URLSearchParams]"===Object.prototype.toString.call(e)||"function"==typeof e.sort)}function C(e){return"object"==typeof e&&"function"==typeof e.arrayBuffer&&"string"==typeof e.type&&"function"==typeof e.stream&&"function"==typeof e.constructor&&"string"==typeof e.constructor.name&&/^(Blob|File)$/.test(e.constructor.name)&&/^(Blob|File)$/.test(e[Symbol.toStringTag])}function E(e){let t,r,i=e.body;if(e.bodyUsed)throw new Error("cannot clone body after it is used");return i instanceof n&&"function"!=typeof i.getBoundary&&(t=new g,r=new g,i.pipe(t),i.pipe(r),e[d].body=t,i=r),i}function b(e){return null===e?null:"string"==typeof e?"text/plain;charset=UTF-8":v(e)?"application/x-www-form-urlencoded;charset=UTF-8":C(e)?e.type||null:Buffer.isBuffer(e)||"[object ArrayBuffer]"===Object.prototype.toString.call(e)||ArrayBuffer.isView(e)?null:"function"==typeof e.getBoundary?"multipart/form-data;boundary="+e.getBoundary():e instanceof n?null:"text/plain;charset=UTF-8"}function S(e){const t=e.body;return null===t?0:C(t)?t.size:Buffer.isBuffer(t)?t.length:t&&"function"==typeof t.getLengthSync&&(t._lengthRetrievers&&0==t._lengthRetrievers.length||t.hasKnownLength&&t.hasKnownLength())?t.getLengthSync():null}y.prototype={get body(){return this[d].body},get bodyUsed(){return this[d].disturbed},arrayBuffer(){return m.call(this).then((function(e){return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}))},blob(){let e=this.headers&&this.headers.get("content-type")||"";return m.call(this).then((function(t){return Object.assign(new f([],{type:e.toLowerCase()}),{[c]:t})}))},json(){var e=this;return m.call(this).then((function(t){try{return JSON.parse(t.toString())}catch(t){return y.Promise.reject(new h(`invalid json response body at ${e.url} reason: ${t.message}`,"invalid-json"))}}))},text(){return m.call(this).then((function(e){return e.toString()}))},buffer(){return m.call(this)},textConverted(){var e=this;return m.call(this).then((function(t){return function(e,t){if("function"!=typeof p)throw new Error("The package `encoding` must be installed to use the textConverted() function");const r=t.get("content-type");let n,i,s="utf-8";r&&(n=/charset=([^;]*)/i.exec(r));i=e.slice(0,1024).toString(),!n&&i&&(n=/<meta.+?charset=(['"])(.+?)\1/i.exec(i));!n&&i&&(n=/<meta[\s]+?http-equiv=(['"])content-type\1[\s]+?content=(['"])(.+?)\2/i.exec(i),n||(n=/<meta[\s]+?content=(['"])(.+?)\1[\s]+?http-equiv=(['"])content-type\3/i.exec(i),n&&n.pop()),n&&(n=/charset=(.*)/i.exec(n.pop())));!n&&i&&(n=/<\?xml.+?encoding=(['"])(.+?)\1/i.exec(i));n&&(s=n.pop(),"gb2312"!==s&&"gbk"!==s||(s="gb18030"));return p(e,"UTF-8",s).toString()}(t,e.headers)}))}},Object.defineProperties(y.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0}}),y.mixIn=function(e){for(const t of Object.getOwnPropertyNames(y.prototype))if(!(t in e)){const r=Object.getOwnPropertyDescriptor(y.prototype,t);Object.defineProperty(e,t,r)}},y.Promise=global.Promise;const w=/[^\^_`a-zA-Z\-0-9!#$%&'*+.|~]/,_=/[^\t\x20-\x7e\x80-\xff]/;function T(e){if(e=""+e,w.test(e)||""===e)throw new TypeError(e+" is not a legal HTTP header name")}function A(e){if(e=""+e,_.test(e))throw new TypeError(e+" is not a legal HTTP header value")}function I(e,t){t=t.toLowerCase();for(const r in e)if(r.toLowerCase()===t)return r}const B=Symbol("map");class k{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(this[B]=Object.create(null),e instanceof k){const t=e.raw(),r=Object.keys(t);for(const e of r)for(const r of t[e])this.append(e,r)}else if(null==e);else{if("object"!=typeof e)throw new TypeError("Provided initializer must be an object");{const t=e[Symbol.iterator];if(null!=t){if("function"!=typeof t)throw new TypeError("Header pairs must be iterable");const r=[];for(const t of e){if("object"!=typeof t||"function"!=typeof t[Symbol.iterator])throw new TypeError("Each header pair must be iterable");r.push(Array.from(t))}for(const e of r){if(2!==e.length)throw new TypeError("Each header pair must be a name/value tuple");this.append(e[0],e[1])}}else for(const t of Object.keys(e)){const r=e[t];this.append(t,r)}}}}get(e){T(e=""+e);const t=I(this[B],e);return void 0===t?null:this[B][t].join(", ")}forEach(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=R(this),n=0;for(;n<r.length;){var i=r[n];const s=i[0],a=i[1];e.call(t,a,s,this),r=R(this),n++}}set(e,t){t=""+t,T(e=""+e),A(t);const r=I(this[B],e);this[B][void 0!==r?r:e]=[t]}append(e,t){t=""+t,T(e=""+e),A(t);const r=I(this[B],e);void 0!==r?this[B][r].push(t):this[B][e]=[t]}has(e){return T(e=""+e),void 0!==I(this[B],e)}delete(e){T(e=""+e);const t=I(this[B],e);void 0!==t&&delete this[B][t]}raw(){return this[B]}keys(){return O(this,"key")}values(){return O(this,"value")}[Symbol.iterator](){return O(this,"key+value")}}function R(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"key+value";const r=Object.keys(e[B]).sort();return r.map("key"===t?function(e){return e.toLowerCase()}:"value"===t?function(t){return e[B][t].join(", ")}:function(t){return[t.toLowerCase(),e[B][t].join(", ")]})}k.prototype.entries=k.prototype[Symbol.iterator],Object.defineProperty(k.prototype,Symbol.toStringTag,{value:"Headers",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(k.prototype,{get:{enumerable:!0},forEach:{enumerable:!0},set:{enumerable:!0},append:{enumerable:!0},has:{enumerable:!0},delete:{enumerable:!0},keys:{enumerable:!0},values:{enumerable:!0},entries:{enumerable:!0}});const N=Symbol("internal");function O(e,t){const r=Object.create(x);return r[N]={target:e,kind:t,index:0},r}const x=Object.setPrototypeOf({next(){if(!this||Object.getPrototypeOf(this)!==x)throw new TypeError("Value of `this` is not a HeadersIterator");var e=this[N];const t=e.target,r=e.kind,n=e.index,i=R(t,r);return n>=i.length?{value:void 0,done:!0}:(this[N].index=n+1,{value:i[n],done:!1})}},Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())));function L(e){const t=Object.assign({__proto__:null},e[B]),r=I(e[B],"Host");return void 0!==r&&(t[r]=t[r][0]),t}Object.defineProperty(x,Symbol.toStringTag,{value:"HeadersIterator",writable:!1,enumerable:!1,configurable:!0});const D=Symbol("Response internals"),P=i.STATUS_CODES;class U{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};y.call(this,e,t);const r=t.status||200,n=new k(t.headers);if(null!=e&&!n.has("Content-Type")){const t=b(e);t&&n.append("Content-Type",t)}this[D]={url:t.url,status:r,statusText:t.statusText||P[r],headers:n,counter:t.counter}}get url(){return this[D].url||""}get status(){return this[D].status}get ok(){return this[D].status>=200&&this[D].status<300}get redirected(){return this[D].counter>0}get statusText(){return this[D].statusText}get headers(){return this[D].headers}clone(){return new U(E(this),{url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected})}}y.mixIn(U.prototype),Object.defineProperties(U.prototype,{url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}}),Object.defineProperty(U.prototype,Symbol.toStringTag,{value:"Response",writable:!1,enumerable:!1,configurable:!0});const j=Symbol("Request internals"),F=s.parse,V=s.format,M="destroy"in n.Readable.prototype;function K(e){return"object"==typeof e&&"object"==typeof e[j]}class q{constructor(e){let t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};K(e)?t=F(e.url):(t=e&&e.href?F(e.href):F(""+e),e={});let n=r.method||e.method||"GET";if(n=n.toUpperCase(),(null!=r.body||K(e)&&null!==e.body)&&("GET"===n||"HEAD"===n))throw new TypeError("Request with GET/HEAD method cannot have body");let i=null!=r.body?r.body:K(e)&&null!==e.body?E(e):null;y.call(this,i,{timeout:r.timeout||e.timeout||0,size:r.size||e.size||0});const s=new k(r.headers||e.headers||{});if(null!=i&&!s.has("Content-Type")){const e=b(i);e&&s.append("Content-Type",e)}let a=K(e)?e.signal:null;if("signal"in r&&(a=r.signal),null!=a&&!function(e){const t=e&&"object"==typeof e&&Object.getPrototypeOf(e);return!(!t||"AbortSignal"!==t.constructor.name)}(a))throw new TypeError("Expected signal to be an instanceof AbortSignal");this[j]={method:n,redirect:r.redirect||e.redirect||"follow",headers:s,parsedURL:t,signal:a},this.follow=void 0!==r.follow?r.follow:void 0!==e.follow?e.follow:20,this.compress=void 0!==r.compress?r.compress:void 0===e.compress||e.compress,this.counter=r.counter||e.counter||0,this.agent=r.agent||e.agent}get method(){return this[j].method}get url(){return V(this[j].parsedURL)}get headers(){return this[j].headers}get redirect(){return this[j].redirect}get signal(){return this[j].signal}clone(){return new q(this)}}function G(e){Error.call(this,e),this.type="aborted",this.message=e,Error.captureStackTrace(this,this.constructor)}y.mixIn(q.prototype),Object.defineProperty(q.prototype,Symbol.toStringTag,{value:"Request",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(q.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0}}),G.prototype=Object.create(Error.prototype),G.prototype.constructor=G,G.prototype.name="AbortError";const H=n.PassThrough,z=s.resolve;function W(e,t){if(!W.Promise)throw new Error("native promise missing, set fetch.Promise to your favorite alternative");return y.Promise=W.Promise,new W.Promise((function(r,s){const u=new q(e,t),c=function(e){const t=e[j].parsedURL,r=new k(e[j].headers);if(r.has("Accept")||r.set("Accept","*/*"),!t.protocol||!t.hostname)throw new TypeError("Only absolute URLs are supported");if(!/^https?:$/.test(t.protocol))throw new TypeError("Only HTTP(S) protocols are supported");if(e.signal&&e.body instanceof n.Readable&&!M)throw new Error("Cancellation of streamed requests with AbortSignal is not supported in node < 8");let i=null;if(null==e.body&&/^(POST|PUT)$/i.test(e.method)&&(i="0"),null!=e.body){const t=S(e);"number"==typeof t&&(i=String(t))}i&&r.set("Content-Length",i),r.has("User-Agent")||r.set("User-Agent","node-fetch/1.0 (+https://github.com/bitinn/node-fetch)"),e.compress&&!r.has("Accept-Encoding")&&r.set("Accept-Encoding","gzip,deflate");let s=e.agent;return"function"==typeof s&&(s=s(t)),r.has("Connection")||s||r.set("Connection","close"),Object.assign({},t,{method:e.method,headers:L(r),agent:s})}(u),l=("https:"===c.protocol?a:i).request,f=u.signal;let p=null;const d=function(){let e=new G("The user aborted a request.");s(e),u.body&&u.body instanceof n.Readable&&u.body.destroy(e),p&&p.body&&p.body.emit("error",e)};if(f&&f.aborted)return void d();const g=function(){d(),v()},y=l(c);let m;function v(){y.abort(),f&&f.removeEventListener("abort",g),clearTimeout(m)}f&&f.addEventListener("abort",g),u.timeout&&y.once("socket",(function(e){m=setTimeout((function(){s(new h("network timeout at: "+u.url,"request-timeout")),v()}),u.timeout)})),y.on("error",(function(e){s(new h(`request to ${u.url} failed, reason: ${e.message}`,"system",e)),v()})),y.on("response",(function(e){clearTimeout(m);const t=function(e){const t=new k;for(const r of Object.keys(e))if(!w.test(r))if(Array.isArray(e[r]))for(const n of e[r])_.test(n)||(void 0===t[B][r]?t[B][r]=[n]:t[B][r].push(n));else _.test(e[r])||(t[B][r]=[e[r]]);return t}(e.headers);if(W.isRedirect(e.statusCode)){const n=t.get("Location"),i=null===n?null:z(u.url,n);switch(u.redirect){case"error":return s(new h("uri requested responds with a redirect, redirect mode is set to error: "+u.url,"no-redirect")),void v();case"manual":if(null!==i)try{t.set("Location",i)}catch(e){s(e)}break;case"follow":if(null===i)break;if(u.counter>=u.follow)return s(new h("maximum redirect reached at: "+u.url,"max-redirect")),void v();const n={headers:new k(u.headers),follow:u.follow,counter:u.counter+1,agent:u.agent,compress:u.compress,method:u.method,body:u.body,signal:u.signal,timeout:u.timeout,size:u.size};return 303!==e.statusCode&&u.body&&null===S(u)?(s(new h("Cannot follow redirect with body being a readable stream","unsupported-redirect")),void v()):(303!==e.statusCode&&(301!==e.statusCode&&302!==e.statusCode||"POST"!==u.method)||(n.method="GET",n.body=void 0,n.headers.delete("content-length")),r(W(new q(i,n))),void v())}}e.once("end",(function(){f&&f.removeEventListener("abort",g)}));let n=e.pipe(new H);const i={url:u.url,status:e.statusCode,statusText:e.statusMessage,headers:t,size:u.size,timeout:u.timeout,counter:u.counter},a=t.get("Content-Encoding");if(!u.compress||"HEAD"===u.method||null===a||204===e.statusCode||304===e.statusCode)return p=new U(n,i),void r(p);const c={flush:o.Z_SYNC_FLUSH,finishFlush:o.Z_SYNC_FLUSH};if("gzip"==a||"x-gzip"==a)return n=n.pipe(o.createGunzip(c)),p=new U(n,i),void r(p);if("deflate"!=a&&"x-deflate"!=a){if("br"==a&&"function"==typeof o.createBrotliDecompress)return n=n.pipe(o.createBrotliDecompress()),p=new U(n,i),void r(p);p=new U(n,i),r(p)}else{e.pipe(new H).once("data",(function(e){n=8==(15&e[0])?n.pipe(o.createInflate()):n.pipe(o.createInflateRaw()),p=new U(n,i),r(p)}))}})),function(e,t){const r=t.body;null===r?e.end():C(r)?r.stream().pipe(e):Buffer.isBuffer(r)?(e.write(r),e.end()):r.pipe(e)}(y,u)}))}W.isRedirect=function(e){return 301===e||302===e||303===e||307===e||308===e},W.Promise=global.Promise,t.default=W},function(e,t,r){"use strict";const n=e=>null!==e&&"object"==typeof e&&"function"==typeof e.pipe;n.writable=e=>n(e)&&!1!==e.writable&&"function"==typeof e._write&&"object"==typeof e._writableState,n.readable=e=>n(e)&&!1!==e.readable&&"function"==typeof e._read&&"object"==typeof e._readableState,n.duplex=e=>n.writable(e)&&n.readable(e),n.transform=e=>n.duplex(e)&&"function"==typeof e._transform&&"object"==typeof e._transformState,e.exports=n},function(e,t,r){"use strict";function n(e){const t=i(e);if("AbortError"===e.name)return!1;if(!t||0===t.retry)return!1;if(!e.response&&(t.currentRetryAttempt||0)>=t.noResponseRetries)return!1;if(!e.config.method||t.httpMethodsToRetry.indexOf(e.config.method.toUpperCase())<0)return!1;if(e.response&&e.response.status){let r=!1;for(const[n,i]of t.statusCodesToRetry){const t=e.response.status;if(t>=n&&t<=i){r=!0;break}}if(!r)return!1}return t.currentRetryAttempt=t.currentRetryAttempt||0,!(t.currentRetryAttempt>=t.retry)}function i(e){if(e&&e.config&&e.config.retryConfig)return e.config.retryConfig}Object.defineProperty(t,"__esModule",{value:!0}),t.getRetryConfig=void 0,t.getRetryConfig=async function(e){var t;let r=i(e);if(!e||!e.config||!r&&!e.config.retry)return{shouldRetry:!1};r=r||{},r.currentRetryAttempt=r.currentRetryAttempt||0,r.retry=void 0===r.retry||null===r.retry?3:r.retry,r.httpMethodsToRetry=r.httpMethodsToRetry||["GET","HEAD","PUT","OPTIONS","DELETE"],r.noResponseRetries=void 0===r.noResponseRetries||null===r.noResponseRetries?2:r.noResponseRetries,r.statusCodesToRetry=r.statusCodesToRetry||[[100,199],[429,429],[500,599]],e.config.retryConfig=r;const s=r.shouldRetry||n;if(!await s(e))return{shouldRetry:!1,config:e.config};const a=(r.currentRetryAttempt?0:null!==(t=r.retryDelay)&&void 0!==t?t:100)+(Math.pow(2,r.currentRetryAttempt)-1)/2*1e3;e.config.retryConfig.currentRetryAttempt+=1;const o=new Promise(e=>{setTimeout(e,a)});return r.onRetryAttempt&&r.onRetryAttempt(e),await o,{shouldRetry:!0,config:e.config}}},function(e,t,r){"use strict";const n=(this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}})(r(104));function i(e){return new n.default(e)}!function(e){e.HttpsProxyAgent=n.default,e.prototype=n.default.prototype}(i||(i={})),e.exports=i},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function a(e){try{u(n.next(e))}catch(e){s(e)}}function o(e){try{u(n.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,o)}u((n=n.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=i(r(105)),a=i(r(106)),o=i(r(11)),u=i(r(42)),c=i(r(43)),l=r(110),f=i(r(115)),h=c.default("https-proxy-agent:agent");class p extends l.Agent{constructor(e){let t;if(t="string"==typeof e?o.default.parse(e):e,!t)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");h("creating new HttpsProxyAgent instance: %o",t),super(t);const r=Object.assign({},t);var n;this.secureProxy=t.secureProxy||"string"==typeof(n=r.protocol)&&/^https:?$/i.test(n),r.host=r.hostname||r.host,"string"==typeof r.port&&(r.port=parseInt(r.port,10)),!r.port&&r.host&&(r.port=this.secureProxy?443:80),this.secureProxy&&!("ALPNProtocols"in r)&&(r.ALPNProtocols=["http 1.1"]),r.host&&r.path&&(delete r.path,delete r.pathname),this.proxy=r}callback(e,t){return n(this,void 0,void 0,(function*(){const{proxy:r,secureProxy:n}=this;let i;n?(h("Creating `tls.Socket`: %o",r),i=a.default.connect(r)):(h("Creating `net.Socket`: %o",r),i=s.default.connect(r));const o=Object.assign({},r.headers);let c=`CONNECT ${`${t.host}:${t.port}`} HTTP/1.1\r\n`;r.auth&&(o["Proxy-Authorization"]="Basic "+Buffer.from(r.auth).toString("base64"));let{host:l,port:p,secureEndpoint:g}=t;(function(e,t){return Boolean(!t&&80===e||t&&443===e)})(p,g)||(l+=":"+p),o.Host=l,o.Connection="close";for(const e of Object.keys(o))c+=`${e}: ${o[e]}\r\n`;const y=f.default(i);i.write(c+"\r\n");const{statusCode:m,buffered:v}=yield y;if(200===m){if(e.once("socket",d),t.secureEndpoint){const e=t.servername||t.host;if(!e)throw new Error('Could not determine "servername"');return h("Upgrading socket connection to TLS"),a.default.connect(Object.assign(Object.assign({},function(e,...t){const r={};let n;for(n in e)t.includes(n)||(r[n]=e[n]);return r}(t,"host","hostname","path","port")),{socket:i,servername:e}))}return i}i.destroy();const C=new s.default.Socket;return C.readable=!0,e.once("socket",e=>{h("replaying proxy buffer for failed request"),u.default(e.listenerCount("data")>0),e.push(v),e.push(null)}),C}))}}function d(e){e.resume()}t.default=p},function(e,t){e.exports=require("net")},function(e,t){e.exports=require("tls")},function(e,t,r){t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,i=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(n++,"%c"===e&&(i=n))}),t.splice(i,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=r(44)(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},function(e,t,r){const n=r(30),i=r(6);t.init=function(e){e.inspectOpts={};const r=Object.keys(t.inspectOpts);for(let n=0;n<r.length;n++)e.inspectOpts[r[n]]=t.inspectOpts[r[n]]},t.log=function(...e){return process.stderr.write(i.format(...e)+"\n")},t.formatArgs=function(r){const{namespace:n,useColors:i}=this;if(i){const t=this.color,i="[3"+(t<8?t:"8;5;"+t),s=`  ${i};1m${n} [0m`;r[0]=s+r[0].split("\n").join("\n"+s),r.push(i+"m+"+e.exports.humanize(this.diff)+"[0m")}else r[0]=function(){if(t.inspectOpts.hideDate)return"";return(new Date).toISOString()+" "}()+n+" "+r[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):n.isatty(process.stderr.fd)},t.destroy=i.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{const e=r(31);e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{const r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(e,t)=>t.toUpperCase());let n=process.env[t];return n=!!/^(yes|on|true|enabled)$/i.test(n)||!/^(no|off|false|disabled)$/i.test(n)&&("null"===n?null:Number(n)),e[r]=n,e},{}),e.exports=r(44)(t);const{formatters:s}=e.exports;s.o=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts).split("\n").map(e=>e.trim()).join(" ")},s.O=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts)}},function(e,t,r){"use strict";e.exports=(e,t)=>{t=t||process.argv;const r=e.startsWith("-")?"":1===e.length?"-":"--",n=t.indexOf(r+e),i=t.indexOf("--");return-1!==n&&(-1===i||n<i)}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};const i=r(46),s=n(r(111)),a=n(r(114)),o=s.default("agent-base");function u(){const{stack:e}=new Error;return"string"==typeof e&&e.split("\n").some(e=>-1!==e.indexOf("(https.js:")||-1!==e.indexOf("node:https:"))}function c(e,t){return new c.Agent(e,t)}!function(e){class t extends i.EventEmitter{constructor(e,t){super();let r=t;"function"==typeof e?this.callback=e:e&&(r=e),this.timeout=null,r&&"number"==typeof r.timeout&&(this.timeout=r.timeout),this.maxFreeSockets=1,this.maxSockets=1,this.maxTotalSockets=1/0,this.sockets={},this.freeSockets={},this.requests={},this.options={}}get defaultPort(){return"number"==typeof this.explicitDefaultPort?this.explicitDefaultPort:u()?443:80}set defaultPort(e){this.explicitDefaultPort=e}get protocol(){return"string"==typeof this.explicitProtocol?this.explicitProtocol:u()?"https:":"http:"}set protocol(e){this.explicitProtocol=e}callback(e,t,r){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')}addRequest(e,t){const r=Object.assign({},t);"boolean"!=typeof r.secureEndpoint&&(r.secureEndpoint=u()),null==r.host&&(r.host="localhost"),null==r.port&&(r.port=r.secureEndpoint?443:80),null==r.protocol&&(r.protocol=r.secureEndpoint?"https:":"http:"),r.host&&r.path&&delete r.path,delete r.agent,delete r.hostname,delete r._defaultAgent,delete r.defaultPort,delete r.createConnection,e._last=!0,e.shouldKeepAlive=!1;let n=!1,i=null;const s=r.timeout||this.timeout,c=t=>{e._hadError||(e.emit("error",t),e._hadError=!0)},l=()=>{i=null,n=!0;const e=new Error(`A "socket" was not created for HTTP request before ${s}ms`);e.code="ETIMEOUT",c(e)},f=e=>{n||(null!==i&&(clearTimeout(i),i=null),c(e))},h=t=>{if(n)return;if(null!=i&&(clearTimeout(i),i=null),s=t,Boolean(s)&&"function"==typeof s.addRequest)return o("Callback returned another Agent instance %o",t.constructor.name),void t.addRequest(e,r);var s;if(t)return t.once("free",()=>{this.freeSocket(t,r)}),void e.onSocket(t);const a=new Error(`no Duplex stream was returned to agent-base for \`${e.method} ${e.path}\``);c(a)};if("function"==typeof this.callback){this.promisifiedCallback||(this.callback.length>=3?(o("Converting legacy callback function to promise"),this.promisifiedCallback=a.default(this.callback)):this.promisifiedCallback=this.callback),"number"==typeof s&&s>0&&(i=setTimeout(l,s)),"port"in r&&"number"!=typeof r.port&&(r.port=Number(r.port));try{o("Resolving socket for %o request: %o",r.protocol,`${e.method} ${e.path}`),Promise.resolve(this.promisifiedCallback(e,r)).then(h,f)}catch(e){Promise.reject(e).catch(f)}}else c(new Error("`callback` is not defined"))}freeSocket(e,t){o("Freeing socket %o %o",e.constructor.name,t),e.destroy()}destroy(){o("Destroying agent %o",this.constructor.name)}}e.Agent=t,e.prototype=e.Agent.prototype}(c||(c={})),e.exports=c},function(e,t,r){"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?e.exports=r(112):e.exports=r(113)},function(e,t,r){t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,i=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(n++,"%c"===e&&(i=n))}),t.splice(i,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=r(47)(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},function(e,t,r){const n=r(30),i=r(6);t.init=function(e){e.inspectOpts={};const r=Object.keys(t.inspectOpts);for(let n=0;n<r.length;n++)e.inspectOpts[r[n]]=t.inspectOpts[r[n]]},t.log=function(...e){return process.stderr.write(i.format(...e)+"\n")},t.formatArgs=function(r){const{namespace:n,useColors:i}=this;if(i){const t=this.color,i="[3"+(t<8?t:"8;5;"+t),s=`  ${i};1m${n} [0m`;r[0]=s+r[0].split("\n").join("\n"+s),r.push(i+"m+"+e.exports.humanize(this.diff)+"[0m")}else r[0]=function(){if(t.inspectOpts.hideDate)return"";return(new Date).toISOString()+" "}()+n+" "+r[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):n.isatty(process.stderr.fd)},t.destroy=i.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{const e=r(31);e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{const r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(e,t)=>t.toUpperCase());let n=process.env[t];return n=!!/^(yes|on|true|enabled)$/i.test(n)||!/^(no|off|false|disabled)$/i.test(n)&&("null"===n?null:Number(n)),e[r]=n,e},{}),e.exports=r(47)(t);const{formatters:s}=e.exports;s.o=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts).split("\n").map(e=>e.trim()).join(" ")},s.O=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,r){return new Promise((n,i)=>{e.call(this,t,r,(e,t)=>{e?i(e):n(t)})})}}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(43)).default("https-proxy-agent:parse-proxy-response");t.default=function(e){return new Promise((t,r)=>{let n=0;const s=[];function a(){const r=e.read();r?function(e){s.push(e),n+=e.length;const r=Buffer.concat(s,n);if(-1===r.indexOf("\r\n\r\n"))return i("have not received end of HTTP headers yet..."),void a();const o=r.toString("ascii",0,r.indexOf("\r\n")),u=+o.split(" ")[1];i("got proxy server response: %o",o),t({statusCode:u,buffered:r})}(r):e.once("readable",a)}function o(e){i("onclose had error %o",e)}function u(){i("onend")}function c(t){e.removeListener("end",u),e.removeListener("error",c),e.removeListener("close",o),e.removeListener("readable",a),i("onerror %o",t),r(t)}e.on("error",c),e.on("close",o),e.on("end",u),a()})}},function(e,t,r){var n=r(117).stringify,i=r(118);e.exports=function(e){return{parse:i(e),stringify:n}},e.exports.parse=i(),e.exports.stringify=n},function(e,t,r){var n=r(48),i=e.exports;!function(){"use strict";var e,t,r,s=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,a={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function o(e){return s.lastIndex=0,s.test(e)?'"'+e.replace(s,(function(e){var t=a[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+e+'"'}"function"!=typeof i.stringify&&(i.stringify=function(i,s,a){var u;if(e="",t="","number"==typeof a)for(u=0;u<a;u+=1)t+=" ";else"string"==typeof a&&(t=a);if(r=s,s&&"function"!=typeof s&&("object"!=typeof s||"number"!=typeof s.length))throw new Error("JSON.stringify");return function i(s,a){var u,c,l,f,h,p=e,d=a[s],g=null!=d&&(d instanceof n||n.isBigNumber(d));switch(d&&"object"==typeof d&&"function"==typeof d.toJSON&&(d=d.toJSON(s)),"function"==typeof r&&(d=r.call(a,s,d)),typeof d){case"string":return g?d:o(d);case"number":return isFinite(d)?String(d):"null";case"boolean":case"null":case"bigint":return String(d);case"object":if(!d)return"null";if(e+=t,h=[],"[object Array]"===Object.prototype.toString.apply(d)){for(f=d.length,u=0;u<f;u+=1)h[u]=i(u,d)||"null";return l=0===h.length?"[]":e?"[\n"+e+h.join(",\n"+e)+"\n"+p+"]":"["+h.join(",")+"]",e=p,l}if(r&&"object"==typeof r)for(f=r.length,u=0;u<f;u+=1)"string"==typeof r[u]&&(l=i(c=r[u],d))&&h.push(o(c)+(e?": ":":")+l);else Object.keys(d).forEach((function(t){var r=i(t,d);r&&h.push(o(t)+(e?": ":":")+r)}));return l=0===h.length?"{}":e?"{\n"+e+h.join(",\n"+e)+"\n"+p+"}":"{"+h.join(",")+"}",e=p,l}}("",{"":i})})}()},function(e,t,r){var n=null;const i=/(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])/,s=/(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)/;e.exports=function(e){"use strict";var t={strict:!1,storeAsString:!1,alwaysParseAsBig:!1,useNativeBigInt:!1,protoAction:"error",constructorAction:"error"};if(null!=e){if(!0===e.strict&&(t.strict=!0),!0===e.storeAsString&&(t.storeAsString=!0),t.alwaysParseAsBig=!0===e.alwaysParseAsBig&&e.alwaysParseAsBig,t.useNativeBigInt=!0===e.useNativeBigInt&&e.useNativeBigInt,void 0!==e.constructorAction){if("error"!==e.constructorAction&&"ignore"!==e.constructorAction&&"preserve"!==e.constructorAction)throw new Error('Incorrect value for constructorAction option, must be "error", "ignore" or undefined but passed '+e.constructorAction);t.constructorAction=e.constructorAction}if(void 0!==e.protoAction){if("error"!==e.protoAction&&"ignore"!==e.protoAction&&"preserve"!==e.protoAction)throw new Error('Incorrect value for protoAction option, must be "error", "ignore" or undefined but passed '+e.protoAction);t.protoAction=e.protoAction}}var a,o,u,c,l={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},f=function(e){throw{name:"SyntaxError",message:e,at:a,text:u}},h=function(e){return e&&e!==o&&f("Expected '"+e+"' instead of '"+o+"'"),o=u.charAt(a),a+=1,o},p=function(){var e,i="";for("-"===o&&(i="-",h("-"));o>="0"&&o<="9";)i+=o,h();if("."===o)for(i+=".";h()&&o>="0"&&o<="9";)i+=o;if("e"===o||"E"===o)for(i+=o,h(),"-"!==o&&"+"!==o||(i+=o,h());o>="0"&&o<="9";)i+=o,h();if(e=+i,isFinite(e))return null==n&&(n=r(48)),i.length>15?t.storeAsString?i:t.useNativeBigInt?BigInt(i):new n(i):t.alwaysParseAsBig?t.useNativeBigInt?BigInt(e):new n(e):e;f("Bad number")},d=function(){var e,t,r,n="";if('"'===o)for(var i=a;h();){if('"'===o)return a-1>i&&(n+=u.substring(i,a-1)),h(),n;if("\\"===o){if(a-1>i&&(n+=u.substring(i,a-1)),h(),"u"===o){for(r=0,t=0;t<4&&(e=parseInt(h(),16),isFinite(e));t+=1)r=16*r+e;n+=String.fromCharCode(r)}else{if("string"!=typeof l[o])break;n+=l[o]}i=a}}f("Bad string")},g=function(){for(;o&&o<=" ";)h()};return c=function(){switch(g(),o){case"{":return function(){var e,r=Object.create(null);if("{"===o){if(h("{"),g(),"}"===o)return h("}"),r;for(;o;){if(e=d(),g(),h(":"),!0===t.strict&&Object.hasOwnProperty.call(r,e)&&f('Duplicate key "'+e+'"'),!0===i.test(e)?"error"===t.protoAction?f("Object contains forbidden prototype property"):"ignore"===t.protoAction?c():r[e]=c():!0===s.test(e)?"error"===t.constructorAction?f("Object contains forbidden constructor property"):"ignore"===t.constructorAction?c():r[e]=c():r[e]=c(),g(),"}"===o)return h("}"),r;h(","),g()}}f("Bad object")}();case"[":return function(){var e=[];if("["===o){if(h("["),g(),"]"===o)return h("]"),e;for(;o;){if(e.push(c()),g(),"]"===o)return h("]"),e;h(","),g()}}f("Bad array")}();case'"':return d();case"-":return p();default:return o>="0"&&o<="9"?p():function(){switch(o){case"t":return h("t"),h("r"),h("u"),h("e"),!0;case"f":return h("f"),h("a"),h("l"),h("s"),h("e"),!1;case"n":return h("n"),h("u"),h("l"),h("l"),null}f("Unexpected '"+o+"'")}()}},function(e,t){var r;return u=e+"",a=0,o=" ",r=c(),g(),o&&f("Syntax error"),"function"==typeof t?function e(r,n){var i,s=r[n];return s&&"object"==typeof s&&Object.keys(s).forEach((function(t){void 0!==(i=e(s,t))?s[t]=i:delete s[t]})),t.call(r,n,s)}({"":r},""):r}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserCrypto=void 0;const n=r(120);"undefined"==typeof process&&"undefined"==typeof TextEncoder&&r(121);class i{constructor(){if("undefined"==typeof window||void 0===window.crypto||void 0===window.crypto.subtle)throw new Error("SubtleCrypto not found. Make sure it's an https:// website.")}async sha256DigestBase64(e){const t=(new TextEncoder).encode(e),r=await window.crypto.subtle.digest("SHA-256",t);return n.fromByteArray(new Uint8Array(r))}randomBytesBase64(e){const t=new Uint8Array(e);return window.crypto.getRandomValues(t),n.fromByteArray(t)}static padBase64(e){for(;e.length%4!=0;)e+="=";return e}async verify(e,t,r){const s={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},a=(new TextEncoder).encode(t),o=n.toByteArray(i.padBase64(r)),u=await window.crypto.subtle.importKey("jwk",e,s,!0,["verify"]);return await window.crypto.subtle.verify(s,u,o,a)}async sign(e,t){const r={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},i=(new TextEncoder).encode(t),s=await window.crypto.subtle.importKey("jwk",e,r,!0,["sign"]),a=await window.crypto.subtle.sign(r,s,i);return n.fromByteArray(new Uint8Array(a))}decodeBase64StringUtf8(e){const t=n.toByteArray(i.padBase64(e));return(new TextDecoder).decode(t)}encodeBase64StringUtf8(e){const t=(new TextEncoder).encode(e);return n.fromByteArray(t)}}t.BrowserCrypto=i},function(e,t,r){"use strict";t.byteLength=function(e){var t=c(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,n=c(e),a=n[0],o=n[1],u=new s(function(e,t,r){return 3*(t+r)/4-r}(0,a,o)),l=0,f=o>0?a-4:a;for(r=0;r<f;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;2===o&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,u[l++]=255&t);1===o&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t);return u},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,s=[],a=0,o=r-i;a<o;a+=16383)s.push(l(e,a,a+16383>o?o:a+16383));1===i?(t=e[r-1],s.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],s.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return s.join("")};for(var n=[],i=[],s="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,u=a.length;o<u;++o)n[o]=a[o],i[a.charCodeAt(o)]=o;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function l(e,t,r){for(var i,s,a=[],o=t;o<r;o+=3)i=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),a.push(n[(s=i)>>18&63]+n[s>>12&63]+n[s>>6&63]+n[63&s]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){!function(e){function t(){}function r(e,t){if(e=void 0===e?"utf-8":e,t=void 0===t?{fatal:!1}:t,-1===i.indexOf(e.toLowerCase()))throw new RangeError("Failed to construct 'TextDecoder': The encoding label provided ('"+e+"') is invalid.");if(t.fatal)throw Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}function n(e){for(var t=0,r=Math.min(65536,e.length+1),n=new Uint16Array(r),i=[],s=0;;){var a=t<e.length;if(!a||s>=r-1){if(i.push(String.fromCharCode.apply(null,n.subarray(0,s))),!a)return i.join("");e=e.subarray(t),s=t=0}if(0==(128&(a=e[t++])))n[s++]=a;else if(192==(224&a)){var o=63&e[t++];n[s++]=(31&a)<<6|o}else if(224==(240&a)){o=63&e[t++];var u=63&e[t++];n[s++]=(31&a)<<12|o<<6|u}else if(240==(248&a)){65535<(a=(7&a)<<18|(o=63&e[t++])<<12|(u=63&e[t++])<<6|63&e[t++])&&(a-=65536,n[s++]=a>>>10&1023|55296,a=56320|1023&a),n[s++]=a}}}if(e.TextEncoder&&e.TextDecoder)return!1;var i=["utf-8","utf8","unicode-1-1-utf-8"];Object.defineProperty(t.prototype,"encoding",{value:"utf-8"}),t.prototype.encode=function(e,t){if((t=void 0===t?{stream:!1}:t).stream)throw Error("Failed to encode: the 'stream' option is unsupported.");t=0;for(var r=e.length,n=0,i=Math.max(32,r+(r>>>1)+7),s=new Uint8Array(i>>>3<<3);t<r;){var a=e.charCodeAt(t++);if(55296<=a&&56319>=a){if(t<r){var o=e.charCodeAt(t);56320==(64512&o)&&(++t,a=((1023&a)<<10)+(1023&o)+65536)}if(55296<=a&&56319>=a)continue}if(n+4>s.length&&(i+=8,i=(i*=1+t/e.length*2)>>>3<<3,(o=new Uint8Array(i)).set(s),s=o),0==(4294967168&a))s[n++]=a;else{if(0==(4294965248&a))s[n++]=a>>>6&31|192;else if(0==(4294901760&a))s[n++]=a>>>12&15|224,s[n++]=a>>>6&63|128;else{if(0!=(4292870144&a))continue;s[n++]=a>>>18&7|240,s[n++]=a>>>12&63|128,s[n++]=a>>>6&63|128}s[n++]=63&a|128}}return s.slice?s.slice(0,n):s.subarray(0,n)},Object.defineProperty(r.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(r.prototype,"fatal",{value:!1}),Object.defineProperty(r.prototype,"ignoreBOM",{value:!1});var s=n;"function"==typeof Buffer&&Buffer.from?s=function(e){return Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf-8")}:"function"==typeof Blob&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&(s=function(e){var t=URL.createObjectURL(new Blob([e],{type:"text/plain;charset=UTF-8"}));try{var r=new XMLHttpRequest;return r.open("GET",t,!1),r.send(),r.responseText}catch(t){return n(e)}finally{URL.revokeObjectURL(t)}}),r.prototype.decode=function(e,t){if((t=void 0===t?{stream:!1}:t).stream)throw Error("Failed to decode: the 'stream' option is unsupported.");return e=e instanceof Uint8Array?e:e.buffer instanceof ArrayBuffer?new Uint8Array(e.buffer):new Uint8Array(e),s(e)},e.TextEncoder=t,e.TextDecoder=r}("undefined"!=typeof window?window:"undefined"!=typeof global?global:this)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NodeCrypto=void 0;const n=r(13);t.NodeCrypto=class{async sha256DigestBase64(e){return n.createHash("sha256").update(e).digest("base64")}randomBytesBase64(e){return n.randomBytes(e).toString("base64")}async verify(e,t,r){const i=n.createVerify("sha256");return i.update(t),i.end(),i.verify(e,r,"base64")}async sign(e,t){const r=n.createSign("RSA-SHA256");return r.update(t),r.end(),r.sign(e,"base64")}decodeBase64StringUtf8(e){return Buffer.from(e,"base64").toString("utf-8")}encodeBase64StringUtf8(e){return Buffer.from(e,"utf-8").toString("base64")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validate=void 0,t.validate=function(e){const t=[{invalid:"uri",expected:"url"},{invalid:"json",expected:"data"},{invalid:"qs",expected:"params"}];for(const r of t)if(e[r.invalid]){const e=`'${r.invalid}' is not a valid configuration option. Please use '${r.expected}' instead. This library is using Axios for requests. Please see https://github.com/axios/axios to learn more about the valid request options.`;throw new Error(e)}}},function(e){e.exports=JSON.parse('{"_from":"google-auth-library@^6.1.3","_id":"google-auth-library@6.1.6","_inBundle":false,"_integrity":"sha512-Q+ZjUEvLQj/lrVHF/IQwRo6p3s8Nc44Zk/DALsN+ac3T4HY/g/3rrufkgtl+nZ1TW7DNAw5cTChdVp4apUXVgQ==","_location":"/google-auth-library","_phantomChildren":{},"_requested":{"type":"range","registry":true,"raw":"google-auth-library@^6.1.3","name":"google-auth-library","escapedName":"google-auth-library","rawSpec":"^6.1.3","saveSpec":null,"fetchSpec":"^6.1.3"},"_requiredBy":["/google-spreadsheet"],"_resolved":"https://registry.npmjs.org/google-auth-library/-/google-auth-library-6.1.6.tgz","_shasum":"deacdcdb883d9ed6bac78bb5d79a078877fdf572","_spec":"google-auth-library@^6.1.3","_where":"C:\\\\Users\\\\krish\\\\OneDrive\\\\Documents\\\\Acompany\\\\doseBooking-gatsby\\\\dose-booking-gatsby\\\\node_modules\\\\google-spreadsheet","author":{"name":"Google Inc."},"bugs":{"url":"https://github.com/googleapis/google-auth-library-nodejs/issues"},"bundleDependencies":false,"dependencies":{"arrify":"^2.0.0","base64-js":"^1.3.0","ecdsa-sig-formatter":"^1.0.11","fast-text-encoding":"^1.0.0","gaxios":"^4.0.0","gcp-metadata":"^4.2.0","gtoken":"^5.0.4","jws":"^4.0.0","lru-cache":"^6.0.0"},"deprecated":false,"description":"Google APIs Authentication Client Library for Node.js","devDependencies":{"@compodoc/compodoc":"^1.1.7","@microsoft/api-documenter":"^7.8.10","@microsoft/api-extractor":"^7.8.10","@types/base64-js":"^1.2.5","@types/chai":"^4.1.7","@types/jws":"^3.1.0","@types/lru-cache":"^5.0.0","@types/mocha":"^8.0.0","@types/mv":"^2.1.0","@types/ncp":"^2.0.1","@types/node":"^10.5.1","@types/sinon":"^9.0.0","@types/tmp":"^0.2.0","assert-rejects":"^1.0.0","c8":"^7.0.0","chai":"^4.2.0","codecov":"^3.0.2","execa":"^5.0.0","gts":"^2.0.0","is-docker":"^2.0.0","karma":"^6.0.0","karma-chrome-launcher":"^3.0.0","karma-coverage":"^2.0.0","karma-firefox-launcher":"^2.0.0","karma-mocha":"^2.0.0","karma-remap-coverage":"^0.1.5","karma-sourcemap-loader":"^0.3.7","karma-webpack":"^4.0.0","keypair":"^1.0.1","linkinator":"^2.0.0","mocha":"^8.0.0","mv":"^2.1.1","ncp":"^2.0.0","nock":"^13.0.0","null-loader":"^4.0.0","puppeteer":"^5.0.0","sinon":"^9.0.0","tmp":"^0.2.0","ts-loader":"^8.0.0","typescript":"^3.8.3","webpack":"^4.20.2","webpack-cli":"^4.0.0"},"engines":{"node":">=10"},"files":["build/src","!build/src/**/*.map"],"homepage":"https://github.com/googleapis/google-auth-library-nodejs#readme","keywords":["google","api","google apis","client","client library"],"license":"Apache-2.0","main":"./build/src/index.js","name":"google-auth-library","repository":{"type":"git","url":"git+https://github.com/googleapis/google-auth-library-nodejs.git"},"scripts":{"api-documenter":"api-documenter yaml --input-folder=temp","api-extractor":"api-extractor run --local","browser-test":"karma start","clean":"gts clean","compile":"tsc -p .","docs":"compodoc src/","docs-test":"linkinator docs","fix":"gts fix","lint":"gts check","precompile":"gts clean","predocs-test":"npm run docs","prelint":"cd samples; npm link ../; npm install","prepare":"npm run compile","presystem-test":"npm run compile","pretest":"npm run compile","samples-test":"cd samples/ && npm link ../ && npm test && cd ../","system-test":"mocha build/system-test --timeout 60000","test":"c8 mocha build/test","webpack":"webpack"},"types":"./build/src/index.d.ts","version":"6.1.6"}')},function(e,t,r){"use strict";e.exports=e=>null==e?[]:Array.isArray(e)?e:"string"==typeof e?[e]:"function"==typeof e[Symbol.iterator]?[...e]:[e]},function(e,t,r){"use strict";function n(e){return(e/8|0)+(e%8==0?0:1)}var i={ES256:n(256),ES384:n(384),ES512:n(521)};e.exports=function(e){var t=i[e];if(t)return t;throw new Error('Unknown algorithm "'+e+'"')}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AuthClient=void 0;const n=r(46),i=r(32);class s extends n.EventEmitter{constructor(){super(...arguments),this.transporter=new i.DefaultTransporter,this.credentials={}}setCredentials(e){this.credentials=e}addSharedMetadataHeaders(e){return!e["x-goog-user-project"]&&this.quotaProjectId&&(e["x-goog-user-project"]=this.quotaProjectId),e}}t.AuthClient=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GoogleToken=void 0;const n=r(26),i=r(28),s=r(57),a=r(49),o=r(6),u=n.readFile?o.promisify(n.readFile):async()=>{throw new c("use key rather than keyFile.","MISSING_CREDENTIALS")};class c extends Error{constructor(e,t){super(e),this.code=t}}let l;t.GoogleToken=class{constructor(e){this.configure(e)}get accessToken(){return this.rawToken?this.rawToken.access_token:void 0}get idToken(){return this.rawToken?this.rawToken.id_token:void 0}get tokenType(){return this.rawToken?this.rawToken.token_type:void 0}get refreshToken(){return this.rawToken?this.rawToken.refresh_token:void 0}hasExpired(){const e=(new Date).getTime();return!this.rawToken||!this.expiresAt||e>=this.expiresAt}isTokenExpiring(){var e;const t=(new Date).getTime(),r=null!==(e=this.eagerRefreshThresholdMillis)&&void 0!==e?e:0;return!this.rawToken||!this.expiresAt||this.expiresAt<=t+r}getToken(e,t={}){if("object"==typeof e&&(t=e,e=void 0),t=Object.assign({forceRefresh:!1},t),!e)return this.getTokenAsync(t);{const r=e;this.getTokenAsync(t).then(e=>r(null,e),e)}}async getCredentials(e){switch(a.extname(e)){case".json":{const t=await u(e,"utf8"),r=JSON.parse(t),n=r.private_key,i=r.client_email;if(!n||!i)throw new c("private_key and client_email are required.","MISSING_CREDENTIALS");return{privateKey:n,clientEmail:i}}case".der":case".crt":case".pem":return{privateKey:await u(e,"utf8")};case".p12":case".pfx":l||(l=(await Promise.resolve().then(()=>r(132))).getPem);return{privateKey:await l(e)};default:throw new c("Unknown certificate type. Type is determined based on file extension. Current supported extensions are *.json, *.pem, and *.p12.","UNKNOWN_CERTIFICATE_TYPE")}}async getTokenAsync(e){if(this.inFlightRequest&&!e.forceRefresh)return this.inFlightRequest;try{return await(this.inFlightRequest=this.getTokenAsyncInner(e))}finally{this.inFlightRequest=void 0}}async getTokenAsyncInner(e){if(!1===this.isTokenExpiring()&&!1===e.forceRefresh)return Promise.resolve(this.rawToken);if(!this.key&&!this.keyFile)throw new Error("No key or keyFile set.");if(!this.key&&this.keyFile){const e=await this.getCredentials(this.keyFile);this.key=e.privateKey,this.iss=e.clientEmail||this.iss,e.clientEmail||this.ensureEmail()}return this.requestToken()}ensureEmail(){if(!this.iss)throw new c("email is required.","MISSING_CREDENTIALS")}revokeToken(e){if(!e)return this.revokeTokenAsync();this.revokeTokenAsync().then(()=>e(),e)}async revokeTokenAsync(){if(!this.accessToken)throw new Error("No token to revoke.");const e="https://accounts.google.com/o/oauth2/revoke?token="+this.accessToken;await i.request({url:e}),this.configure({email:this.iss,sub:this.sub,key:this.key,keyFile:this.keyFile,scope:this.scope,additionalClaims:this.additionalClaims})}configure(e={}){this.keyFile=e.keyFile,this.key=e.key,this.rawToken=void 0,this.iss=e.email||e.iss,this.sub=e.sub,this.additionalClaims=e.additionalClaims,"object"==typeof e.scope?this.scope=e.scope.join(" "):this.scope=e.scope,this.eagerRefreshThresholdMillis=e.eagerRefreshThresholdMillis}async requestToken(){const e=Math.floor((new Date).getTime()/1e3),t=this.additionalClaims||{},r=Object.assign({iss:this.iss,scope:this.scope,aud:"https://www.googleapis.com/oauth2/v4/token",exp:e+3600,iat:e,sub:this.sub},t),n=s.sign({header:{alg:"RS256"},payload:r,secret:this.key});try{const t=await i.request({method:"POST",url:"https://www.googleapis.com/oauth2/v4/token",data:{grant_type:"urn:ietf:params:oauth:grant-type:jwt-bearer",assertion:n},headers:{"Content-Type":"application/x-www-form-urlencoded"},responseType:"json"});return this.rawToken=t.data,this.expiresAt=null===t.data.expires_in||void 0===t.data.expires_in?void 0:1e3*(e+t.data.expires_in),this.rawToken}catch(e){this.rawToken=void 0,this.tokenExpires=void 0;const t=e.response&&e.response.data?e.response.data:{};if(t.error){const r=t.error_description?": "+t.error_description:"";e.message=`${t.error}${r}`}throw e}}}},function(e,t,r){var n=r(15).Buffer,i=r(58),s=r(59),a=r(2),o=r(60),u=r(6);function c(e,t){return n.from(e,t).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function l(e){var t=e.header,r=e.payload,n=e.secret||e.privateKey,i=e.encoding,a=s(t.alg),l=function(e,t,r){r=r||"utf8";var n=c(o(e),"binary"),i=c(o(t),r);return u.format("%s.%s",n,i)}(t,r,i),f=a.sign(l,n);return u.format("%s.%s",l,f)}function f(e){var t=e.secret||e.privateKey||e.key,r=new i(t);this.readable=!0,this.header=e.header,this.encoding=e.encoding,this.secret=this.privateKey=this.key=r,this.payload=new i(e.payload),this.secret.once("close",function(){!this.payload.writable&&this.readable&&this.sign()}.bind(this)),this.payload.once("close",function(){!this.secret.writable&&this.readable&&this.sign()}.bind(this))}u.inherits(f,a),f.prototype.sign=function(){try{var e=l({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit("done",e),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(e){this.readable=!1,this.emit("error",e),this.emit("close")}},f.sign=l,e.exports=f},function(e,t,r){"use strict";var n=r(20).Buffer,i=r(20).SlowBuffer;function s(e,t){if(!n.isBuffer(e)||!n.isBuffer(t))return!1;if(e.length!==t.length)return!1;for(var r=0,i=0;i<e.length;i++)r|=e[i]^t[i];return 0===r}e.exports=s,s.install=function(){n.prototype.equal=i.prototype.equal=function(e){return s(this,e)}};var a=n.prototype.equal,o=i.prototype.equal;s.restore=function(){n.prototype.equal=a,i.prototype.equal=o}},function(e,t,r){var n=r(15).Buffer,i=r(58),s=r(59),a=r(2),o=r(60),u=r(6),c=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function l(e){if(function(e){return"[object Object]"===Object.prototype.toString.call(e)}(e))return e;try{return JSON.parse(e)}catch(e){return}}function f(e){var t=e.split(".",1)[0];return l(n.from(t,"base64").toString("binary"))}function h(e){return e.split(".")[2]}function p(e){return c.test(e)&&!!f(e)}function d(e,t,r){if(!t){var n=new Error("Missing algorithm parameter for jws.verify");throw n.code="MISSING_ALGORITHM",n}var i=h(e=o(e)),a=function(e){return e.split(".",2).join(".")}(e);return s(t).verify(a,i,r)}function g(e,t){if(t=t||{},!p(e=o(e)))return null;var r=f(e);if(!r)return null;var i=function(e,t){t=t||"utf8";var r=e.split(".")[1];return n.from(r,"base64").toString(t)}(e);return("JWT"===r.typ||t.json)&&(i=JSON.parse(i,t.encoding)),{header:r,payload:i,signature:h(e)}}function y(e){var t=(e=e||{}).secret||e.publicKey||e.key,r=new i(t);this.readable=!0,this.algorithm=e.algorithm,this.encoding=e.encoding,this.secret=this.publicKey=this.key=r,this.signature=new i(e.signature),this.secret.once("close",function(){!this.signature.writable&&this.readable&&this.verify()}.bind(this)),this.signature.once("close",function(){!this.secret.writable&&this.readable&&this.verify()}.bind(this))}u.inherits(y,a),y.prototype.verify=function(){try{var e=d(this.signature.buffer,this.algorithm,this.key.buffer),t=g(this.signature.buffer,this.encoding);return this.emit("done",e,t),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(e){this.readable=!1,this.emit("error",e),this.emit("close")}},y.decode=g,y.isValid=p,y.verify=d,e.exports=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPem=void 0;const n=r(26),i=r(133),s=r(6).promisify(n.readFile);function a(e){return s(e,{encoding:"base64"}).then(e=>function(e){const t=i.util.decode64(e),r=i.asn1.fromDer(t),n=i.pkcs12.pkcs12FromAsn1(r,"notasecret").getBags({friendlyName:"privatekey"});if(n.friendlyName){const e=n.friendlyName[0].key;return i.pki.privateKeyToPem(e).replace(/\r\n/g,"\n")}throw new Error("Unable to get friendly name.")}(e))}t.getPem=function(e,t){if(!t)return a(e);a(e).then(e=>t(null,e)).catch(e=>t(e,null))}},function(e,t,r){e.exports=r(0),r(9),r(135),r(5),r(33),r(73),r(21),r(137),r(16),r(139),r(75),r(140),r(72),r(35),r(12),r(68),r(70),r(141),r(63),r(69),r(66),r(37),r(4),r(67),r(142),r(143),r(62),r(1)},function(e,t){var r={};e.exports=r;var n={};r.encode=function(e,t,r){if("string"!=typeof t)throw new TypeError('"alphabet" must be a string.');if(void 0!==r&&"number"!=typeof r)throw new TypeError('"maxline" must be a number.');var n="";if(e instanceof Uint8Array){var i=0,s=t.length,a=t.charAt(0),o=[0];for(i=0;i<e.length;++i){for(var u=0,c=e[i];u<o.length;++u)c+=o[u]<<8,o[u]=c%s,c=c/s|0;for(;c>0;)o.push(c%s),c=c/s|0}for(i=0;0===e[i]&&i<e.length-1;++i)n+=a;for(i=o.length-1;i>=0;--i)n+=t[o[i]]}else n=function(e,t){var r=0,n=t.length,i=t.charAt(0),s=[0];for(r=0;r<e.length();++r){for(var a=0,o=e.at(r);a<s.length;++a)o+=s[a]<<8,s[a]=o%n,o=o/n|0;for(;o>0;)s.push(o%n),o=o/n|0}var u="";for(r=0;0===e.at(r)&&r<e.length()-1;++r)u+=i;for(r=s.length-1;r>=0;--r)u+=t[s[r]];return u}(e,t);if(r){var l=new RegExp(".{1,"+r+"}","g");n=n.match(l).join("\r\n")}return n},r.decode=function(e,t){if("string"!=typeof e)throw new TypeError('"input" must be a string.');if("string"!=typeof t)throw new TypeError('"alphabet" must be a string.');var r=n[t];if(!r){r=n[t]=[];for(var i=0;i<t.length;++i)r[t.charCodeAt(i)]=i}e=e.replace(/\s/g,"");var s=t.length,a=t.charAt(0),o=[0];for(i=0;i<e.length;i++){var u=r[e.charCodeAt(i)];if(void 0===u)return;for(var c=0,l=u;c<o.length;++c)l+=o[c]*s,o[c]=255&l,l>>=8;for(;l>0;)o.push(255&l),l>>=8}for(var f=0;e[f]===a&&f<e.length-1;++f)o.push(0);return"undefined"!=typeof Buffer?Buffer.from(o.reverse()):new Uint8Array(o.reverse())}},function(e,t,r){var n=r(0);r(9),r(62);var i=e.exports=n.tls;function s(e,t,r){var s=t.entity===n.tls.ConnectionEnd.client;e.read.cipherState={init:!1,cipher:n.cipher.createDecipher("AES-CBC",s?r.keys.server_write_key:r.keys.client_write_key),iv:s?r.keys.server_write_IV:r.keys.client_write_IV},e.write.cipherState={init:!1,cipher:n.cipher.createCipher("AES-CBC",s?r.keys.client_write_key:r.keys.server_write_key),iv:s?r.keys.client_write_IV:r.keys.server_write_IV},e.read.cipherFunction=c,e.write.cipherFunction=a,e.read.macLength=e.write.macLength=r.mac_length,e.read.macFunction=e.write.macFunction=i.hmac_sha1}function a(e,t){var r,s=!1,a=t.macFunction(t.macKey,t.sequenceNumber,e);e.fragment.putBytes(a),t.updateSequenceNumber(),r=e.version.minor===i.Versions.TLS_1_0.minor?t.cipherState.init?null:t.cipherState.iv:n.random.getBytesSync(16),t.cipherState.init=!0;var u=t.cipherState.cipher;return u.start({iv:r}),e.version.minor>=i.Versions.TLS_1_1.minor&&u.output.putBytes(r),u.update(e.fragment),u.finish(o)&&(e.fragment=u.output,e.length=e.fragment.length(),s=!0),s}function o(e,t,r){if(!r){var n=e-t.length()%e;t.fillWithByte(n-1,n)}return!0}function u(e,t,r){var n=!0;if(r){for(var i=t.length(),s=t.last(),a=i-1-s;a<i-1;++a)n=n&&t.at(a)==s;n&&t.truncate(s+1)}return n}function c(e,t){var r,s=!1;r=e.version.minor===i.Versions.TLS_1_0.minor?t.cipherState.init?null:t.cipherState.iv:e.fragment.getBytes(16),t.cipherState.init=!0;var a=t.cipherState.cipher;a.start({iv:r}),a.update(e.fragment),s=a.finish(u);var o=t.macLength,c=n.random.getBytesSync(o),l=a.output.length();l>=o?(e.fragment=a.output.getBytes(l-o),c=a.output.getBytes(o)):e.fragment=a.output.getBytes(),e.fragment=n.util.createBuffer(e.fragment),e.length=e.fragment.length();var f=t.macFunction(t.macKey,t.sequenceNumber,e);return t.updateSequenceNumber(),s=function(e,t,r){var i=n.hmac.create();return i.start("SHA1",e),i.update(t),t=i.digest().getBytes(),i.start(null,null),i.update(r),r=i.digest().getBytes(),t===r}(t.macKey,c,f)&&s}i.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:function(e){e.bulk_cipher_algorithm=i.BulkCipherAlgorithm.aes,e.cipher_type=i.CipherType.block,e.enc_key_length=16,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=i.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},initConnectionState:s},i.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:function(e){e.bulk_cipher_algorithm=i.BulkCipherAlgorithm.aes,e.cipher_type=i.CipherType.block,e.enc_key_length=32,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=i.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},initConnectionState:s}},function(e,t,r){var n=r(0);r(72),e.exports=n.mgf=n.mgf||{},n.mgf.mgf1=n.mgf1},function(e,t,r){var n=r(0);r(23),r(4),r(74),r(1);var i=r(138),s=i.publicKeyValidator,a=i.privateKeyValidator;if(void 0===o)var o=n.jsbn.BigInteger;var u=n.util.ByteBuffer,c="undefined"==typeof Buffer?Uint8Array:Buffer;n.pki=n.pki||{},e.exports=n.pki.ed25519=n.ed25519=n.ed25519||{};var l=n.ed25519;function f(e){var t=e.message;if(t instanceof Uint8Array||t instanceof c)return t;var r=e.encoding;if(void 0===t){if(!e.md)throw new TypeError('"options.message" or "options.md" not specified.');t=e.md.digest().getBytes(),r="binary"}if("string"==typeof t&&!r)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if("string"==typeof t){if("undefined"!=typeof Buffer)return Buffer.from(t,r);t=new u(t,r)}else if(!(t instanceof u))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var n=new c(t.length()),i=0;i<n.length;++i)n[i]=t.at(i);return n}l.constants={},l.constants.PUBLIC_KEY_BYTE_LENGTH=32,l.constants.PRIVATE_KEY_BYTE_LENGTH=64,l.constants.SEED_BYTE_LENGTH=32,l.constants.SIGN_BYTE_LENGTH=64,l.constants.HASH_BYTE_LENGTH=64,l.generateKeyPair=function(e){var t=(e=e||{}).seed;if(void 0===t)t=n.random.getBytesSync(l.constants.SEED_BYTE_LENGTH);else if("string"==typeof t){if(t.length!==l.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+l.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(t instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');t=f({message:t,encoding:"binary"});for(var r=new c(l.constants.PUBLIC_KEY_BYTE_LENGTH),i=new c(l.constants.PRIVATE_KEY_BYTE_LENGTH),s=0;s<32;++s)i[s]=t[s];return function(e,t){var r,n=[D(),D(),D(),D()],i=E(t,32);for(i[0]&=248,i[31]&=127,i[31]|=64,N(n,i),T(e,n),r=0;r<32;++r)t[r+32]=e[r]}(r,i),{publicKey:r,privateKey:i}},l.privateKeyFromAsn1=function(e){var t={},r=[];if(!n.asn1.validate(e,a,t,r)){var i=new Error("Invalid Key.");throw i.errors=r,i}var s=n.asn1.derToOid(t.privateKeyOid),o=n.oids.EdDSA25519;if(s!==o)throw new Error('Invalid OID "'+s+'"; OID must be "'+o+'".');var u=t.privateKey;return{privateKeyBytes:f({message:n.asn1.fromDer(u).value,encoding:"binary"})}},l.publicKeyFromAsn1=function(e){var t={},r=[];if(!n.asn1.validate(e,s,t,r)){var i=new Error("Invalid Key.");throw i.errors=r,i}var a=n.asn1.derToOid(t.publicKeyOid),o=n.oids.EdDSA25519;if(a!==o)throw new Error('Invalid OID "'+a+'"; OID must be "'+o+'".');var u=t.ed25519PublicKey;if(u.length!==l.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return f({message:u,encoding:"binary"})},l.publicKeyFromPrivateKey=function(e){var t=f({message:(e=e||{}).privateKey,encoding:"binary"});if(t.length!==l.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+l.constants.PRIVATE_KEY_BYTE_LENGTH);for(var r=new c(l.constants.PUBLIC_KEY_BYTE_LENGTH),n=0;n<r.length;++n)r[n]=t[32+n];return r},l.sign=function(e){var t=f(e=e||{}),r=f({message:e.privateKey,encoding:"binary"});if(r.length===l.constants.SEED_BYTE_LENGTH)r=l.generateKeyPair({seed:r}).privateKey;else if(r.length!==l.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+l.constants.SEED_BYTE_LENGTH+" or "+l.constants.PRIVATE_KEY_BYTE_LENGTH);var n=new c(l.constants.SIGN_BYTE_LENGTH+t.length);!function(e,t,r,n){var i,s,a=new Float64Array(64),o=[D(),D(),D(),D()],u=E(n,32);u[0]&=248,u[31]&=127,u[31]|=64;var c=r+64;for(i=0;i<r;++i)e[64+i]=t[i];for(i=0;i<32;++i)e[32+i]=u[32+i];var l=E(e.subarray(32),r+32);for(S(l),N(o,l),T(e,o),i=32;i<64;++i)e[i]=n[i];var f=E(e,r+64);for(S(f),i=32;i<64;++i)a[i]=0;for(i=0;i<32;++i)a[i]=l[i];for(i=0;i<32;++i)for(s=0;s<32;s++)a[i+s]+=f[i]*u[s];b(e.subarray(32),a)}(n,t,t.length,r);for(var i=new c(l.constants.SIGN_BYTE_LENGTH),s=0;s<i.length;++s)i[s]=n[s];return i},l.verify=function(e){var t=f(e=e||{});if(void 0===e.signature)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var r=f({message:e.signature,encoding:"binary"});if(r.length!==l.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+l.constants.SIGN_BYTE_LENGTH);var n=f({message:e.publicKey,encoding:"binary"});if(n.length!==l.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+l.constants.PUBLIC_KEY_BYTE_LENGTH);var i,s=new c(l.constants.SIGN_BYTE_LENGTH+t.length),a=new c(l.constants.SIGN_BYTE_LENGTH+t.length);for(i=0;i<l.constants.SIGN_BYTE_LENGTH;++i)s[i]=r[i];for(i=0;i<t.length;++i)s[i+l.constants.SIGN_BYTE_LENGTH]=t[i];return function(e,t,r,n){var i,s=new c(32),a=[D(),D(),D(),D()],o=[D(),D(),D(),D()];if(-1,r<64)return-1;if(function(e,t){var r=D(),n=D(),i=D(),s=D(),a=D(),o=D(),u=D();O(e[2],p),function(e,t){var r;for(r=0;r<16;++r)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}(e[1],t),j(i,e[1]),F(s,i,d),U(i,i,e[2]),P(s,e[2],s),j(a,s),j(o,a),F(u,o,a),F(r,u,i),F(r,r,s),function(e,t){var r,n=D();for(r=0;r<16;++r)n[r]=t[r];for(r=250;r>=0;--r)j(n,n),1!==r&&F(n,n,t);for(r=0;r<16;++r)e[r]=n[r]}(r,r),F(r,r,i),F(r,r,s),F(r,r,s),F(e[0],r,s),j(n,e[0]),F(n,n,s),I(n,i)&&F(e[0],e[0],C);if(j(n,e[0]),F(n,n,s),I(n,i))return-1;k(e[0])===t[31]>>7&&U(e[0],h,e[0]);return F(e[3],e[0],e[1]),0}(o,n))return-1;for(i=0;i<r;++i)e[i]=t[i];for(i=0;i<32;++i)e[i+32]=n[i];var u=E(e,r);if(S(u),R(a,o,u),N(o,t.subarray(32)),w(a,o),T(s,a),r-=64,B(t,0,s,0)){for(i=0;i<r;++i)e[i]=0;return-1}for(i=0;i<r;++i)e[i]=t[i+64];return r}(a,s,s.length,n)>=0};var h=D(),p=D([1]),d=D([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),g=D([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),y=D([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),m=D([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),v=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),C=D([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function E(e,t){var r=n.md.sha512.create(),i=new u(e);r.update(i.getBytes(t),"binary");var s=r.digest().getBytes();if("undefined"!=typeof Buffer)return Buffer.from(s,"binary");for(var a=new c(l.constants.HASH_BYTE_LENGTH),o=0;o<64;++o)a[o]=s.charCodeAt(o);return a}function b(e,t){var r,n,i,s;for(n=63;n>=32;--n){for(r=0,i=n-32,s=n-12;i<s;++i)t[i]+=r-16*t[n]*v[i-(n-32)],r=t[i]+128>>8,t[i]-=256*r;t[i]+=r,t[n]=0}for(r=0,i=0;i<32;++i)t[i]+=r-(t[31]>>4)*v[i],r=t[i]>>8,t[i]&=255;for(i=0;i<32;++i)t[i]-=r*v[i];for(n=0;n<32;++n)t[n+1]+=t[n]>>8,e[n]=255&t[n]}function S(e){for(var t=new Float64Array(64),r=0;r<64;++r)t[r]=e[r],e[r]=0;b(e,t)}function w(e,t){var r=D(),n=D(),i=D(),s=D(),a=D(),o=D(),u=D(),c=D(),l=D();U(r,e[1],e[0]),U(l,t[1],t[0]),F(r,r,l),P(n,e[0],e[1]),P(l,t[0],t[1]),F(n,n,l),F(i,e[3],t[3]),F(i,i,g),F(s,e[2],t[2]),P(s,s,s),U(a,n,r),U(o,s,i),P(u,s,i),P(c,n,r),F(e[0],a,o),F(e[1],c,u),F(e[2],u,o),F(e[3],a,c)}function _(e,t,r){for(var n=0;n<4;++n)L(e[n],t[n],r)}function T(e,t){var r=D(),n=D(),i=D();!function(e,t){var r,n=D();for(r=0;r<16;++r)n[r]=t[r];for(r=253;r>=0;--r)j(n,n),2!==r&&4!==r&&F(n,n,t);for(r=0;r<16;++r)e[r]=n[r]}(i,t[2]),F(r,t[0],i),F(n,t[1],i),A(e,n),e[31]^=k(r)<<7}function A(e,t){var r,n,i,s=D(),a=D();for(r=0;r<16;++r)a[r]=t[r];for(x(a),x(a),x(a),n=0;n<2;++n){for(s[0]=a[0]-65517,r=1;r<15;++r)s[r]=a[r]-65535-(s[r-1]>>16&1),s[r-1]&=65535;s[15]=a[15]-32767-(s[14]>>16&1),i=s[15]>>16&1,s[14]&=65535,L(a,s,1-i)}for(r=0;r<16;r++)e[2*r]=255&a[r],e[2*r+1]=a[r]>>8}function I(e,t){var r=new c(32),n=new c(32);return A(r,e),A(n,t),B(r,0,n,0)}function B(e,t,r,n){return function(e,t,r,n,i){var s,a=0;for(s=0;s<i;++s)a|=e[t+s]^r[n+s];return(1&a-1>>>8)-1}(e,t,r,n,32)}function k(e){var t=new c(32);return A(t,e),1&t[0]}function R(e,t,r){var n,i;for(O(e[0],h),O(e[1],p),O(e[2],p),O(e[3],h),i=255;i>=0;--i)_(e,t,n=r[i/8|0]>>(7&i)&1),w(t,e),w(e,e),_(e,t,n)}function N(e,t){var r=[D(),D(),D(),D()];O(r[0],y),O(r[1],m),O(r[2],p),F(r[3],y,m),R(e,r,t)}function O(e,t){var r;for(r=0;r<16;r++)e[r]=0|t[r]}function x(e){var t,r,n=1;for(t=0;t<16;++t)r=e[t]+n+65535,n=Math.floor(r/65536),e[t]=r-65536*n;e[0]+=n-1+37*(n-1)}function L(e,t,r){for(var n,i=~(r-1),s=0;s<16;++s)n=i&(e[s]^t[s]),e[s]^=n,t[s]^=n}function D(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;++t)r[t]=e[t];return r}function P(e,t,r){for(var n=0;n<16;++n)e[n]=t[n]+r[n]}function U(e,t,r){for(var n=0;n<16;++n)e[n]=t[n]-r[n]}function j(e,t){F(e,t,t)}function F(e,t,r){var n,i,s=0,a=0,o=0,u=0,c=0,l=0,f=0,h=0,p=0,d=0,g=0,y=0,m=0,v=0,C=0,E=0,b=0,S=0,w=0,_=0,T=0,A=0,I=0,B=0,k=0,R=0,N=0,O=0,x=0,L=0,D=0,P=r[0],U=r[1],j=r[2],F=r[3],V=r[4],M=r[5],K=r[6],q=r[7],G=r[8],H=r[9],z=r[10],W=r[11],Q=r[12],$=r[13],Y=r[14],J=r[15];s+=(n=t[0])*P,a+=n*U,o+=n*j,u+=n*F,c+=n*V,l+=n*M,f+=n*K,h+=n*q,p+=n*G,d+=n*H,g+=n*z,y+=n*W,m+=n*Q,v+=n*$,C+=n*Y,E+=n*J,a+=(n=t[1])*P,o+=n*U,u+=n*j,c+=n*F,l+=n*V,f+=n*M,h+=n*K,p+=n*q,d+=n*G,g+=n*H,y+=n*z,m+=n*W,v+=n*Q,C+=n*$,E+=n*Y,b+=n*J,o+=(n=t[2])*P,u+=n*U,c+=n*j,l+=n*F,f+=n*V,h+=n*M,p+=n*K,d+=n*q,g+=n*G,y+=n*H,m+=n*z,v+=n*W,C+=n*Q,E+=n*$,b+=n*Y,S+=n*J,u+=(n=t[3])*P,c+=n*U,l+=n*j,f+=n*F,h+=n*V,p+=n*M,d+=n*K,g+=n*q,y+=n*G,m+=n*H,v+=n*z,C+=n*W,E+=n*Q,b+=n*$,S+=n*Y,w+=n*J,c+=(n=t[4])*P,l+=n*U,f+=n*j,h+=n*F,p+=n*V,d+=n*M,g+=n*K,y+=n*q,m+=n*G,v+=n*H,C+=n*z,E+=n*W,b+=n*Q,S+=n*$,w+=n*Y,_+=n*J,l+=(n=t[5])*P,f+=n*U,h+=n*j,p+=n*F,d+=n*V,g+=n*M,y+=n*K,m+=n*q,v+=n*G,C+=n*H,E+=n*z,b+=n*W,S+=n*Q,w+=n*$,_+=n*Y,T+=n*J,f+=(n=t[6])*P,h+=n*U,p+=n*j,d+=n*F,g+=n*V,y+=n*M,m+=n*K,v+=n*q,C+=n*G,E+=n*H,b+=n*z,S+=n*W,w+=n*Q,_+=n*$,T+=n*Y,A+=n*J,h+=(n=t[7])*P,p+=n*U,d+=n*j,g+=n*F,y+=n*V,m+=n*M,v+=n*K,C+=n*q,E+=n*G,b+=n*H,S+=n*z,w+=n*W,_+=n*Q,T+=n*$,A+=n*Y,I+=n*J,p+=(n=t[8])*P,d+=n*U,g+=n*j,y+=n*F,m+=n*V,v+=n*M,C+=n*K,E+=n*q,b+=n*G,S+=n*H,w+=n*z,_+=n*W,T+=n*Q,A+=n*$,I+=n*Y,B+=n*J,d+=(n=t[9])*P,g+=n*U,y+=n*j,m+=n*F,v+=n*V,C+=n*M,E+=n*K,b+=n*q,S+=n*G,w+=n*H,_+=n*z,T+=n*W,A+=n*Q,I+=n*$,B+=n*Y,k+=n*J,g+=(n=t[10])*P,y+=n*U,m+=n*j,v+=n*F,C+=n*V,E+=n*M,b+=n*K,S+=n*q,w+=n*G,_+=n*H,T+=n*z,A+=n*W,I+=n*Q,B+=n*$,k+=n*Y,R+=n*J,y+=(n=t[11])*P,m+=n*U,v+=n*j,C+=n*F,E+=n*V,b+=n*M,S+=n*K,w+=n*q,_+=n*G,T+=n*H,A+=n*z,I+=n*W,B+=n*Q,k+=n*$,R+=n*Y,N+=n*J,m+=(n=t[12])*P,v+=n*U,C+=n*j,E+=n*F,b+=n*V,S+=n*M,w+=n*K,_+=n*q,T+=n*G,A+=n*H,I+=n*z,B+=n*W,k+=n*Q,R+=n*$,N+=n*Y,O+=n*J,v+=(n=t[13])*P,C+=n*U,E+=n*j,b+=n*F,S+=n*V,w+=n*M,_+=n*K,T+=n*q,A+=n*G,I+=n*H,B+=n*z,k+=n*W,R+=n*Q,N+=n*$,O+=n*Y,x+=n*J,C+=(n=t[14])*P,E+=n*U,b+=n*j,S+=n*F,w+=n*V,_+=n*M,T+=n*K,A+=n*q,I+=n*G,B+=n*H,k+=n*z,R+=n*W,N+=n*Q,O+=n*$,x+=n*Y,L+=n*J,E+=(n=t[15])*P,a+=38*(S+=n*j),o+=38*(w+=n*F),u+=38*(_+=n*V),c+=38*(T+=n*M),l+=38*(A+=n*K),f+=38*(I+=n*q),h+=38*(B+=n*G),p+=38*(k+=n*H),d+=38*(R+=n*z),g+=38*(N+=n*W),y+=38*(O+=n*Q),m+=38*(x+=n*$),v+=38*(L+=n*Y),C+=38*(D+=n*J),s=(n=(s+=38*(b+=n*U))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),o=(n=o+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),C=(n=C+i+65535)-65536*(i=Math.floor(n/65536)),E=(n=E+i+65535)-65536*(i=Math.floor(n/65536)),s=(n=(s+=i-1+37*(i-1))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),o=(n=o+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),C=(n=C+i+65535)-65536*(i=Math.floor(n/65536)),E=(n=E+i+65535)-65536*(i=Math.floor(n/65536)),s+=i-1+37*(i-1),e[0]=s,e[1]=a,e[2]=o,e[3]=u,e[4]=c,e[5]=l,e[6]=f,e[7]=h,e[8]=p,e[9]=d,e[10]=g,e[11]=y,e[12]=m,e[13]=v,e[14]=C,e[15]=E}},function(e,t,r){var n=r(0);r(5);var i=n.asn1;t.privateKeyValidator={name:"PrivateKeyInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},t.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:i.Class.UNIVERSAL,type:i.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]}},function(e,t,r){var n=r(0);r(1),r(4),r(23),e.exports=n.kem=n.kem||{};var i=n.jsbn.BigInteger;function s(e,t,r,i){e.generate=function(e,s){for(var a=new n.util.ByteBuffer,o=Math.ceil(s/i)+r,u=new n.util.ByteBuffer,c=r;c<o;++c){u.putInt32(c),t.start(),t.update(e+u.getBytes());var l=t.digest();a.putBytes(l.getBytes(i))}return a.truncate(a.length()-s),a.getBytes()}}n.kem.rsa={},n.kem.rsa.create=function(e,t){var r=(t=t||{}).prng||n.random,s={encrypt:function(t,s){var a,o=Math.ceil(t.n.bitLength()/8);do{a=new i(n.util.bytesToHex(r.getBytesSync(o)),16).mod(t.n)}while(a.compareTo(i.ONE)<=0);var u=o-(a=n.util.hexToBytes(a.toString(16))).length;return u>0&&(a=n.util.fillString(String.fromCharCode(0),u)+a),{encapsulation:t.encrypt(a,"NONE"),key:e.generate(a,s)}},decrypt:function(t,r,n){var i=t.decrypt(r,"NONE");return e.generate(i,n)}};return s},n.kem.kdf1=function(e,t){s(this,e,0,t||e.digestLength)},n.kem.kdf2=function(e,t){s(this,e,1,t||e.digestLength)}},function(e,t,r){e.exports=r(7),r(34),r(17),r(65),r(74)},function(e,t,r){var n=r(0);r(9),r(5),r(21),r(10),r(12),r(71),r(4),r(1),r(36);var i=n.asn1,s=e.exports=n.pkcs7=n.pkcs7||{};function a(e){var t={},r=[];if(!i.validate(e,s.asn1.recipientInfoValidator,t,r)){var a=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw a.errors=r,a}return{version:t.version.charCodeAt(0),issuer:n.pki.RDNAttributesAsArray(t.issuer),serialNumber:n.util.createBuffer(t.serial).toHex(),encryptedContent:{algorithm:i.derToOid(t.encAlgorithm),parameter:t.encParameter.value,content:t.encKey}}}function o(e){for(var t,r=[],s=0;s<e.length;++s)r.push((t=e[s],i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(t.version).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[n.pki.distinguishedNameToAsn1({attributes:t.issuer}),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,n.util.hexToBytes(t.serialNumber))]),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.encryptedContent.algorithm).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")]),i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,t.encryptedContent.content)])));return r}function u(e){var t=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(e.version).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[n.pki.distinguishedNameToAsn1({attributes:e.issuer}),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,n.util.hexToBytes(e.serialNumber))]),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.digestAlgorithm).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")])]);if(e.authenticatedAttributesAsn1&&t.value.push(e.authenticatedAttributesAsn1),t.value.push(i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.signatureAlgorithm).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")])),t.value.push(i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,e.signature)),e.unauthenticatedAttributes.length>0){for(var r=i.create(i.Class.CONTEXT_SPECIFIC,1,!0,[]),s=0;s<e.unauthenticatedAttributes.length;++s){var a=e.unauthenticatedAttributes[s];r.values.push(c(a))}t.value.push(r)}return t}function c(e){var t;if(e.type===n.pki.oids.contentType)t=i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.value).getBytes());else if(e.type===n.pki.oids.messageDigest)t=i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,e.value.bytes());else if(e.type===n.pki.oids.signingTime){var r=new Date("1950-01-01T00:00:00Z"),s=new Date("2050-01-01T00:00:00Z"),a=e.value;if("string"==typeof a){var o=Date.parse(a);a=isNaN(o)?13===a.length?i.utcTimeToDate(a):i.generalizedTimeToDate(a):new Date(o)}t=a>=r&&a<s?i.create(i.Class.UNIVERSAL,i.Type.UTCTIME,!1,i.dateToUtcTime(a)):i.create(i.Class.UNIVERSAL,i.Type.GENERALIZEDTIME,!1,i.dateToGeneralizedTime(a))}return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.type).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[t])])}function l(e,t,r){var s={};if(!i.validate(t,r,s,[])){var a=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw a.errors=a,a}if(i.derToOid(s.contentType)!==n.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(s.encryptedContent){var o="";if(n.util.isArray(s.encryptedContent))for(var u=0;u<s.encryptedContent.length;++u){if(s.encryptedContent[u].type!==i.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");o+=s.encryptedContent[u].value}else o=s.encryptedContent;e.encryptedContent={algorithm:i.derToOid(s.encAlgorithm),parameter:n.util.createBuffer(s.encParameter.value),content:n.util.createBuffer(o)}}if(s.content){o="";if(n.util.isArray(s.content))for(u=0;u<s.content.length;++u){if(s.content[u].type!==i.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");o+=s.content[u].value}else o=s.content;e.content=n.util.createBuffer(o)}return e.version=s.version.charCodeAt(0),e.rawCapture=s,s}function f(e){if(void 0===e.encryptedContent.key)throw new Error("Symmetric key not available.");if(void 0===e.content){var t;switch(e.encryptedContent.algorithm){case n.pki.oids["aes128-CBC"]:case n.pki.oids["aes192-CBC"]:case n.pki.oids["aes256-CBC"]:t=n.aes.createDecryptionCipher(e.encryptedContent.key);break;case n.pki.oids.desCBC:case n.pki.oids["des-EDE3-CBC"]:t=n.des.createDecryptionCipher(e.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+e.encryptedContent.algorithm)}if(t.start(e.encryptedContent.parameter),t.update(e.encryptedContent.content),!t.finish())throw new Error("Symmetric decryption failed.");e.content=t.output}}s.messageFromPem=function(e){var t=n.pem.decode(e)[0];if("PKCS7"!==t.type){var r=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw r.headerType=t.type,r}if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var a=i.fromDer(t.body);return s.messageFromAsn1(a)},s.messageToPem=function(e,t){var r={type:"PKCS7",body:i.toDer(e.toAsn1()).getBytes()};return n.pem.encode(r,{maxline:t})},s.messageFromAsn1=function(e){var t={},r=[];if(!i.validate(e,s.asn1.contentInfoValidator,t,r)){var a=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw a.errors=r,a}var o,u=i.derToOid(t.contentType);switch(u){case n.pki.oids.envelopedData:o=s.createEnvelopedData();break;case n.pki.oids.encryptedData:o=s.createEncryptedData();break;case n.pki.oids.signedData:o=s.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+u+" is not (yet) supported.")}return o.fromAsn1(t.content.value[0]),o},s.createSignedData=function(){var e=null;return e={type:n.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(t){if(l(e,t,s.asn1.signedDataValidator),e.certificates=[],e.crls=[],e.digestAlgorithmIdentifiers=[],e.contentInfo=null,e.signerInfos=[],e.rawCapture.certificates)for(var r=e.rawCapture.certificates.value,i=0;i<r.length;++i)e.certificates.push(n.pki.certificateFromAsn1(r[i]))},toAsn1:function(){e.contentInfo||e.sign();for(var t=[],r=0;r<e.certificates.length;++r)t.push(n.pki.certificateToAsn1(e.certificates[r]));var s=[],a=i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(e.version).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,e.digestAlgorithmIdentifiers),e.contentInfo])]);return t.length>0&&a.value[0].value.push(i.create(i.Class.CONTEXT_SPECIFIC,0,!0,t)),s.length>0&&a.value[0].value.push(i.create(i.Class.CONTEXT_SPECIFIC,1,!0,s)),a.value[0].value.push(i.create(i.Class.UNIVERSAL,i.Type.SET,!0,e.signerInfos)),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.type).getBytes()),a])},addSigner:function(t){var r=t.issuer,i=t.serialNumber;if(t.certificate){var s=t.certificate;"string"==typeof s&&(s=n.pki.certificateFromPem(s)),r=s.issuer.attributes,i=s.serialNumber}var a=t.key;if(!a)throw new Error("Could not add PKCS#7 signer; no private key specified.");"string"==typeof a&&(a=n.pki.privateKeyFromPem(a));var o=t.digestAlgorithm||n.pki.oids.sha1;switch(o){case n.pki.oids.sha1:case n.pki.oids.sha256:case n.pki.oids.sha384:case n.pki.oids.sha512:case n.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+o)}var u=t.authenticatedAttributes||[];if(u.length>0){for(var c=!1,l=!1,f=0;f<u.length;++f){var h=u[f];if(c||h.type!==n.pki.oids.contentType){if(l||h.type!==n.pki.oids.messageDigest);else if(l=!0,c)break}else if(c=!0,l)break}if(!c||!l)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}e.signers.push({key:a,version:1,issuer:r,serialNumber:i,digestAlgorithm:o,signatureAlgorithm:n.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:u,unauthenticatedAttributes:[]})},sign:function(t){var r;(t=t||{},"object"!=typeof e.content||null===e.contentInfo)&&(e.contentInfo=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(n.pki.oids.data).getBytes())]),"content"in e&&(e.content instanceof n.util.ByteBuffer?r=e.content.bytes():"string"==typeof e.content&&(r=n.util.encodeUtf8(e.content)),t.detached?e.detachedContent=i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,r):e.contentInfo.value.push(i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,r)]))));0!==e.signers.length&&function(t){var r;r=e.detachedContent?e.detachedContent:(r=e.contentInfo.value[1]).value[0];if(!r)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var s=i.derToOid(e.contentInfo.value[0].value),a=i.toDer(r);for(var o in a.getByte(),i.getBerValueLength(a),a=a.getBytes(),t)t[o].start().update(a);for(var l=new Date,f=0;f<e.signers.length;++f){var h=e.signers[f];if(0===h.authenticatedAttributes.length){if(s!==n.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{h.authenticatedAttributesAsn1=i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var p=i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[]),d=0;d<h.authenticatedAttributes.length;++d){var g=h.authenticatedAttributes[d];g.type===n.pki.oids.messageDigest?g.value=t[h.digestAlgorithm].digest():g.type===n.pki.oids.signingTime&&(g.value||(g.value=l)),p.value.push(c(g)),h.authenticatedAttributesAsn1.value.push(c(g))}a=i.toDer(p).getBytes(),h.md.start().update(a)}h.signature=h.key.sign(h.md,"RSASSA-PKCS1-V1_5")}e.signerInfos=function(e){for(var t=[],r=0;r<e.length;++r)t.push(u(e[r]));return t}(e.signers)}(function(){for(var t={},r=0;r<e.signers.length;++r){var s=e.signers[r];(a=s.digestAlgorithm)in t||(t[a]=n.md[n.pki.oids[a]].create()),0===s.authenticatedAttributes.length?s.md=t[a]:s.md=n.md[n.pki.oids[a]].create()}for(var a in e.digestAlgorithmIdentifiers=[],t)e.digestAlgorithmIdentifiers.push(i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(a).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")]));return t}())},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(t){"string"==typeof t&&(t=n.pki.certificateFromPem(t)),e.certificates.push(t)},addCertificateRevokationList:function(e){throw new Error("PKCS#7 CRL support not yet implemented.")}}},s.createEncryptedData=function(){var e=null;return e={type:n.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:n.pki.oids["aes256-CBC"]},fromAsn1:function(t){l(e,t,s.asn1.encryptedDataValidator)},decrypt:function(t){void 0!==t&&(e.encryptedContent.key=t),f(e)}}},s.createEnvelopedData=function(){var e=null;return e={type:n.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:n.pki.oids["aes256-CBC"]},fromAsn1:function(t){var r=l(e,t,s.asn1.envelopedDataValidator);e.recipients=function(e){for(var t=[],r=0;r<e.length;++r)t.push(a(e[r]));return t}(r.recipientInfos.value)},toAsn1:function(){return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.type).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(e.version).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,o(e.recipients)),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,(t=e.encryptedContent,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(n.pki.oids.data).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.algorithm).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,t.parameter.getBytes())]),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,t.content.getBytes())])]))])])]);var t},findRecipient:function(t){for(var r=t.issuer.attributes,n=0;n<e.recipients.length;++n){var i=e.recipients[n],s=i.issuer;if(i.serialNumber===t.serialNumber&&s.length===r.length){for(var a=!0,o=0;o<r.length;++o)if(s[o].type!==r[o].type||s[o].value!==r[o].value){a=!1;break}if(a)return i}}return null},decrypt:function(t,r){if(void 0===e.encryptedContent.key&&void 0!==t&&void 0!==r)switch(t.encryptedContent.algorithm){case n.pki.oids.rsaEncryption:case n.pki.oids.desCBC:var i=r.decrypt(t.encryptedContent.content);e.encryptedContent.key=n.util.createBuffer(i);break;default:throw new Error("Unsupported asymmetric cipher, OID "+t.encryptedContent.algorithm)}f(e)},addRecipient:function(t){e.recipients.push({version:0,issuer:t.issuer.attributes,serialNumber:t.serialNumber,encryptedContent:{algorithm:n.pki.oids.rsaEncryption,key:t.publicKey}})},encrypt:function(t,r){if(void 0===e.encryptedContent.content){var i,s,a;switch(r=r||e.encryptedContent.algorithm,t=t||e.encryptedContent.key,r){case n.pki.oids["aes128-CBC"]:i=16,s=16,a=n.aes.createEncryptionCipher;break;case n.pki.oids["aes192-CBC"]:i=24,s=16,a=n.aes.createEncryptionCipher;break;case n.pki.oids["aes256-CBC"]:i=32,s=16,a=n.aes.createEncryptionCipher;break;case n.pki.oids["des-EDE3-CBC"]:i=24,s=8,a=n.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+r)}if(void 0===t)t=n.util.createBuffer(n.random.getBytes(i));else if(t.length()!=i)throw new Error("Symmetric key has wrong length; got "+t.length()+" bytes, expected "+i+".");e.encryptedContent.algorithm=r,e.encryptedContent.key=t,e.encryptedContent.parameter=n.util.createBuffer(n.random.getBytes(s));var o=a(t);if(o.start(e.encryptedContent.parameter.copy()),o.update(e.content),!o.finish())throw new Error("Symmetric encryption failed.");e.encryptedContent.content=o.output}for(var u=0;u<e.recipients.length;++u){var c=e.recipients[u];if(void 0===c.encryptedContent.content)switch(c.encryptedContent.algorithm){case n.pki.oids.rsaEncryption:c.encryptedContent.content=c.encryptedContent.key.encrypt(e.encryptedContent.key.data);break;default:throw new Error("Unsupported asymmetric cipher, OID "+c.encryptedContent.algorithm)}}}}}},function(e,t,r){var n=r(0);r(9),r(16),r(34),r(17),r(1);var i=e.exports=n.ssh=n.ssh||{};function s(e,t){var r=t.toString(16);r[0]>="8"&&(r="00"+r);var i=n.util.hexToBytes(r);e.putInt32(i.length),e.putBytes(i)}function a(e,t){e.putInt32(t.length),e.putString(t)}function o(){for(var e=n.md.sha1.create(),t=arguments.length,r=0;r<t;++r)e.update(arguments[r]);return e.digest()}i.privateKeyToPutty=function(e,t,r){var i=""===(t=t||"")?"none":"aes256-cbc",u="PuTTY-User-Key-File-2: ssh-rsa\r\n";u+="Encryption: "+i+"\r\n",u+="Comment: "+(r=r||"")+"\r\n";var c=n.util.createBuffer();a(c,"ssh-rsa"),s(c,e.e),s(c,e.n);var l=n.util.encode64(c.bytes(),64),f=Math.floor(l.length/66)+1;u+="Public-Lines: "+f+"\r\n",u+=l;var h,p=n.util.createBuffer();if(s(p,e.d),s(p,e.p),s(p,e.q),s(p,e.qInv),t){var d=p.length()+16-1;d-=d%16;var g=o(p.bytes());g.truncate(g.length()-d+p.length()),p.putBuffer(g);var y=n.util.createBuffer();y.putBuffer(o("\0\0\0\0",t)),y.putBuffer(o("\0\0\0",t));var m=n.aes.createEncryptionCipher(y.truncate(8),"CBC");m.start(n.util.createBuffer().fillWithByte(0,16)),m.update(p.copy()),m.finish();var v=m.output;v.truncate(16),h=n.util.encode64(v.bytes(),64)}else h=n.util.encode64(p.bytes(),64);u+="\r\nPrivate-Lines: "+(f=Math.floor(h.length/66)+1)+"\r\n",u+=h;var C=o("putty-private-key-file-mac-key",t),E=n.util.createBuffer();a(E,"ssh-rsa"),a(E,i),a(E,r),E.putInt32(c.length()),E.putBuffer(c),E.putInt32(p.length()),E.putBuffer(p);var b=n.hmac.create();return b.start("sha1",C),b.update(E.bytes()),u+="\r\nPrivate-MAC: "+b.digest().toHex()+"\r\n"},i.publicKeyToOpenSSH=function(e,t){t=t||"";var r=n.util.createBuffer();return a(r,"ssh-rsa"),s(r,e.e),s(r,e.n),"ssh-rsa "+n.util.encode64(r.bytes())+" "+t},i.privateKeyToOpenSSH=function(e,t){return t?n.pki.encryptRsaPrivateKey(e,t,{legacy:!0,algorithm:"aes128"}):n.pki.privateKeyToPem(e)},i.getPublicKeyFingerprint=function(e,t){var r=(t=t||{}).md||n.md.md5.create(),i=n.util.createBuffer();a(i,"ssh-rsa"),s(i,e.e),s(i,e.n),r.start(),r.update(i.getBytes());var o=r.digest();if("hex"===t.encoding){var u=o.toHex();return t.delimiter?u.match(/.{2}/g).join(t.delimiter):u}if("binary"===t.encoding)return o.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".');return o}},function(e,t,r){var n=r(0);r(73),r(75),r(1);var i="forge.task",s={},a=0;n.debug.set(i,"tasks",s);var o={};n.debug.set(i,"queues",o);var u="ready",c="running",l="blocked",f="sleeping",h="done",p="error",d="stop",g="start",y={ready:{}};y[u][d]=u,y[u][g]=c,y[u].cancel=h,y[u].fail=p,y[c]={},y[c][d]=u,y[c][g]=c,y[c].block=l,y[c].unblock=c,y[c].sleep=f,y[c].wakeup=c,y[c].cancel=h,y[c].fail=p,y[l]={},y[l][d]=l,y[l][g]=l,y[l].block=l,y[l].unblock=l,y[l].sleep=l,y[l].wakeup=l,y[l].cancel=h,y[l].fail=p,y[f]={},y[f][d]=f,y[f][g]=f,y[f].block=f,y[f].unblock=f,y[f].sleep=f,y[f].wakeup=f,y[f].cancel=h,y[f].fail=p,y[h]={},y[h][d]=h,y[h][g]=h,y[h].block=h,y[h].unblock=h,y[h].sleep=h,y[h].wakeup=h,y[h].cancel=h,y[h].fail=p,y[p]={},y[p][d]=p,y[p][g]=p,y[p].block=p,y[p].unblock=p,y[p].sleep=p,y[p].wakeup=p,y[p].cancel=p,y[p].fail=p;var m=function(e){this.id=-1,this.name=e.name||"?",this.parent=e.parent||null,this.run=e.run,this.subtasks=[],this.error=!1,this.state=u,this.blocks=0,this.timeoutId=null,this.swapTime=null,this.userData=null,this.id=a++,s[this.id]=this};m.prototype.debug=function(e){e=e||"",n.log.debug(i,e,"[%s][%s] task:",this.id,this.name,this,"subtasks:",this.subtasks.length,"queue:",o)},m.prototype.next=function(e,t){"function"==typeof e&&(t=e,e=this.name);var r=new m({run:t,name:e,parent:this});return r.state=c,r.type=this.type,r.successCallback=this.successCallback||null,r.failureCallback=this.failureCallback||null,this.subtasks.push(r),this},m.prototype.parallel=function(e,t){return n.util.isArray(e)&&(t=e,e=this.name),this.next(e,(function(r){var i=r;i.block(t.length);for(var s=function(e,r){n.task.start({type:e,run:function(e){t[r](e)},success:function(e){i.unblock()},failure:function(e){i.unblock()}})},a=0;a<t.length;a++){s(e+"__parallel-"+r.id+"-"+a,a)}}))},m.prototype.stop=function(){this.state=y[this.state][d]},m.prototype.start=function(){this.error=!1,this.state=y[this.state][g],this.state===c&&(this.start=new Date,this.run(this),v(this,0))},m.prototype.block=function(e){e=void 0===e?1:e,this.blocks+=e,this.blocks>0&&(this.state=y[this.state].block)},m.prototype.unblock=function(e){return e=void 0===e?1:e,this.blocks-=e,0===this.blocks&&this.state!==h&&(this.state=c,v(this,0)),this.blocks},m.prototype.sleep=function(e){e=void 0===e?0:e,this.state=y[this.state].sleep;var t=this;this.timeoutId=setTimeout((function(){t.timeoutId=null,t.state=c,v(t,0)}),e)},m.prototype.wait=function(e){e.wait(this)},m.prototype.wakeup=function(){this.state===f&&(cancelTimeout(this.timeoutId),this.timeoutId=null,this.state=c,v(this,0))},m.prototype.cancel=function(){this.state=y[this.state].cancel,this.permitsNeeded=0,null!==this.timeoutId&&(cancelTimeout(this.timeoutId),this.timeoutId=null),this.subtasks=[]},m.prototype.fail=function(e){if(this.error=!0,C(this,!0),e)e.error=this.error,e.swapTime=this.swapTime,e.userData=this.userData,v(e,0);else{if(null!==this.parent){for(var t=this.parent;null!==t.parent;)t.error=this.error,t.swapTime=this.swapTime,t.userData=this.userData,t=t.parent;C(t,!0)}this.failureCallback&&this.failureCallback(this)}};var v=function(e,t){var r=t>30||+new Date-e.swapTime>20,n=function(t){if(t++,e.state===c)if(r&&(e.swapTime=+new Date),e.subtasks.length>0){var n=e.subtasks.shift();n.error=e.error,n.swapTime=e.swapTime,n.userData=e.userData,n.run(n),n.error||v(n,t)}else C(e),e.error||null!==e.parent&&(e.parent.error=e.error,e.parent.swapTime=e.swapTime,e.parent.userData=e.userData,v(e.parent,t))};r?setTimeout(n,0):n(t)},C=function(e,t){e.state=h,delete s[e.id],null===e.parent&&(e.type in o?0===o[e.type].length?n.log.error(i,"[%s][%s] task queue empty [%s]",e.id,e.name,e.type):o[e.type][0]!==e?n.log.error(i,"[%s][%s] task not first in queue [%s]",e.id,e.name,e.type):(o[e.type].shift(),0===o[e.type].length?delete o[e.type]:o[e.type][0].start()):n.log.error(i,"[%s][%s] task queue missing [%s]",e.id,e.name,e.type),t||(e.error&&e.failureCallback?e.failureCallback(e):!e.error&&e.successCallback&&e.successCallback(e)))};e.exports=n.task=n.task||{},n.task.start=function(e){var t=new m({run:e.run,name:e.name||"?"});t.type=e.type,t.successCallback=e.success||null,t.failureCallback=e.failure||null,t.type in o?o[e.type].push(t):(o[t.type]=[t],function(e){e.error=!1,e.state=y[e.state][g],setTimeout((function(){e.state===c&&(e.swapTime=+new Date,e.run(e),v(e,0))}),0)}(t))},n.task.cancel=function(e){e in o&&(o[e]=[o[e][0]])},n.task.createCondition=function(){var e={tasks:{},wait:function(t){t.id in e.tasks||(t.block(),e.tasks[t.id]=t)},notify:function(){var t=e.tasks;for(var r in e.tasks={},t)t[r].unblock()}};return e}},function(e,t,r){"use strict";const n=r(145),i=Symbol("max"),s=Symbol("length"),a=Symbol("lengthCalculator"),o=Symbol("allowStale"),u=Symbol("maxAge"),c=Symbol("dispose"),l=Symbol("noDisposeOnSet"),f=Symbol("lruList"),h=Symbol("cache"),p=Symbol("updateAgeOnGet"),d=()=>1;const g=(e,t,r)=>{const n=e[h].get(t);if(n){const t=n.value;if(y(e,t)){if(v(e,n),!e[o])return}else r&&(e[p]&&(n.value.now=Date.now()),e[f].unshiftNode(n));return t.value}},y=(e,t)=>{if(!t||!t.maxAge&&!e[u])return!1;const r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[u]&&r>e[u]},m=e=>{if(e[s]>e[i])for(let t=e[f].tail;e[s]>e[i]&&null!==t;){const r=t.prev;v(e,t),t=r}},v=(e,t)=>{if(t){const r=t.value;e[c]&&e[c](r.key,r.value),e[s]-=r.length,e[h].delete(r.key),e[f].removeNode(t)}};class C{constructor(e,t,r,n,i){this.key=e,this.value=t,this.length=r,this.now=n,this.maxAge=i||0}}const E=(e,t,r,n)=>{let i=r.value;y(e,i)&&(v(e,r),e[o]||(i=void 0)),i&&t.call(n,i.value,i.key,e)};e.exports=class{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[i]=e.max||1/0;const t=e.length||d;if(this[a]="function"!=typeof t?d:t,this[o]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw new TypeError("maxAge must be a number");this[u]=e.maxAge||0,this[c]=e.dispose,this[l]=e.noDisposeOnSet||!1,this[p]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[i]=e||1/0,m(this)}get max(){return this[i]}set allowStale(e){this[o]=!!e}get allowStale(){return this[o]}set maxAge(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[u]=e,m(this)}get maxAge(){return this[u]}set lengthCalculator(e){"function"!=typeof e&&(e=d),e!==this[a]&&(this[a]=e,this[s]=0,this[f].forEach(e=>{e.length=this[a](e.value,e.key),this[s]+=e.length})),m(this)}get lengthCalculator(){return this[a]}get length(){return this[s]}get itemCount(){return this[f].length}rforEach(e,t){t=t||this;for(let r=this[f].tail;null!==r;){const n=r.prev;E(this,e,r,t),r=n}}forEach(e,t){t=t||this;for(let r=this[f].head;null!==r;){const n=r.next;E(this,e,r,t),r=n}}keys(){return this[f].toArray().map(e=>e.key)}values(){return this[f].toArray().map(e=>e.value)}reset(){this[c]&&this[f]&&this[f].length&&this[f].forEach(e=>this[c](e.key,e.value)),this[h]=new Map,this[f]=new n,this[s]=0}dump(){return this[f].map(e=>!y(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[f]}set(e,t,r){if((r=r||this[u])&&"number"!=typeof r)throw new TypeError("maxAge must be a number");const n=r?Date.now():0,o=this[a](t,e);if(this[h].has(e)){if(o>this[i])return v(this,this[h].get(e)),!1;const a=this[h].get(e).value;return this[c]&&(this[l]||this[c](e,a.value)),a.now=n,a.maxAge=r,a.value=t,this[s]+=o-a.length,a.length=o,this.get(e),m(this),!0}const p=new C(e,t,o,n,r);return p.length>this[i]?(this[c]&&this[c](e,t),!1):(this[s]+=p.length,this[f].unshift(p),this[h].set(e,this[f].head),m(this),!0)}has(e){if(!this[h].has(e))return!1;const t=this[h].get(e).value;return!y(this,t)}get(e){return g(this,e,!0)}peek(e){return g(this,e,!1)}pop(){const e=this[f].tail;return e?(v(this,e),e.value):null}del(e){v(this,this[h].get(e))}load(e){this.reset();const t=Date.now();for(let r=e.length-1;r>=0;r--){const n=e[r],i=n.e||0;if(0===i)this.set(n.k,n.v);else{const e=i-t;e>0&&this.set(n.k,n.v,e)}}}prune(){this[h].forEach((e,t)=>g(this,t,!1))}}},function(e,t,r){"use strict";function n(e){var t=this;if(t instanceof n||(t=new n),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var r=0,i=arguments.length;r<i;r++)t.push(arguments[r]);return t}function i(e,t,r){var n=t===e.head?new o(r,null,t,e):new o(r,t,t.next,e);return null===n.next&&(e.tail=n),null===n.prev&&(e.head=n),e.length++,n}function s(e,t){e.tail=new o(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function a(e,t){e.head=new o(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function o(e,t,r,n){if(!(this instanceof o))return new o(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}e.exports=n,n.Node=o,n.create=n,n.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t},n.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},n.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},n.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)s(this,arguments[e]);return this.length},n.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)a(this,arguments[e]);return this.length},n.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},n.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},n.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;null!==r;n++)e.call(t,r.value,n,this),r=r.next},n.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;null!==r;n--)e.call(t,r.value,n,this),r=r.prev},n.prototype.get=function(e){for(var t=0,r=this.head;null!==r&&t<e;t++)r=r.next;if(t===e&&null!==r)return r.value},n.prototype.getReverse=function(e){for(var t=0,r=this.tail;null!==r&&t<e;t++)r=r.prev;if(t===e&&null!==r)return r.value},n.prototype.map=function(e,t){t=t||this;for(var r=new n,i=this.head;null!==i;)r.push(e.call(t,i.value,this)),i=i.next;return r},n.prototype.mapReverse=function(e,t){t=t||this;for(var r=new n,i=this.tail;null!==i;)r.push(e.call(t,i.value,this)),i=i.prev;return r},n.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");n=this.head.next,r=this.head.value}for(var i=0;null!==n;i++)r=e(r,n.value,i),n=n.next;return r},n.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");n=this.tail.prev,r=this.tail.value}for(var i=this.length-1;null!==n;i--)r=e(r,n.value,i),n=n.prev;return r},n.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;null!==r;t++)e[t]=r.value,r=r.next;return e},n.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;null!==r;t++)e[t]=r.value,r=r.prev;return e},n.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=0,s=this.head;null!==s&&i<e;i++)s=s.next;for(;null!==s&&i<t;i++,s=s.next)r.push(s.value);return r},n.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=this.length,s=this.tail;null!==s&&i>t;i--)s=s.prev;for(;null!==s&&i>e;i--,s=s.prev)r.push(s.value);return r},n.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,s=this.head;null!==s&&n<e;n++)s=s.next;var a=[];for(n=0;s&&n<t;n++)a.push(s.value),s=this.removeNode(s);null===s&&(s=this.tail),s!==this.head&&s!==this.tail&&(s=s.prev);for(n=0;n<r.length;n++)s=i(this,s,r[n]);return a},n.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;null!==r;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};try{r(146)(n)}catch(e){}},function(e,t,r){"use strict";e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IAMAuth=void 0;t.IAMAuth=class{constructor(e,t){this.selector=e,this.token=t,this.selector=e,this.token=t}getRequestHeaders(){return{"x-goog-iam-authority-selector":this.selector,"x-goog-iam-authorization-token":this.token}}}},function(e,t,r){e.exports=r(149)},function(e,t,r){"use strict";var n=r(3),i=r(78),s=r(150),a=r(86);function o(e){var t=new s(e),r=i(s.prototype.request,t);return n.extend(r,s.prototype,t),n.extend(r,t),r}var u=o(r(80));u.Axios=s,u.create=function(e){return o(a(u.defaults,e))},u.Cancel=r(87),u.CancelToken=r(167),u.isCancel=r(79),u.all=function(e){return Promise.all(e)},u.spread=r(168),u.isAxiosError=r(169),e.exports=u,e.exports.default=u},function(e,t,r){"use strict";var n=r(3),i=r(38),s=r(151),a=r(152),o=r(86);function u(e){this.defaults=e,this.interceptors={request:new s,response:new s}}u.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=o(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[a,void 0],r=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)r=r.then(t.shift(),t.shift());return r},u.prototype.getUri=function(e){return e=o(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],(function(e){u.prototype[e]=function(t,r){return this.request(o(r||{},{method:e,url:t,data:(r||{}).data}))}})),n.forEach(["post","put","patch"],(function(e){u.prototype[e]=function(t,r,n){return this.request(o(n||{},{method:e,url:t,data:r}))}})),e.exports=u},function(e,t,r){"use strict";var n=r(3);function i(){this.handlers=[]}i.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){n.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},function(e,t,r){"use strict";var n=r(3),i=r(153),s=r(79),a=r(80);function o(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return o(e),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return o(e),t.data=i(t.data,t.headers,e.transformResponse),t}),(function(t){return s(t)||(o(e),t&&t.response&&(t.response.data=i(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,r){"use strict";var n=r(3);e.exports=function(e,t,r){return n.forEach(r,(function(r){e=r(e,t)})),e}},function(e,t,r){"use strict";var n=r(3);e.exports=function(e,t){n.forEach(e,(function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])}))}},function(e,t,r){"use strict";var n=r(3),i=r(81),s=r(156),a=r(38),o=r(83),u=r(159),c=r(160),l=r(39);e.exports=function(e){return new Promise((function(t,r){var f=e.data,h=e.headers;n.isFormData(f)&&delete h["Content-Type"];var p=new XMLHttpRequest;if(e.auth){var d=e.auth.username||"",g=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";h.Authorization="Basic "+btoa(d+":"+g)}var y=o(e.baseURL,e.url);if(p.open(e.method.toUpperCase(),a(y,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,p.onreadystatechange=function(){if(p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in p?u(p.getAllResponseHeaders()):null,s={data:e.responseType&&"text"!==e.responseType?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:n,config:e,request:p};i(t,r,s),p=null}},p.onabort=function(){p&&(r(l("Request aborted",e,"ECONNABORTED",p)),p=null)},p.onerror=function(){r(l("Network Error",e,null,p)),p=null},p.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),r(l(t,e,"ECONNABORTED",p)),p=null},n.isStandardBrowserEnv()){var m=(e.withCredentials||c(y))&&e.xsrfCookieName?s.read(e.xsrfCookieName):void 0;m&&(h[e.xsrfHeaderName]=m)}if("setRequestHeader"in p&&n.forEach(h,(function(e,t){void 0===f&&"content-type"===t.toLowerCase()?delete h[t]:p.setRequestHeader(t,e)})),n.isUndefined(e.withCredentials)||(p.withCredentials=!!e.withCredentials),e.responseType)try{p.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){p&&(p.abort(),r(e),p=null)})),f||(f=null),p.send(f)}))}},function(e,t,r){"use strict";var n=r(3);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,i,s,a){var o=[];o.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),n.isString(i)&&o.push("path="+i),n.isString(s)&&o.push("domain="+s),!0===a&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,r){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,r){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,r){"use strict";var n=r(3),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,s,a={};return e?(n.forEach(e.split("\n"),(function(e){if(s=e.indexOf(":"),t=n.trim(e.substr(0,s)).toLowerCase(),r=n.trim(e.substr(s+1)),t){if(a[t]&&i.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([r]):a[t]?a[t]+", "+r:r}})),a):a}},function(e,t,r){"use strict";var n=r(3);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function i(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=i(window.location.href),function(t){var r=n.isString(t)?i(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},function(e,t,r){"use strict";var n=r(3),i=r(81),s=r(83),a=r(38),o=r(18),u=r(25),c=r(84).http,l=r(84).https,f=r(11),h=r(8),p=r(166),d=r(39),g=r(82),y=/https:?/;e.exports=function(e){return new Promise((function(t,r){var m=function(e){t(e)},v=function(e){r(e)},C=e.data,E=e.headers;if(E["User-Agent"]||E["user-agent"]||(E["User-Agent"]="axios/"+p.version),C&&!n.isStream(C)){if(Buffer.isBuffer(C));else if(n.isArrayBuffer(C))C=Buffer.from(new Uint8Array(C));else{if(!n.isString(C))return v(d("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",e));C=Buffer.from(C,"utf-8")}E["Content-Length"]=C.length}var b=void 0;e.auth&&(b=(e.auth.username||"")+":"+(e.auth.password||""));var S=s(e.baseURL,e.url),w=f.parse(S),_=w.protocol||"http:";if(!b&&w.auth){var T=w.auth.split(":");b=(T[0]||"")+":"+(T[1]||"")}b&&delete E.Authorization;var A=y.test(_),I=A?e.httpsAgent:e.httpAgent,B={path:a(w.path,e.params,e.paramsSerializer).replace(/^\?/,""),method:e.method.toUpperCase(),headers:E,agent:I,agents:{http:e.httpAgent,https:e.httpsAgent},auth:b};e.socketPath?B.socketPath=e.socketPath:(B.hostname=w.hostname,B.port=w.port);var k,R=e.proxy;if(!R&&!1!==R){var N=_.slice(0,-1)+"_proxy",O=process.env[N]||process.env[N.toUpperCase()];if(O){var x=f.parse(O),L=process.env.no_proxy||process.env.NO_PROXY,D=!0;if(L)D=!L.split(",").map((function(e){return e.trim()})).some((function(e){return!!e&&("*"===e||("."===e[0]&&w.hostname.substr(w.hostname.length-e.length)===e||w.hostname===e))}));if(D&&(R={host:x.hostname,port:x.port,protocol:x.protocol},x.auth)){var P=x.auth.split(":");R.auth={username:P[0],password:P[1]}}}}R&&(B.headers.host=w.hostname+(w.port?":"+w.port:""),function e(t,r,n){if(t.hostname=r.host,t.host=r.host,t.port=r.port,t.path=n,r.auth){var i=Buffer.from(r.auth.username+":"+r.auth.password,"utf8").toString("base64");t.headers["Proxy-Authorization"]="Basic "+i}t.beforeRedirect=function(t){t.headers.host=t.host,e(t,r,t.href)}}(B,R,_+"//"+w.hostname+(w.port?":"+w.port:"")+B.path));var U=A&&(!R||y.test(R.protocol));e.transport?k=e.transport:0===e.maxRedirects?k=U?u:o:(e.maxRedirects&&(B.maxRedirects=e.maxRedirects),k=U?l:c),e.maxBodyLength>-1&&(B.maxBodyLength=e.maxBodyLength);var j=k.request(B,(function(t){if(!j.aborted){var r=t,s=t.req||j;if(204!==t.statusCode&&"HEAD"!==s.method&&!1!==e.decompress)switch(t.headers["content-encoding"]){case"gzip":case"compress":case"deflate":r=r.pipe(h.createUnzip()),delete t.headers["content-encoding"]}var a={status:t.statusCode,statusText:t.statusMessage,headers:t.headers,config:e,request:s};if("stream"===e.responseType)a.data=r,i(m,v,a);else{var o=[];r.on("data",(function(t){o.push(t),e.maxContentLength>-1&&Buffer.concat(o).length>e.maxContentLength&&(r.destroy(),v(d("maxContentLength size of "+e.maxContentLength+" exceeded",e,null,s)))})),r.on("error",(function(t){j.aborted||v(g(t,e,null,s))})),r.on("end",(function(){var t=Buffer.concat(o);"arraybuffer"!==e.responseType&&(t=t.toString(e.responseEncoding),e.responseEncoding&&"utf8"!==e.responseEncoding||(t=n.stripBOM(t))),a.data=t,i(m,v,a)}))}}}));j.on("error",(function(t){j.aborted&&"ERR_FR_TOO_MANY_REDIRECTS"!==t.code||v(g(t,e,null,j))})),e.timeout&&j.setTimeout(e.timeout,(function(){j.abort(),v(d("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",j))})),e.cancelToken&&e.cancelToken.promise.then((function(e){j.aborted||(j.abort(),v(e))})),n.isStream(C)?C.on("error",(function(t){v(g(t,e,null,j))})).pipe(j):j.end(C)}))}},function(e,t,r){var n;e.exports=function(){if(!n)try{n=r(163)("follow-redirects")}catch(e){n=function(){}}n.apply(null,arguments)}},function(e,t,r){"use strict";"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?e.exports=r(164):e.exports=r(165)},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.log=function(){var e;return"object"===("undefined"==typeof console?"undefined":n(console))&&console.log&&(e=console).log.apply(e,arguments)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var n=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(n++,"%c"===e&&(i=n))})),t.splice(i,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){var e;try{e=t.storage.getItem("debug")}catch(e){}!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=r(85)(t),e.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},function(e,t,r){"use strict";var n=r(30),i=r(6);t.init=function(e){e.inspectOpts={};for(var r=Object.keys(t.inspectOpts),n=0;n<r.length;n++)e.inspectOpts[r[n]]=t.inspectOpts[r[n]]},t.log=function(){return process.stderr.write(i.format.apply(i,arguments)+"\n")},t.formatArgs=function(r){var n=this.namespace;if(this.useColors){var i=this.color,s="[3"+(i<8?i:"8;5;"+i),a="  ".concat(s,";1m").concat(n," [0m");r[0]=a+r[0].split("\n").join("\n"+a),r.push(s+"m+"+e.exports.humanize(this.diff)+"[0m")}else r[0]=function(){if(t.inspectOpts.hideDate)return"";return(new Date).toISOString()+" "}()+n+" "+r[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):n.isatty(process.stderr.fd)},t.colors=[6,2,3,4,5,1];try{var s=r(31);s&&(s.stderr||s).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter((function(e){return/^debug_/i.test(e)})).reduce((function(e,t){var r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(function(e,t){return t.toUpperCase()})),n=process.env[t];return n=!!/^(yes|on|true|enabled)$/i.test(n)||!/^(no|off|false|disabled)$/i.test(n)&&("null"===n?null:Number(n)),e[r]=n,e}),{}),e.exports=r(85)(t);var a=e.exports.formatters;a.o=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts).split("\n").map((function(e){return e.trim()})).join(" ")},a.O=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts)}},function(e){e.exports=JSON.parse('{"_from":"axios","_id":"axios@0.21.1","_inBundle":false,"_integrity":"sha512-dKQiRHxGD9PPRIUNIWvZhPTPpl1rf/OxTYKsqKUDjBwYylTvV7SjSHJb9ratfyzM6wCdLCOYLzs73qpg5c4iGA==","_location":"/axios","_phantomChildren":{},"_requested":{"type":"tag","registry":true,"raw":"axios","name":"axios","escapedName":"axios","rawSpec":"","saveSpec":null,"fetchSpec":"latest"},"_requiredBy":["#USER","/","/contentful-management","/gatsby","/google-spreadsheet"],"_resolved":"https://registry.npmjs.org/axios/-/axios-0.21.1.tgz","_shasum":"22563481962f4d6bde9a76d516ef0e5d3c09b2b8","_spec":"axios","_where":"C:\\\\Users\\\\krish\\\\OneDrive\\\\Documents\\\\Acompany\\\\doseBooking-gatsby\\\\dose-booking-gatsby","author":{"name":"Matt Zabriskie"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"bugs":{"url":"https://github.com/axios/axios/issues"},"bundleDependencies":false,"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}],"dependencies":{"follow-redirects":"^1.10.0"},"deprecated":false,"description":"Promise based HTTP client for the browser and node.js","devDependencies":{"bundlesize":"^0.17.0","coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.0.2","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^20.1.0","grunt-karma":"^2.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^1.0.18","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^1.3.0","karma-chrome-launcher":"^2.2.0","karma-coverage":"^1.1.1","karma-firefox-launcher":"^1.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-opera-launcher":"^1.0.0","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^1.2.0","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.7","karma-webpack":"^1.7.0","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^5.2.0","sinon":"^4.5.0","typescript":"^2.8.1","url-search-params":"^0.10.0","webpack":"^1.13.1","webpack-dev-server":"^1.14.1"},"homepage":"https://github.com/axios/axios","jsdelivr":"dist/axios.min.js","keywords":["xhr","http","ajax","promise","node"],"license":"MIT","main":"index.js","name":"axios","repository":{"type":"git","url":"git+https://github.com/axios/axios.git"},"scripts":{"build":"NODE_ENV=production grunt build","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","examples":"node ./examples/server.js","fix":"eslint --fix lib/**/*.js","postversion":"git push && git push --tags","preversion":"npm test","start":"node ./sandbox/server.js","test":"grunt test && bundlesize","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json"},"typings":"./index.d.ts","unpkg":"dist/axios.min.js","version":"0.21.1"}')},function(e,t,r){"use strict";var n=r(87);function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var r=this;e((function(e){r.reason||(r.reason=new n(e),t(r.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},function(e,t,r){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,r){"use strict";e.exports=function(e){return"object"==typeof e&&!0===e.isAxiosError}},function(e,t,r){const n=r(19),{columnToLetter:i}=r(24),{GoogleSpreadsheetFormulaError:s}=r(90);e.exports=class{constructor(e,t,r,n){return this._sheet=e,this._row=t,this._column=r,this._updateRawData(n),this}_updateRawData(e={}){this._rawData=e,this._draftData={},this._error=null,n.get(this._rawData,"effectiveValue.errorValue")&&(this._error=new s(this._rawData.effectiveValue.errorValue))}get rowIndex(){return this._row}get columnIndex(){return this._column}get a1Column(){return i(this._column+1)}get a1Row(){return this._row+1}get a1Address(){return`${this.a1Column}${this.a1Row}`}get value(){if(void 0!==this._draftData.value)throw new Error("Value has been changed");return this._error?this._error:this._rawData.effectiveValue?n.values(this._rawData.effectiveValue)[0]:null}set value(e){if(n.isBoolean(e))this._draftData.valueType="boolValue";else if(n.isString(e))"="===e.substr(0,1)?this._draftData.valueType="formulaValue":this._draftData.valueType="stringValue";else if(n.isFinite(e))this._draftData.valueType="numberValue";else{if(!n.isNil(e))throw new Error("Set value to boolean, string, or number");this._draftData.valueType="stringValue",e=""}this._draftData.value=e}get valueType(){return this._error?"errorValue":this._rawData.effectiveValue?n.keys(this._rawData.effectiveValue)[0]:null}get formattedValue(){return this._rawData.formattedValue||null}set formattedValue(e){throw new Error("You cannot modify the formatted value directly")}get formula(){return n.get(this._rawData,"userEnteredValue.formulaValue",null)}set formula(e){if("="!==e.substr(0,1))throw new Error('formula must begin with "="');this.value=e}get formulaError(){return this._error}get hyperlink(){if(this._draftData.value)throw new Error("Save cell to be able to read hyperlink");return this._rawData.hyperlink}set hyperlink(e){throw new Error('Do not set hyperlink directly. Instead set cell.formula, for example `cell.formula = \'=HYPERLINK("http://google.com", "Google")\'`')}get note(){return void 0!==this._draftData.note?this._draftData.note:this._rawData.note}set note(e){if(null==e&&(e=""),!n.isString(e))throw new Error("Note must be a string");e===this._rawData.note?delete this._draftData.note:this._draftData.note=e}get userEnteredFormat(){return this._rawData.userEnteredFormat}get effectiveFormat(){return this._rawData.effectiveFormat}set userEnteredFormat(e){throw new Error("Do not modify directly, instead use format properties")}set effectiveFormat(e){throw new Error("Read-only")}_getFormatParam(e){if(n.get(this._draftData,"userEnteredFormat."+e))throw new Error("User format is unsaved - save the cell to be able to read it again");return Object.freeze(this._rawData.userEnteredFormat[e])}_setFormatParam(e,t){n.isEqual(t,n.get(this._rawData,"userEnteredFormat."+e))?n.unset(this._draftData,"userEnteredFormat."+e):(n.set(this._draftData,"userEnteredFormat."+e,t),this._draftData.clearFormat=!1)}get numberFormat(){return this._getFormatParam("numberFormat")}get backgroundColor(){return this._getFormatParam("backgroundColor")}get borders(){return this._getFormatParam("borders")}get padding(){return this._getFormatParam("padding")}get horizontalAlignment(){return this._getFormatParam("horizontalAlignment")}get verticalAlignment(){return this._getFormatParam("verticalAlignment")}get wrapStrategy(){return this._getFormatParam("wrapStrategy")}get textDirection(){return this._getFormatParam("textDirection")}get textFormat(){return this._getFormatParam("textFormat")}get hyperlinkDisplayType(){return this._getFormatParam("hyperlinkDisplayType")}get textRotation(){return this._getFormatParam("textRotation")}set numberFormat(e){return this._setFormatParam("numberFormat",e)}set backgroundColor(e){return this._setFormatParam("backgroundColor",e)}set borders(e){return this._setFormatParam("borders",e)}set padding(e){return this._setFormatParam("padding",e)}set horizontalAlignment(e){return this._setFormatParam("horizontalAlignment",e)}set verticalAlignment(e){return this._setFormatParam("verticalAlignment",e)}set wrapStrategy(e){return this._setFormatParam("wrapStrategy",e)}set textDirection(e){return this._setFormatParam("textDirection",e)}set textFormat(e){return this._setFormatParam("textFormat",e)}set hyperlinkDisplayType(e){return this._setFormatParam("hyperlinkDisplayType",e)}set textRotation(e){return this._setFormatParam("textRotation",e)}clearAllFormatting(){this._draftData.clearFormat=!0,delete this._draftData.userEnteredFormat}get _isDirty(){return void 0!==this._draftData.note||(!!n.keys(this._draftData.userEnteredFormat).length||(!!this._draftData.clearFormat||void 0!==this._draftData.value))}discardUnsavedChanges(){this._draftData={}}async save(){await this._sheet.saveUpdatedCells([this])}_getUpdateRequest(){const e=void 0!==this._draftData.value,t=void 0!==this._draftData.note,r=!!n.keys(this._draftData.userEnteredFormat||{}).length,i=this._draftData.clearFormat;if(!n.some([e,t,r,i]))return null;const s={...this._rawData.userEnteredFormat,...this._draftData.userEnteredFormat};return n.get(this._draftData,"userEnteredFormat.backgroundColor")&&delete s.backgroundColorStyle,{updateCells:{rows:[{values:[{...e&&{userEnteredValue:{[this._draftData.valueType]:this._draftData.value}},...t&&{note:this._draftData.note},...r&&{userEnteredFormat:s},...i&&{userEnteredFormat:{}}}]}],fields:n.keys(n.pickBy({userEnteredValue:e,note:t,userEnteredFormat:r||i})).join(","),start:{sheetId:this._sheet.sheetId,rowIndex:this.rowIndex,columnIndex:this.columnIndex}}}}}}]));